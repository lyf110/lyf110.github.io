import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o as l,c,a as n,b as a,d as t,e}from"./app-5f6064b2.js";const o="/assets/1672210026851-5c09d3ce-bb7e-4140-9aef-b0c2278011c6-62aee675.png",r="/assets/1672210072295-617c5616-0a60-476a-9205-2c69b2f04586-81386cd6.png",u="/assets/1672212699428-a143ccc0-ecda-4bac-8b83-12db7ba3dced-6c92f1fd.png",g="/assets/1672212719033-637cef91-7ee6-42d3-81fc-fa6d4b7e150b-621a5ea6.png",d="/assets/1672212787844-163d592f-82ed-44f2-8bdd-892f08cf67a1-02b50a83.png",k="/assets/1672213032095-b513d947-5df4-498a-b3d4-111655e7f542-68058a14.png",v="/assets/1672213224083-014a2152-bf8e-40db-88c0-4b9bd847702a-2d658dd4.png",m="/assets/1672213308896-2b56b7e1-b32d-4289-9f2f-ac16daae5cfd-7c010ff9.png",b="/assets/1672216872852-e3210595-d8e7-42df-a760-b407e15d4958-8afbf353.png",f="/assets/1672217494669-37bdb4af-0619-4a61-9a42-3898853da928-af026208.png",_="/assets/1672223285357-27f76741-9473-4e8b-b9bb-e1a42d12264c-9302420d.png",h="/assets/1672223317069-8c6b59ff-c8e7-41db-ab74-f99b69910e3f-5e50f050.png",E="/assets/1672223360964-ab5618bd-4ea4-463d-ba05-f6a5332c7bdf-dd1b5713.png",R="/assets/1672223417593-c9b31c2b-f992-4450-8172-c4dac017e558-946e2394.png",x="/assets/1672223459770-ce14e0e4-340b-4693-a760-e2f275f2b29e-de9cdb04.png",S="/assets/1672223518390-c7dcce43-1370-43a3-a2b5-0d7c5b027a6b-b4325086.png",N="/assets/1672223565505-b93b653f-ad2e-4314-a729-9d209a779b12-5e9b5ad5.png",y="/assets/1672224209134-2f2c031e-0c2e-434d-9fae-ee946a064439-7cfe4633.png",V="/assets/1672224358557-000ee2c1-392b-4a41-8273-c21203d3843b-5b937b5f.png",$="/assets/1672224408294-2b9a586f-bdb6-4a21-a69c-1325b87cda7a-8fbb7546.png",I={},O=n("h2",{id:"_1、jenkins介绍",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1、jenkins介绍","aria-hidden":"true"},"#"),a(" 1、Jenkins介绍")],-1),j=n("figure",null,[n("img",{src:o,alt:"image.png",tabindex:"0",loading:"lazy"}),n("figcaption",null,"image.png")],-1),q={href:"http://jenkins-ci.org/",target:"_blank",rel:"noopener noreferrer"},A=n("br",null,null,-1),M=e('<ul><li>开源的 Java语言开发持续集成工具，支持持续集成，持续部署。</li><li>易于安装部署配置：可通过 yum安装,或下载war包以及通过docker容器等快速实现安装部署，可方便web界面配置管理。</li><li>消息通知及测试报告：集成 RSS/E-mail通过RSS发布构建结果或当构建完成时通过e-mail通知，生成JUnit/TestNG测试报告。</li><li>分布式构建：支持 Jenkins能够让多台计算机一起构建/测试。</li><li>文件识别： Jenkins能够跟踪哪次构建生成哪些jar，哪次构建使用哪个版本的jar等。</li><li>丰富的插件支持：支持扩展插件，你可以开发适合自己团队使用的工具，如 git，svn，maven，docker等。</li></ul><p>Jenkins安装和持续集成环境配置</p><figure><img src="'+r+`" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><ul><li>首先，开发人员每天进行代码提交，提交到Git仓库</li><li>然后，Jenkins作为持续集成工具，使用Git工具到Git仓库拉取代码到集成服务器，再配合JDK，Maven等软件完成代码编译，代码测试与审查，测试，打包等工作，在这个过程中每一步出错，都重新再执行一次整个流程。</li><li>最后，Jenkins把生成的jar或war包分发到测试服务器或者生产服务器，测试人员或用户就可以访问应用。</li></ul><h2 id="_2、部署安装" tabindex="-1"><a class="header-anchor" href="#_2、部署安装" aria-hidden="true">#</a> 2、部署安装</h2><p>在神领物流项目中采用Docker方式部署Jenkins，部署脚本如下：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">-p</span> <span class="token number">8090</span>:8080 <span class="token punctuation">\\</span>
<span class="token parameter variable">-p</span> <span class="token number">50000</span>:50000 <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /usr/local/src/jenkins:/var/jenkins_home <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span>  /maven:/maven <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /etc/localtime:/etc/localtime <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /usr/bin/docker:/usr/bin/docker <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /var/run/docker.sock:/var/run/docker.sock <span class="token punctuation">\\</span>
<span class="token parameter variable">--privileged</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">--name</span> jenkins <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Shanghai <span class="token punctuation">\\</span>
<span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token punctuation">\\</span>
--add-host<span class="token operator">=</span>git.sl-express.com:192.168.150.101 <span class="token punctuation">\\</span>
--add-host<span class="token operator">=</span>maven.sl-express.com:192.168.150.101 <span class="token punctuation">\\</span>
jenkins/jenkins:lts-jdk11
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7),z=n("br",null,null,-1),G={href:"http://jenkins.sl-express.com/",target:"_blank",rel:"noopener noreferrer"},J=e('<h2 id="_3、系统配置" tabindex="-1"><a class="header-anchor" href="#_3、系统配置" aria-hidden="true">#</a> 3、系统配置</h2><p>Jenkins安装完成后，需要进行一些配置才能正常使用。</p><h3 id="_3-1、配置maven" tabindex="-1"><a class="header-anchor" href="#_3-1、配置maven" aria-hidden="true">#</a> 3.1、配置Maven</h3><figure><img src="'+u+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="'+g+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>在【系统管理】中的【全局工具配置】中进行配置。<br> 指定Maven配置文件：</p><figure><img src="'+d+`" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>配置文件内容如下：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span>
    <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/SETTINGS/1.0.0<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localRepository</span><span class="token punctuation">&gt;</span></span>/maven/repository<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>localRepository</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginGroups</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginGroups</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>proxies</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>proxies</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>server</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>sl-releases<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">&gt;</span></span>deployment<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>username</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">&gt;</span></span>deployment123<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>server</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>server</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>sl-snapshots<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">&gt;</span></span>deployment<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>username</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">&gt;</span></span>deployment123<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>server</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servers</span><span class="token punctuation">&gt;</span></span>
    
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrors</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>mirror<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>central,jcenter,!sl-releases,!sl-snapshots<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mirror<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://maven.aliyun.com/nexus/content/groups/public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrors</span><span class="token punctuation">&gt;</span></span>
    
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profiles</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>sl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>altReleaseDeploymentRepository</span><span class="token punctuation">&gt;</span></span>
					sl-releases::default::http://maven.sl-express.com/nexus/content/repositories/releases/
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>altReleaseDeploymentRepository</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>altSnapshotDeploymentRepository</span><span class="token punctuation">&gt;</span></span>
					sl-snapshots::default::http://maven.sl-express.com/nexus/content/repositories/snapshots/
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>altSnapshotDeploymentRepository</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profiles</span><span class="token punctuation">&gt;</span></span>
    
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeProfiles</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeProfile</span><span class="token punctuation">&gt;</span></span>sl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeProfile</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeProfiles</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2、配置git" tabindex="-1"><a class="header-anchor" href="#_3-2、配置git" aria-hidden="true">#</a> 3.2、配置Git</h3><figure><img src="`+k+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="_3-3、安装gogs插件" tabindex="-1"><a class="header-anchor" href="#_3-3、安装gogs插件" aria-hidden="true">#</a> 3.3、安装Gogs插件</h3><p>我们使用的Git管理工具是Gogs，需要在用户提交代码之后触发自动构建，需要安装Gogs插件。</p><figure><img src="'+v+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>搜索Gogs安装即可。</p><figure><img src="'+m+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>在Gogs中的仓库设置钩子，例如：</p><figure><img src="'+b+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>格式：<code>http://jenkins.sl-express.com/gogs-webhook/?job=xxxx</code></p><h2 id="_4、构建任务" tabindex="-1"><a class="header-anchor" href="#_4、构建任务" aria-hidden="true">#</a> 4、构建任务</h2><p>在提供的虚拟机环境中虽然已经创建好了构建任务，如果不满足需求，可以执行创建任务，可以通过复制的方式完成。<br> 首先点击【新建任务】：</p><figure><img src="'+f+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>输入任务的名称，建议名称就是微服务的名字。</p><figure><img src="'+_+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>选择已有的构建任务：</p><figure><img src="'+h+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>输入任务的名称：</p><figure><img src="'+E+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>设置Gogs钩子：</p><figure><img src="'+R+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>设置构建参数，主要用于构建时的脚本使用：</p><figure><img src="'+x+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>设置git地址，每个项目都不一样，一定要修改！</p><figure><img src="'+S+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>设置构建开始前将workspace删除，确保没有之前编译产物的干扰：</p><figure><img src="'+N+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>设置ssh执行命令，主要是宿主机安装的docker服务具备权限，可以在容器内执行：</p><figure><img src="'+y+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>设置maven打包命令：</p><figure><img src="'+V+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>设置部署的ssh脚本，主要是完成微服务打包成docker镜像进行部署：</p><figure><img src="'+$+`" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>执行命令如下：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 微服务名称</span>
<span class="token assign-left variable">SERVER_NAME</span><span class="token operator">=</span><span class="token variable">\${serverName}</span>

<span class="token comment"># 服务版本</span>
<span class="token assign-left variable">SERVER_VERSION</span><span class="token operator">=</span><span class="token variable">\${version}</span>

<span class="token comment"># 服务版本</span>
<span class="token assign-left variable">SERVER_PORT</span><span class="token operator">=</span><span class="token variable">\${port}</span>

<span class="token comment"># 源jar名称，mvn打包之后，target目录下的jar包名称</span>
<span class="token assign-left variable">JAR_NAME</span><span class="token operator">=</span><span class="token variable">$SERVER_NAME</span>-<span class="token variable">$SERVER_VERSION</span>

<span class="token comment"># jenkins下的目录</span>
<span class="token assign-left variable">JENKINS_HOME</span><span class="token operator">=</span>/var/jenkins_home/workspace/<span class="token variable">$SERVER_NAME</span>

<span class="token builtin class-name">cd</span> <span class="token variable">$JENKINS_HOME</span>

<span class="token comment"># 修改文件权限</span>
<span class="token function">chmod</span> <span class="token number">755</span> target/<span class="token variable">$JAR_NAME</span>.jar

<span class="token function">docker</span> <span class="token parameter variable">-v</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;---------停止容器（<span class="token variable">$SERVER_NAME</span>）---------&quot;</span>
<span class="token function">docker</span> stop <span class="token variable">$SERVER_NAME</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;---------删除容器（<span class="token variable">$SERVER_NAME</span>）---------&quot;</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token variable">$SERVER_NAME</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;---------删除镜像（<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$SERVER_VERSION</span>）---------&quot;</span>
<span class="token function">docker</span> rmi <span class="token variable">$SERVER_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$SERVER_VERSION</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;---------打包镜像（<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$SERVER_VERSION</span>）---------&quot;</span>
<span class="token function">docker</span> build <span class="token parameter variable">-t</span> <span class="token variable">$SERVER_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$SERVER_VERSION</span> <span class="token builtin class-name">.</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;---------运行服务---------&quot;</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token variable">$SERVER_PORT</span>:8080 <span class="token parameter variable">--name</span> <span class="token variable">$SERVER_NAME</span> <span class="token parameter variable">-e</span> <span class="token assign-left variable">SERVER_PORT</span><span class="token operator">=</span><span class="token number">8080</span> <span class="token parameter variable">-e</span> <span class="token assign-left variable">SPRING_CLOUD_NACOS_DISCOVERY_IP</span><span class="token operator">=</span><span class="token variable">\${SPRING_CLOUD_NACOS_DISCOVERY_IP}</span> <span class="token parameter variable">-e</span>  <span class="token assign-left variable">SPRING_CLOUD_NACOS_DISCOVERY_PORT</span><span class="token operator">=</span><span class="token variable">\${port}</span> <span class="token parameter variable">-e</span> <span class="token assign-left variable">SPRING_PROFILES_ACTIVE</span><span class="token operator">=</span>stu <span class="token variable">$SERVER_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$SERVER_VERSION</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后，保存即可。</p>`,45);function w(P,T){const s=i("ExternalLinkIcon");return l(),c("div",null,[O,j,n("p",null,[a("Jenkins 是一款流行的开源持续集成（Continuous Integration）工具，广泛用于项目开发，具有自动化构建、测试和部署等功能。官网： "),n("a",q,[a("http://jenkins-ci.org/"),t(s)]),a("。"),A,a(" Jenkins的特征：")]),M,n("p",null,[a("在部署脚本中指定了时区、hosts并且将宿主机的docker服务映射到容器内部。"),z,a(" 访问地址："),n("a",G,[a("http://jenkins.sl-express.com/"),t(s)]),a(" 用户名密码为：root/123")]),J])}const L=p(I,[["render",w],["__file","Jenkins使用手册.html.vue"]]);export{L as default};
