const l=JSON.parse('{"key":"v-07573632","path":"/middleware/mq/rocketmq/RocketMQ-02.html","title":"二、RocketMQ入门第二天","lang":"zh-CN","frontmatter":{"title":"二、RocketMQ入门第二天","date":"2023-04-06T09:49:10.000Z","order":2,"category":["中间件","mq","阿里","RocketMQ"],"tag":["中间件","mq","阿里","RocketMQ"],"author":{"name":"liuyangfang","link":"https://github.com/lyf110"},"description":"1. 案例介绍 1.1 业务分析 模拟电商网站购物场景中的【下单】和【支付】业务 1）下单 用户请求订单系统下单 订单系统通过RPC调用订单服务下单 订单服务调用优惠券服务，扣减优惠券 订单服务调用调用库存服务，校验并扣减库存 订单服务调用用户服务，扣减用户余额 订单服务完成确认订单 2）支付","head":[["meta",{"property":"og:url","content":"https://github.com/lyf110/middleware/mq/rocketmq/RocketMQ-02.html"}],["meta",{"property":"og:site_name","content":"lyf blog"}],["meta",{"property":"og:title","content":"二、RocketMQ入门第二天"}],["meta",{"property":"og:description","content":"1. 案例介绍 1.1 业务分析 模拟电商网站购物场景中的【下单】和【支付】业务 1）下单 用户请求订单系统下单 订单系统通过RPC调用订单服务下单 订单服务调用优惠券服务，扣减优惠券 订单服务调用调用库存服务，校验并扣减库存 订单服务调用用户服务，扣减用户余额 订单服务完成确认订单 2）支付"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://github.com/lyf110/"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"二、RocketMQ入门第二天"}],["meta",{"property":"article:author","content":"liuyangfang"}],["meta",{"property":"article:tag","content":"中间件"}],["meta",{"property":"article:tag","content":"mq"}],["meta",{"property":"article:tag","content":"阿里"}],["meta",{"property":"article:tag","content":"RocketMQ"}],["meta",{"property":"article:published_time","content":"2023-04-06T09:49:10.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"二、RocketMQ入门第二天\\",\\"image\\":[\\"https://github.com/lyf110/\\"],\\"datePublished\\":\\"2023-04-06T09:49:10.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"liuyangfang\\",\\"link\\":\\"https://github.com/lyf110\\"}]}"]]},"headers":[{"level":2,"title":"1.1 业务分析","slug":"_1-1-业务分析","link":"#_1-1-业务分析","children":[{"level":3,"title":"1）下单","slug":"_1-下单","link":"#_1-下单","children":[]},{"level":3,"title":"2）支付","slug":"_2-支付","link":"#_2-支付","children":[]}]},{"level":2,"title":"1.2 问题分析","slug":"_1-2-问题分析","link":"#_1-2-问题分析","children":[{"level":3,"title":"问题1","slug":"问题1","link":"#问题1","children":[]},{"level":3,"title":"问题2","slug":"问题2","link":"#问题2","children":[]}]},{"level":2,"title":"2.1 技术选型","slug":"_2-1-技术选型","link":"#_2-1-技术选型","children":[]},{"level":2,"title":"2.2 SpringBoot整合RocketMQ","slug":"_2-2-springboot整合rocketmq","link":"#_2-2-springboot整合rocketmq","children":[{"level":3,"title":"2.2.1 消息生产者","slug":"_2-2-1-消息生产者","link":"#_2-2-1-消息生产者","children":[]},{"level":3,"title":"2.2.2 消息消费者","slug":"_2-2-2-消息消费者","link":"#_2-2-2-消息消费者","children":[]}]},{"level":2,"title":"2.3 SpringBoot整合Dubbo","slug":"_2-3-springboot整合dubbo","link":"#_2-3-springboot整合dubbo","children":[{"level":3,"title":"2.3.1 搭建Zookeeper集群","slug":"_2-3-1-搭建zookeeper集群","link":"#_2-3-1-搭建zookeeper集群","children":[]},{"level":3,"title":"2.3.2 RPC服务接口","slug":"_2-3-2-rpc服务接口","link":"#_2-3-2-rpc服务接口","children":[]},{"level":3,"title":"2.3.3 服务提供者","slug":"_2-3-3-服务提供者","link":"#_2-3-3-服务提供者","children":[]},{"level":3,"title":"2.3.4 服务消费者","slug":"_2-3-4-服务消费者","link":"#_2-3-4-服务消费者","children":[]}]},{"level":2,"title":"2.4 SpringBoot整合Nacos","slug":"_2-4-springboot整合nacos","link":"#_2-4-springboot整合nacos","children":[]},{"level":2,"title":"3.1 数据库","slug":"_3-1-数据库","link":"#_3-1-数据库","children":[{"level":3,"title":"1）优惠券表","slug":"_1-优惠券表","link":"#_1-优惠券表","children":[]},{"level":3,"title":"2）商品表","slug":"_2-商品表","link":"#_2-商品表","children":[]},{"level":3,"title":"3）订单表","slug":"_3-订单表","link":"#_3-订单表","children":[]},{"level":3,"title":"4）订单商品日志表","slug":"_4-订单商品日志表","link":"#_4-订单商品日志表","children":[]},{"level":3,"title":"5）用户表","slug":"_5-用户表","link":"#_5-用户表","children":[]},{"level":3,"title":"6）用户余额日志表","slug":"_6-用户余额日志表","link":"#_6-用户余额日志表","children":[]},{"level":3,"title":"7）订单支付表","slug":"_7-订单支付表","link":"#_7-订单支付表","children":[]},{"level":3,"title":"8）MQ消息生产表","slug":"_8-mq消息生产表","link":"#_8-mq消息生产表","children":[]},{"level":3,"title":"9）MQ消息消费表","slug":"_9-mq消息消费表","link":"#_9-mq消息消费表","children":[]},{"level":3,"title":"10）对应的SQL","slug":"_10-对应的sql","link":"#_10-对应的sql","children":[]}]},{"level":2,"title":"3.2 项目初始化","slug":"_3-2-项目初始化","link":"#_3-2-项目初始化","children":[{"level":3,"title":"3.1.1 工程浏览","slug":"_3-1-1-工程浏览","link":"#_3-1-1-工程浏览","children":[]},{"level":3,"title":"3.1.2 工程关系","slug":"_3-1-2-工程关系","link":"#_3-1-2-工程关系","children":[]}]},{"level":2,"title":"3.3 Mybatis逆向工程使用","slug":"_3-3-mybatis逆向工程使用","link":"#_3-3-mybatis逆向工程使用","children":[{"level":3,"title":"1）代码生成","slug":"_1-代码生成","link":"#_1-代码生成","children":[]},{"level":3,"title":"2）代码导入","slug":"_2-代码导入","link":"#_2-代码导入","children":[]}]},{"level":2,"title":"3.4 公共类介绍","slug":"_3-4-公共类介绍","link":"#_3-4-公共类介绍","children":[]},{"level":2,"title":"4.1 下单基本流程","slug":"_4-1-下单基本流程","link":"#_4-1-下单基本流程","children":[{"level":3,"title":"1）接口定义","slug":"_1-接口定义","link":"#_1-接口定义","children":[]},{"level":3,"title":"9）小结","slug":"_9-小结","link":"#_9-小结","children":[]}]},{"level":2,"title":"4.2 失败补偿机制","slug":"_4-2-失败补偿机制","link":"#_4-2-失败补偿机制","children":[{"level":3,"title":"4.2.1 消息发送方","slug":"_4-2-1-消息发送方","link":"#_4-2-1-消息发送方","children":[]},{"level":3,"title":"4.2.2 消费接收方","slug":"_4-2-2-消费接收方","link":"#_4-2-2-消费接收方","children":[]}]},{"level":2,"title":"4.3 测试","slug":"_4-3-测试","link":"#_4-3-测试","children":[{"level":3,"title":"1）准备测试环境","slug":"_1-准备测试环境","link":"#_1-准备测试环境","children":[]}]},{"level":2,"title":"5.1 创建支付订单","slug":"_5-1-创建支付订单","link":"#_5-1-创建支付订单","children":[]},{"level":2,"title":"5.2 支付回调","slug":"_5-2-支付回调","link":"#_5-2-支付回调","children":[{"level":3,"title":"5.2.1 流程分析","slug":"_5-2-1-流程分析","link":"#_5-2-1-流程分析","children":[]},{"level":3,"title":"5.2.2 代码实现","slug":"_5-2-2-代码实现","link":"#_5-2-2-代码实现","children":[]},{"level":3,"title":"5.2.3","slug":"_5-2-3","link":"#_5-2-3","children":[]},{"level":3,"title":"处理消息","slug":"处理消息","link":"#处理消息","children":[]}]},{"level":2,"title":"6.1 准备工作","slug":"_6-1-准备工作","link":"#_6-1-准备工作","children":[{"level":3,"title":"1）配置RestTemplate类","slug":"_1-配置resttemplate类","link":"#_1-配置resttemplate类","children":[]},{"level":3,"title":"2）配置请求地址","slug":"_2-配置请求地址","link":"#_2-配置请求地址","children":[]}]},{"level":2,"title":"6.2 下单测试","slug":"_6-2-下单测试","link":"#_6-2-下单测试","children":[]},{"level":2,"title":"6.3 支付测试","slug":"_6-3-支付测试","link":"#_6-3-支付测试","children":[]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":24.22,"words":7267},"filePathRelative":"middleware/mq/rocketmq/RocketMQ-02.md","localizedDate":"2023年4月6日","excerpt":"<h1> 1. 案例介绍</h1>\\n<h2> 1.1 业务分析</h2>\\n<p>模拟电商网站购物场景中的【下单】和【支付】业务</p>\\n<h3> 1）下单</h3>\\n<figure><figcaption></figcaption></figure>\\n<ol>\\n<li>用户请求订单系统下单</li>\\n<li>订单系统通过RPC调用订单服务下单</li>\\n<li>订单服务调用优惠券服务，扣减优惠券</li>\\n<li>订单服务调用调用库存服务，校验并扣减库存</li>\\n<li>订单服务调用用户服务，扣减用户余额</li>\\n<li>订单服务完成确认订单</li>\\n</ol>\\n<hr>\\n<h3> 2）支付</h3>","copyright":{"author":"liu yang fang","license":"Apache License 2.0"},"autoDesc":true}');export{l as data};
