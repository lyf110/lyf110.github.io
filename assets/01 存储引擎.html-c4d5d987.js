import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o as d,c as r,a,b as n,d as e,e as o}from"./app-5f6064b2.js";const l="/assets/202210111039314-ddc8e42e.jpeg",p="/assets/202210111042964-beec5962.jpeg",c="/assets/202210111050674-4204b5bf.png",u="/assets/202210111053519-caa0b644.png",h="/assets/202210111055475-855176e8.png",g="/assets/202210111103225-5ce659cc.png",m="data:image/png;base64,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",A="/assets/202210111105608-2132652b.png",b="/assets/202210111109831-b60b0b46.png",y="/assets/202210111110597-66c79c92.png",k="data:image/png;base64,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",f={},v=o('<h1 id="_1-存储引擎" tabindex="-1"><a class="header-anchor" href="#_1-存储引擎" aria-hidden="true">#</a> 1. 存储引擎</h1><h2 id="_1-1-mysql体系结构" tabindex="-1"><a class="header-anchor" href="#_1-1-mysql体系结构" aria-hidden="true">#</a> 1.1 MySQL体系结构</h2><figure><img src="'+l+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_1-连接层" tabindex="-1"><a class="header-anchor" href="#_1-连接层" aria-hidden="true">#</a> 1). 连接层</h3><p>最上层是一些客户端和链接服务，包含本地sock 通信和大多数基于客户端/服务端工具实现的类似于 TCP/IP的通信。主要完成一些类似于连接处理、授权认证、及相关的安全方案。在该层上引入了线程池的概念，为通过认证安全接入的客户端提供线程。同样在该层上可以实现基于SSL的安全链接。服务器也会为安全接入的每个客户端验证它所具有的操作权限。</p><h3 id="_2-服务层" tabindex="-1"><a class="header-anchor" href="#_2-服务层" aria-hidden="true">#</a> 2). 服务层</h3><p>第二层架构主要完成大多数的核心服务功能，如SQL接口，并完成缓存的查询，SQL的分析和优化，部分内置函数的执行。所有跨存储引擎的功能也在这一层实现，如过程、函数等。在该层，服务器会解析查询并创建相应的内部解析树，并对其完成相应的优化如确定表的查询的顺序，是否利用索引等， 最后生成相应的执行操作。如果是select语句，服务器还会查询内部的缓存，如果缓存空间足够大， 这样在解决大量读操作的环境中能够很好的提升系统的性能。</p><h3 id="_3-引擎层" tabindex="-1"><a class="header-anchor" href="#_3-引擎层" aria-hidden="true">#</a> 3). 引擎层</h3><p>存储引擎层， 存储引擎真正的负责了MySQL中数据的存储和提取，服务器通过API和存储引擎进行通信。不同的存储引擎具有不同的功能，这样我们可以根据自己的需要，来选取合适的存储引擎。数据库中的索引是在存储引擎层实现的。</p><h3 id="_4-存储层" tabindex="-1"><a class="header-anchor" href="#_4-存储层" aria-hidden="true">#</a> 4). 存储层</h3><p>数据存储层，主要是将数据(如: redolog、undolog、数据、索引、二进制日志、错误日志、查询日志、慢查询日志等)存储在文件系统之上，并完成与存储引擎的交互。和其他数据库相比，MySQL有点与众不同，它的架构可以在多种不同场景中应用并发挥良好作用。主要体现在存储引擎上，插件式的存储引擎架构，将查询处理和其他的系统任务以及数据的存储提取分离。 这种架构可以根据业务的需求和实际需要选择合适的存储引擎。</p><h2 id="_1-2-存储引擎介绍" tabindex="-1"><a class="header-anchor" href="#_1-2-存储引擎介绍" aria-hidden="true">#</a> 1.2 存储引擎介绍</h2><figure><img src="'+p+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>大家可能没有听说过存储引擎，但是一定听过引擎这个词，引擎就是发动机，是一个机器的核心组件。 比如，对于舰载机、直升机、火箭来说，他们都有各自的引擎，是他们最为核心的组件。而我们在选择 引擎的时候，需要在合适的场景，选择合适的存储引擎，就像在直升机上，我们不能选择舰载机的引擎一样。</p><p>而对于存储引擎，也是一样，他是mysql数据库的核心，我们也需要在合适的场景选择合适的存储引擎。接下来就来介绍一下存储引擎。</p><p>存储引擎就是存储数据、建立索引、更新/查询数据等技术的实现方式 。<strong>存储引擎是基于表的，而不是基于库的</strong>，所以存储引擎也可被称为<strong>表类型</strong>。我们可以在创建表的时候，来指定选择的存储引擎，如果没有指定将自动选择默认的存储引擎。</p><h3 id="_1-建表时指定存储引擎" tabindex="-1"><a class="header-anchor" href="#_1-建表时指定存储引擎" aria-hidden="true">#</a> 1). 建表时指定存储引擎</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">(</span>
    字段<span class="token number">1</span> 字段<span class="token number">1</span>类型 <span class="token punctuation">[</span> <span class="token keyword">COMMENT</span> 字段<span class="token number">1</span>注释 <span class="token punctuation">]</span> <span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    字段n 字段n类型 <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> 字段n注释 <span class="token punctuation">]</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">INNODB</span> <span class="token punctuation">[</span> <span class="token keyword">COMMENT</span> 表注释 <span class="token punctuation">]</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-查询当前数据库支持的存储引擎" tabindex="-1"><a class="header-anchor" href="#_2-查询当前数据库支持的存储引擎" aria-hidden="true">#</a> 2). 查询当前数据库支持的存储引擎</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">show</span> engines<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+c+`" alt="image-20221011105010514" tabindex="0" loading="lazy"><figcaption>image-20221011105010514</figcaption></figure><h3 id="_3-示例演示" tabindex="-1"><a class="header-anchor" href="#_3-示例演示" aria-hidden="true">#</a> 3). 示例演示:</h3><h4 id="a-查询建表语句-默认存储引擎-innodb" tabindex="-1"><a class="header-anchor" href="#a-查询建表语句-默认存储引擎-innodb" aria-hidden="true">#</a> A. 查询建表语句 --- 默认存储引擎: InnoDB</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> account<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+u+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>我们可以看到，创建表时，即使我们没有指定存储引擎，数据库也会自动选择默认的存储引擎。</p><h4 id="b-查询当前数据库支持的存储引擎" tabindex="-1"><a class="header-anchor" href="#b-查询当前数据库支持的存储引擎" aria-hidden="true">#</a> B. 查询当前数据库支持的存储引擎</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> ENGINES<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+h+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="c-创建表-my-myisam-并指定myisam存储引擎" tabindex="-1"><a class="header-anchor" href="#c-创建表-my-myisam-并指定myisam存储引擎" aria-hidden="true">#</a> C. 创建表 my_myisam , 并指定MyISAM存储引擎</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> my_myisam<span class="token punctuation">(</span>
    id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">engine</span> <span class="token operator">=</span> MyISAM <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="d-创建表-my-memory-指定memory存储引擎" tabindex="-1"><a class="header-anchor" href="#d-创建表-my-memory-指定memory存储引擎" aria-hidden="true">#</a> D. 创建表 my_memory , 指定Memory存储引擎</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> my_memory<span class="token punctuation">(</span>
    id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">engine</span> <span class="token operator">=</span> Memory <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-3-存储引擎特点" tabindex="-1"><a class="header-anchor" href="#_1-3-存储引擎特点" aria-hidden="true">#</a> 1.3 存储引擎特点</h2><p>上面我们介绍了什么是存储引擎，以及如何在建表时如何指定存储引擎，接下来我们就来介绍下来上面重点提到的三种存储引擎 InnoDB、MyISAM、Memory的特点。</p><h3 id="_1-3-1-innodb" tabindex="-1"><a class="header-anchor" href="#_1-3-1-innodb" aria-hidden="true">#</a> 1.3.1 InnoDB</h3><h4 id="_1-介绍" tabindex="-1"><a class="header-anchor" href="#_1-介绍" aria-hidden="true">#</a> 1). 介绍</h4><p>InnoDB是一种兼顾高可靠性和高性能的通用存储引擎，在 MySQL 5.5 之后，InnoDB是默认的MySQL存储引擎。</p><h4 id="_2-特点" tabindex="-1"><a class="header-anchor" href="#_2-特点" aria-hidden="true">#</a> 2). 特点</h4><ul><li><p>DML操作遵循ACID模型，支持事务；</p></li><li><p>行级锁，提高并发访问性能；</p></li><li><p>支持外键FOREIGN KEY约束，保证数据的完整性和正确性；</p></li></ul><h4 id="_3-文件" tabindex="-1"><a class="header-anchor" href="#_3-文件" aria-hidden="true">#</a> 3). 文件</h4><p>xxx.ibd：xxx代表的是表名，innoDB引擎的每张表都会对应这样一个表空间文件，存储该表的表结构（frm-早期的 、sdi-新版的）、数据和索引。</p><p>参数：innodb_file_per_table</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">&#39;innodb_file_per_table&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+g+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果该参数开启，代表对于InnoDB引擎的表，每一张表都对应一个ibd文件。 我们直接打开MySQL的</p><p>数据存放目录： C:\\ProgramData\\MySQL\\MySQL Server 8.0\\Data ， 这个目录下有很多文件 夹，不同的文件夹代表不同的数据库，我们直接打开itcast文件夹。</p><figure><img src="'+m+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>可以看到里面有很多的ibd文件，每一个ibd文件就对应一张表，比如：我们有一张表 account，就有这样的一个account.ibd文件，而在这个ibd文件中不仅存放表结构、数据，还会存放该表对应的索引信息。 而该文件是基于二进制存储的，不能直接基于记事本打开，我们可以使用mysql提供的一个指令 ibd2sdi ，通过该指令就可以从ibd文件中提取sdi信息，而sdi数据字典信息中就包含该表的表结构。</p><figure><img src="'+A+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果是在docker环境中，一般该文件会在</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/var/lib/mysql/itcast
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+b+'" alt="image-20221011110946062" tabindex="0" loading="lazy"><figcaption>image-20221011110946062</figcaption></figure><p>4). 逻辑存储结构</p><figure><img src="'+y+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li><p>表空间 : InnoDB存储引擎逻辑结构的最高层，ibd文件其实就是表空间文件，在表空间中可以包含多个Segment段。</p></li><li><p>段 : 表空间是由各个段组成的， 常见的段有数据段、索引段、回滚段等。InnoDB中对于段的管理，都是引擎自身完成，不需要人为对其控制，一个段中包含多个区。</p></li><li><p>区 : 区是表空间的单元结构，每个区的大小为1M。 默认情况下， InnoDB存储引擎页大小为 16K， 即一个区中一共有64个连续的页。</p></li><li><p>页 : 页是组成区的最小单元，<strong>页也是InnoDB 存储引擎磁盘管理的最小单元</strong>，每个页的大小默认为 16KB。为了保证页的连续性，InnoDB 存储引擎每次从磁盘申请 4-5 个区。</p></li><li><p>行 : InnoDB 存储引擎是面向行的，也就是说数据是按行进行存放的，在每一行中除了定义表时所指定的字段以外，还包含两个隐藏字段(后面会详细介绍)。</p></li></ul><h3 id="_1-3-2-myisam" tabindex="-1"><a class="header-anchor" href="#_1-3-2-myisam" aria-hidden="true">#</a> 1.3.2 MyISAM</h3><h4 id="_1-介绍-1" tabindex="-1"><a class="header-anchor" href="#_1-介绍-1" aria-hidden="true">#</a> 1). 介绍</h4><p>MyISAM是MySQL早期的默认存储引擎。</p><h4 id="_2-特点-1" tabindex="-1"><a class="header-anchor" href="#_2-特点-1" aria-hidden="true">#</a> 2). 特点</h4><ul><li>不支持事务，不支持外键</li><li>支持表锁，不支持行锁访问速度快</li></ul><h4 id="_3-文件-1" tabindex="-1"><a class="header-anchor" href="#_3-文件-1" aria-hidden="true">#</a> 3). 文件</h4><ul><li>xxx.sdi：存储表结构信息</li><li>xxx.MYD: 存储数据</li><li>xxx.MYI: 存储索引</li></ul><figure><img src="'+k+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_1-3-3-memory" tabindex="-1"><a class="header-anchor" href="#_1-3-3-memory" aria-hidden="true">#</a> 1.3.3 Memory</h3><h4 id="_1-介绍-2" tabindex="-1"><a class="header-anchor" href="#_1-介绍-2" aria-hidden="true">#</a> 1). 介绍</h4><p>Memory引擎的表数据时存储在内存中的，由于受到硬件问题、或断电问题的影响，只能将这些表作为临时表或缓存使用。</p><h4 id="_2-特点-2" tabindex="-1"><a class="header-anchor" href="#_2-特点-2" aria-hidden="true">#</a> 2). 特点</h4><p>内存存放</p><p>hash索引（默认）</p><h4 id="_3-文件-2" tabindex="-1"><a class="header-anchor" href="#_3-文件-2" aria-hidden="true">#</a> 3).文件</h4><p>xxx.sdi：存储表结构信息</p><h3 id="_1-3-4-区别及特点" tabindex="-1"><a class="header-anchor" href="#_1-3-4-区别及特点" aria-hidden="true">#</a> 1.3.4 区别及特点</h3><table><thead><tr><th><strong>特点</strong></th><th><strong>InnoDB</strong></th><th><strong>MyISAM</strong></th><th><strong>Memory</strong></th></tr></thead><tbody><tr><td>存储限制</td><td>64TB</td><td>有</td><td>有</td></tr><tr><td><strong>事务安全</strong></td><td><strong>支持</strong></td><td>-</td><td>-</td></tr><tr><td><strong>锁机制</strong></td><td><strong>行锁</strong></td><td>表锁</td><td>表锁</td></tr><tr><td>B+tree索引</td><td>支持</td><td>支持</td><td>支持</td></tr><tr><td>Hash索引</td><td>-</td><td>-</td><td>支持</td></tr><tr><td>全文索引</td><td>支持(5.6版本之后)</td><td>支持</td><td>-</td></tr><tr><td>空间使用</td><td>高</td><td>低</td><td>N/A</td></tr><tr><td>内存使用</td><td>高</td><td>低</td><td>中等</td></tr><tr><td>批量插入速度</td><td>低</td><td>高</td><td>高</td></tr><tr><td><strong>支持外键</strong></td><td><strong>支持</strong></td><td>-</td><td>-</td></tr></tbody></table><h3 id="_1-3-5-面试题-innodb引擎与myisam引擎的区别" tabindex="-1"><a class="header-anchor" href="#_1-3-5-面试题-innodb引擎与myisam引擎的区别" aria-hidden="true">#</a> 1.3.5 面试题（InnoDB引擎与MyISAM引擎的区别 ?）</h3>',75),x=a("br",null,null,-1),_=a("br",null,null,-1),M=a("br",null,null,-1),I=a("br",null,null,-1),S=a("br",null,null,-1),B=a("br",null,null,-1),K={href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-introduction.html",target:"_blank",rel:"noopener noreferrer"},w=a("br",null,null,-1),E={href:"https://dev.mysql.com/doc/refman/8.0/en/myisam-storage-engine.html",target:"_blank",rel:"noopener noreferrer"},D=a("h2",{id:"_1-4-存储引擎选择",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#_1-4-存储引擎选择","aria-hidden":"true"},"#"),n(" 1.4 存储引擎选择")],-1),W=a("p",null,"在选择存储引擎时，应该根据应用系统的特点选择合适的存储引擎。对于复杂的应用系统，还可以根据实际情况选择多种存储引擎进行组合。",-1),F=a("ul",null,[a("li",null,[a("p",null,"InnoDB: 是Mysql的默认存储引擎，支持事务、外键。如果应用对事务的完整性有比较高的要求，在并发条件下要求数据的一致性，数据操作除了插入和查询之外，还包含很多的更新、删除操 作，那么InnoDB存储引擎是比较合适的选择。")]),a("li",null,[a("p",null,"MyISAM ： 如果应用是以读操作和插入操作为主，只有很少的更新和删除操作，并且对事务的完整性、并发性要求不是很高，那么选择这个存储引擎是非常合适的。")]),a("li",null,[a("p",null,"MEMORY：将所有数据保存在内存中，访问速度快，通常用于临时表及缓存。MEMORY的缺陷就是对表的大小有限制，太大的表无法缓存在内存中，而且无法保障数据的安全性。")])],-1);function J(L,V){const s=i("ExternalLinkIcon");return d(),r("div",null,[v,a("p",null,[n("InnoDB引擎与MyISAM引擎的区别 ?"),x,n(" ①. InnoDB引擎, 支持事务, 而MyISAM不支持。"),_,n(" ②. InnoDB引擎, 支持行锁和表锁, 而MyISAM仅支持表锁, 不支持行锁。"),M,n(" ③. InnoDB引擎, 支持外键, 而MyISAM是不支持的。"),I,n(" 主要是上述三点区别，当然也可以从索引结构、存储限制等方面，更加深入的回答，具体参"),S,n(" 考如下官方文档："),B,a("a",K,[n("https://dev.mysql.com/doc/refman/8.0/en/innodb-introduction.html"),e(s)]),w,a("a",E,[n("https://dev.mysql.com/doc/refman/8.0/en/myisam-storage-engine.html"),e(s)])]),D,W,F])}const R=t(f,[["render",J],["__file","01 存储引擎.html.vue"]]);export{R as default};
