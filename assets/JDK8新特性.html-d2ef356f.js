import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as e,o,c,a as s,b as n,d as l,w as u,e as a}from"./app-5f6064b2.js";const i="/assets/image-20230414123305349-5d0ff99e.png",k="/assets/image-20230414132257917-86dbb842.png",r="/assets/image-20230414133554704-f40b6b04.png",d="/assets/image-20230414133748180-f6417d6a.png",m="/assets/image6-1db9b2a8.png",v="/assets/image7-d21a36d3.png",b="/assets/image8-c50b8381.jpeg",g="/assets/image9-b04733bd.jpeg",f="/assets/image10-e700f61b.jpeg",A="/assets/image11-5a681817.jpeg",h="/assets/image12-268b85f5.jpeg",y="/assets/image13-9fed9eb7.jpeg",q="/assets/image14-a6d6d74c.jpeg",w="/assets/image15-136b6579.jpeg",S="/assets/image16-8a47db50.jpeg",T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPkAAABECAIAAADMeQRsAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAN3UlEQVR4nO2d229cx33H5zcz57q73CW5yxXvpFa0JJOSdXF9SYIqbZIHw0WLtGgMI0UCFEXzUBRtn+q+9A9o0jy0TVsghVGglzSCi7oBnDRuXIeObThWbMWWY10oiaQkiqR4We4u93IuM78+rBzT0tnLoXa5JM/5iA+i9jezc875zszvN/M7I0BEEhISAGinGxASskOEWg8JCqHWQ4JCqPWQoMDv+X16eroj7QgJaRNnzpyp/uVerW/9LCRkr7N17A59mJCgEGo9JCiEWg8JCqHWQ4JCqPWQoBBqPSQohFoPCQqh1kOCgsdeUn2E61Y2c8vzM4W1Zce27zeglKaGMwMTk4wrrWjhrgHRtspz758rrN+5Pw0aAFTd6E4PpUYyqhEBgA60MKQu/rTuWJWl2Us/+8HZwvodlIjEI/cdAOKp/uTQmBFLtKiRuwIkpLB2552XX7DKRU8DAKCUpUYyjz71TO/ACEA4Z+4ufGhduu7y7OXp7/wjEmJ2dWtmlDJ2vxkAHTg0qZnR1jVyVwBA4qn+8WOPrS3Oe3yMxHXs8mbuzvzVH//bt576w+fMeE8nR3dEtAUREjROWNjrCPGl9XIxf+5/ziLBngPDT/7WV2K9KUq9igOhlAHdf/cXmKI+9hvPovSYzZCgcJy123Nvfe9fCuurr//n85//yp8wRd35VhJCiES5aVX+4x25XNCePcUHEqArhAbdrfKhyDvzM/nVZSPa9akvfrW7f1jRDKYoHj9c2Y9CJ6TqpTDuedVcUTUzkh47fOoLv0MpXbl5rVTIder9Rilk8a1r9ptz7pU7pW/8X/nlizJXRld2pDG7Bx+izK0uIUojFo/2pMLYyxPGWN/oBOOKcBy7XCQd0rrrOOWVDeIKggQ3bfvFC6V/PefeymLF7VSTdgM+tO7aFiGEMYVSDzc9hBBCALiqAaWIUkrRqVYIIRzH/fh3V7pv3yj9w+vOh4uyZBMZ0AF+fzobIfeO34i4kCv9/evlly/KfCWY/ozv9fXtgkjuewBbuesVNe8aVZ3hmhUCgJ/aqhXWm9/9V9ghkBDv1WBCKo7z4gfi/IL5tU+zvhhw1rYLauZmkiaeYFM2TT6XndE6SukKUZHoeMsdKAXOmEZpkwsXKIQlpS3R2wEFoEAVRnVKWTM3AlFKaQtpIQqPCgGAUEoVxnSA3e6/IUF0hLLsvQlAhJSza8W/+pH2zCnt0RFQWy8ARCmlI6Ul0fU0AEKBcgCK0q1rwwBYXRugVKFUo7SpXcu2a10Iq1iam5v/bjZ3wbLWpPTYagWgqpKIREbHRr6USj4JUK9VQlhr62/fXHgxX7hm21lED7eYAle13u745PjYl6PRDK1XITpOYWn5lYXFH5ZKN20n7zmKMKbpWl8q+cTo8JcM40DbB3iJMlu0/vcKFi3fZRHdpbx6NVvbgOB62Xr+p2JmxfjiIzSmkdatNNjOxsLtlxaXXilXFl1n03N+4dzUtCQFblmrjlvwnAE4MzStl1LNslcdJ+9pw5iua6lU8smRod82zAFo5JC3V+tS2vnCpXff+wvb3kAUdSajsliuWKsbuV9MPfxcf/pztYZPKd2FxZcuXfk7IcqIslaFktiiVK5Ultaz50+d+HpX7KFau5iOU5i59u2bC9+T0q5XoXRct1gq3drY+OD0qW8qPNbo0h8I13aK//wWfrBMvNbyG4PYoCAiWo7z6oyYXzeePc3HekFpwXzlupu/uPj1lZU3hLTq3Ezbtm07BwCIWNNG2raTr28jpe26m8XSjVzh0vHJvzT0A/Wb197Y1HVLczfO2tYaoltH6IQQQhDRdd3i/I3vSunUsJBCFGfn/t11i/V7DiEECUrpWHb25q3/whqTICFYrizfXvqhEJVGFSKiFNLOFa4sL79a90IeFEQsF0vy6ipxBBFyOz/N9BAkxJXy6mrpm6/a5+blprXNfrWF5Tuvra297Ypyw6dTvZ8PblP1l7LZ91ZW32zYvPZqXUo7m/15jUDJEyyWbrmihq9JiG3nyuXbje7R1gY42dyFWg4foiwUZoRbbrpCRHRX1881+e3bxrYsz93Z1iMRC1bl+bdKZ98R2RI6D7ROur5xXki7+afTKhDF5ub1hmbt1ToSKaRPjxNl7d6MQlb89BxCCEGUtUogQSHKfiusNe20EFl74m4HWHHd164X/+bHzuwalmusHzSBENbOC72KZ9h2D+1eX4e6caFnCWBUqxX8+a6NEEa1WpEkEEKp4jfQ5Mz024Y9gCvl7Hr5Wz+pTM9g0SZiOwvw3vlRO0IzK3jt1ToQYMzwVYSCAjWXkIAx05c0AYDzCNQsQjmP+FyDAEXZbymcd5GIa0X7hZ8Xv/MzkS1tw31n1OjQFgQwpjc0arPWgSpKl68ijBt17halCmO+kgeB80itBwAAqtrtc8UNFCXux36PgRXXfWO2+MK7ruXbVVPVeKey9juvdQJUVXt8leCs3tgAwDirqV0PewIKj9ZWM3Ae8bU9BISo+1rrpBoVza+VizVXCGqhqt0d0npT7kO7fRiqqv6UQaleU8oAAMyfUwTAmFnbhyEAnIKfdwUBON+nPgwhhBAE4qgwfyrigG+XXVUSHcmwgmpU1oj2BhMA4DeSo5TXCSUBgLLGV7W1UP3oE4D5HYpoE7d1jyIoWUqIuRPm2OEBw/QdgnNudirZG5oIi9sdOEOTuQofF2jgUQD1mZFSv0IgQHxqHfZpSnNFwWsjuHk8mTmSGRwe1jTfXbrpdKZWAwRI44fSZq0D9TsKUlDqjAwAAMA/2jpusgV1VxWB+hzXoZnpcm+BQLIRefUwM6aGjk4cTKX7NE2j/l8uo1RtmJTSHqCZ5c72ap0CM81BAIrYpPMHut5X2+cDAK7rfbn8xWYbQJlpDNZRM2M6v7uO2UznAUq5aQ41+e17AkHJUo+cPWEOHB0fHh9LdCc459tzRQxjgDHNz+NuDUCopqUamrW3F1KqdMePKzzWzNgJQBUe7Ut+uo4xAB/sf4oxvbkKmcK7EoljdYwVHu0/8HnGagfEW6BUiUUPaWpvQ8sHBYitU2yz64tAbE7OZ5yFM8mJx49PPHykp7dHUZRt+9yqEk/2PsHqrqS1HACWSEzFogcbWrY7NuWGceD0yW9cuvK3hc3rW1KC8O6fjy0ZY8bEwd9PJp+o42ED0GTvY1NHn5u5/m3LWtuSTXDvqxsUuKYnJ4/+uWkM1GkhY/ro8O9Sqs3fOOuK0sdbzXedpLsVAgGgSqLr6NEjf8b8BcfbgSn8+uno4Bvr3PGbwUCAEEDCBdC6BSUleRM/fJjGpjJjhzKpvpSmaQ8YWVKqHMr8AeeRW7e/Lz+R6viJxw0EgDIgDImsZwMMKEOsaUMIUMoS8akjD/1xM4tjbd/UZcyId02ePvnXhcLVirUipVXNX0MUH/0gAHAeS8Qno5GxhqvdjBkH0r/e3X2iWJy1rLXq6xrVqiQKghIJAlBN7e3pPqFqvY3SCkBVE2Mjz6T7Plss3XDsDSSyWqFEFz+qkFLV0Pu7E8cVpWsHBi09YhqPDL+r25VS2XcSGKKac05cod2b3rMZEiIZudEnFqeiByYPjo6PxeNxzluiBNC15ETma4MDT5dKtxwnj0RWE5y23kxGNdMcVNUey1qxnVxVyiiFRIHo/vKGm0a/pvVZ1qrt3E0IR/nLpyyQIKWKofcnEsdUJd7MJslOJDBQylUa7+053boKFUNPG3q6RfUBY3o0MhqNjLaowgcCAHRdP5jJ9CaTjuP4PXhDCLGxsp6vzHZ/6JF1h0BsBS+No/VIOnM4Mzg4aJrmNsLQ2gBjWiyaiUUzTRgfbd33NqZjyTohdaCURqPRSCSyjbKImE/0ZN/PEbJ470dA1iPywjGanByfnMikUilV7dAqYScItb572X6MqKqKeu+2hktxvk/cPtk1/vChkdGRWFdXi/yWPYOPq60eC4Mog3yeTkNQSkQkAJ3KgoIqn/zHioLvHZbK1ODk4Ux6oN8wjJb6LXsDH1qvHsZplTZtq2x06qTC3Q1KmV9blq5LGVfUmnnzO9ESCtU9AwSyGHfnjxk9R0dHMmM9yV5VVYN5bJuPzp0ePaRqRjGfvfDaD6xysVOHFe5apBTF3PqF6ZeEcCNd3UZXok7OWXuhkB/Q8jFSUfHyiLj5mZ7hxycnpo6k0n2BFTrxNa5Hu1NTv/rU+Vf++9r5N/Mri8NHTqqGR3oQAER7Ur39I/vvBFPhOis3rpU3814fYrmQm33/p9nlBUXVnvjN31NUvYVnUfiCq4o+mrz42WWrUIoPpiYOjacPpHXDYF5niAcHH1pXVC1z8lPlzfzMO68vXru0NHvZc4QAoLHe9Be++qd61N9bGrscRMytLP3khX+yvf6vASSESESUqm4eO/N0evxwB7s65zw92M80xbbtRCIRj8cfZDd03+AnEgcwYonjZ54eP/Yrl9+eXp67bJVLXlbQOzDK1f2WIEUIMWPxeLJ/dWH2/o+AEKOra+ih44ce/Uysu493NJ4BANM0h4aGEJFSGsAw1BN/q04AoEe7VDPyeHpIihpngABwRWVsv61nAYBmRn/ty38kXdfTDwdKGeOMK51yXT7RGICAeyz3sx1FUsqoFsT7CJQqmk724YwVCMLZLSQohFoPCQqh1kOCQqj1kKAQaj0kKIRaDwkKodZDgkKo9ZCg4LGXND09vfPtCAlpN80fKhQSsrcJfZiQoBBqPSQohFoPCQqh1kOCQqj1kKDw/3SZ+o2rYWb8AAAAAElFTkSuQmCC",_="/assets/image18-c03d53a7.jpeg",I="/assets/image19-47c155a8.jpeg",j="/assets/image20-37e7b48b.png",E="/assets/image21-853ad46d.png",C="/assets/image22-456826a7.jpeg",R="/assets/image23-95a95175.jpeg",N="/assets/image24-47075aa0.jpeg",L="/assets/image25-d3a5b1f0.png",M={},x=a(`<h1 id="jdk-8新特性" tabindex="-1"><a class="header-anchor" href="#jdk-8新特性" aria-hidden="true">#</a> JDK 8新特性</h1><h2 id="_1-课程介绍" tabindex="-1"><a class="header-anchor" href="#_1-课程介绍" aria-hidden="true">#</a> 1 课程介绍</h2><ol><li><p>Java SE的发展历史</p></li><li><p>了解Open JDK 和 Oracle JDK</p></li><li><p>JDK 8新特性</p><ul><li><p><strong>Lambda表达式集</strong></p></li><li><p><strong>合之Stream流式操作</strong></p></li><li><p>接口的增强</p></li><li><p>并行数组排序</p></li><li><p>Optional中避免Null检查</p></li><li><p>新的时间和日期 API</p></li><li><p>可重复注解</p></li></ul></li></ol><h2 id="_2-lambda" tabindex="-1"><a class="header-anchor" href="#_2-lambda" aria-hidden="true">#</a> 2 Lambda</h2><h3 id="_2-1-lambda表达式介绍" tabindex="-1"><a class="header-anchor" href="#_2-1-lambda表达式介绍" aria-hidden="true">#</a> 2.1 Lambda表达式介绍</h3><h4 id="_2-1-1-目标" tabindex="-1"><a class="header-anchor" href="#_2-1-1-目标" aria-hidden="true">#</a> 2.1.1 目标</h4><ol><li>了解使用匿名内部类存在的问题</li><li>体验Lambda</li></ol><h4 id="_2-1-2-使用匿名内部类存在的问题" tabindex="-1"><a class="header-anchor" href="#_2-1-2-使用匿名内部类存在的问题" aria-hidden="true">#</a> 2.1.2 使用匿名内部类存在的问题</h4><p>当需要启动一个线程去完成任务时，通常会通过<code>Runnable</code>接口来定义任务内容，并使用 Thread 类来启动该线程。</p><p><strong>传统写法,代码如下：</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo01LambdaIntro</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;新线程任务执行！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>由于面向对象的语法要求，首先创建一个<code>Runnable</code>接口的匿名内部类对象来指定线程要执行的任务内容，再将其交给一个线程来启动。</p><h5 id="_2-2-2-1-代码分析" tabindex="-1"><a class="header-anchor" href="#_2-2-2-1-代码分析" aria-hidden="true">#</a> 2.2.2.1 代码分析:</h5><p>对于 <code>Runnable</code>的匿名内部类用法，可以分析出几点内容：</p><ul><li><p><code>Thread</code>类需要 <code>Runnable</code>接口作为参数，其中的抽象<code>run</code>方法是用来指定线程任务内容的核心</p></li><li><p>为了指定<code>run</code>的方法体，<strong>不得不</strong>需要<code>Runnable</code>接口的实现类</p></li><li><p>为了省去定义一个<code>Runnable</code>实现类的麻烦，<strong>不得不</strong>使用匿名内部类</p></li><li><p>必须覆盖重写抽象<code>run</code>方法，所以方法名称、方法参数、方法返回值<strong>不得不</strong>再写一遍，且不能写错</p></li><li><p>而实际上，<strong>似乎只有方法体才是关键所在</strong>。</p></li></ul><h4 id="_2-1-3-lambda体验" tabindex="-1"><a class="header-anchor" href="#_2-1-3-lambda体验" aria-hidden="true">#</a> 2.1.3 Lambda体验</h4>`,16),P=a(`<p><strong>Lambda表达式写法,代码如下：</strong></p><p>借助<code>Java 8</code>的全新语法，上述<code>Runnable</code>接口的匿名内部类写法可以通过更简单的Lambda表达式达到相同的效果</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo01LambdaIntro</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;新线程任务执行！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 启动线程</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这段代码和刚才的执行效果是完全一样的，可以在<code>JDK 8</code>或更高的编译级别下通过。从代码的语义中可以看出：我们 启动了一个线程，而线程任务的内容以一种更加简洁的形式被指定。</p><p>我们只需要将要执行的代码放到一个Lambda表达式中，不需要定义类，不需要创建对象。</p><h4 id="_2-1-4-lambda的优点" tabindex="-1"><a class="header-anchor" href="#_2-1-4-lambda的优点" aria-hidden="true">#</a> 2.1.4 Lambda的优点</h4><p>简化匿名内部类的使用，语法更加简单。</p><h4 id="_2-1-5-小结" tabindex="-1"><a class="header-anchor" href="#_2-1-5-小结" aria-hidden="true">#</a> 2.1.5 小结</h4><p>了解了匿名内部类语法冗余，体验了Lambda表达式的使用，发现Lmabda是简化匿名内部类的简写</p><h3 id="_2-2-lambda的标准格式" tabindex="-1"><a class="header-anchor" href="#_2-2-lambda的标准格式" aria-hidden="true">#</a> 2.2 Lambda的标准格式</h3><h4 id="_2-2-1-目标" tabindex="-1"><a class="header-anchor" href="#_2-2-1-目标" aria-hidden="true">#</a> 2.2.1 目标</h4><ol><li>掌握Lambda的标准格式</li><li>练习无参数无返回值的Lambda</li><li>练习有参数有返回值的Lambda</li></ol><h4 id="_2-2-2-lambda的标准格式" tabindex="-1"><a class="header-anchor" href="#_2-2-2-lambda的标准格式" aria-hidden="true">#</a> 2.2.2 Lambda的标准格式</h4><p>Lambda省去面向对象的条条框框，Lambda的标准格式格式由<strong>3个部分</strong>组成：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">(</span>参数类型 参数名称<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 代码体</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-2-2-1-格式说明" tabindex="-1"><a class="header-anchor" href="#_2-2-2-1-格式说明" aria-hidden="true">#</a> 2.2.2.1 格式说明：</h5><ul><li><p><code>(参数类型 参数名称)</code>：参数列表</p></li><li><p><code>{代码体;}</code>：方法体</p></li><li><p><code>-&gt;</code>箭头，分隔参数列表和方法体</p></li></ul><h5 id="_2-2-2-2-lambda与方法的对比" tabindex="-1"><a class="header-anchor" href="#_2-2-2-2-lambda与方法的对比" aria-hidden="true">#</a> 2.2.2.2 Lambda与方法的对比</h5><ul><li><strong>匿名内部类</strong></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;aa!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>Lambda</strong></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;bb!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-2-3-练习无参数无返回值的lambda" tabindex="-1"><a class="header-anchor" href="#_2-2-3-练习无参数无返回值的lambda" aria-hidden="true">#</a> 2.2.3 练习无参数无返回值的Lambda</h4><p>掌握了Lambda的语法，我们来通过一个案例熟悉Lambda的使用。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a01</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Swimmable</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a01</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo02LambdaUse</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 匿名内部类</span>
        <span class="token function">goSwimming</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Swimmable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;匿名内部类游泳&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Lambda写法</span>
        <span class="token function">goSwimming</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Lambda游泳&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">goSwimming</span><span class="token punctuation">(</span><span class="token class-name">Swimmable</span> swimmable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        swimmable<span class="token punctuation">.</span><span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-4-练习有参数有返回值的lambda" tabindex="-1"><a class="header-anchor" href="#_2-2-4-练习有参数有返回值的lambda" aria-hidden="true">#</a> 2.2.4 练习有参数有返回值的Lambda</h4><p>下面举例演示 <code>java.util.Comparator&lt;T&gt;</code> 接口的使用场景代码，其中的抽象方法定义为：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">T</span> o1<span class="token punctuation">,</span> <span class="token class-name">T</span> o2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>当需要对一个对象集合进行排序时，<code>Collections.sort</code>方法需要一个<code>Comparator</code>接口实例来指定排序的规则。</p><h5 id="_2-2-4-1-传统写法" tabindex="-1"><a class="header-anchor" href="#_2-2-4-1-传统写法" aria-hidden="true">#</a> 2.2.4.1 传统写法</h5><blockquote><p>如果使用传统的代码对<code>ArrayList</code>集合进行排序，写法如下：</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> height<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collections</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Comparator</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo03LambdaUse</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> persons <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        persons<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;刘德华&quot;</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">,</span> <span class="token number">174</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        persons<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;张学友&quot;</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">,</span> <span class="token number">176</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        persons<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;刘德华&quot;</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">171</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        persons<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;黎明&quot;</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">178</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>persons<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Person</span> o1<span class="token punctuation">,</span> <span class="token class-name">Person</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 年龄升序</span>
                <span class="token comment">// o1 - o2 &gt; 0 为正数，升序</span>
                <span class="token keyword">return</span> o1<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> o2<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Person</span> person <span class="token operator">:</span> persons<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这种做法在面向对象的思想中，似乎也是“理所当然”的。其中 Comparator 接口的实例（使用了匿名内部类）代表 了“按照年龄从小到大”的排序规则。</p><h5 id="_2-2-4-2-lambda写法" tabindex="-1"><a class="header-anchor" href="#_2-2-4-2-lambda写法" aria-hidden="true">#</a> 2.2.4.2 Lambda写法</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collections</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Comparator</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token class-name">Consumer</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> lyf
 * <span class="token keyword">@version</span> 1.0
 * <span class="token keyword">@classname</span> Demo03LambdaUse2
 * <span class="token keyword">@description</span>
 * <span class="token keyword">@since</span> 2023/4/14 12:21
 */</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo03LambdaUse2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> personList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
                <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;刘德华&quot;</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">,</span> <span class="token number">174</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;张学友&quot;</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">,</span> <span class="token number">176</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;刘德华&quot;</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">171</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;黎明&quot;</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">178</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 使用Lambda进行排序</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>personList<span class="token punctuation">,</span> <span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 年龄升序</span>
            <span class="token keyword">return</span> o1<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> o2<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 遍历</span>
        personList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>person <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-2-4-3-方法引用" tabindex="-1"><a class="header-anchor" href="#_2-2-4-3-方法引用" aria-hidden="true">#</a> 2.2.4.3 方法引用</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Comparator</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> lyf
 * <span class="token keyword">@version</span> 1.0
 * <span class="token keyword">@classname</span> Demo03LambdaUse2
 * <span class="token keyword">@description</span>
 * <span class="token keyword">@since</span> 2023/4/14 12:21
 */</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo03LambdaUse3</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> personList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
                <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;刘德华&quot;</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">,</span> <span class="token number">174</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;张学友&quot;</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">,</span> <span class="token number">176</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;刘德华&quot;</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">171</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;黎明&quot;</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">178</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 使用Lambda进行排序</span>
        personList<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparingInt</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 遍历</span>
        personList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-5-小结" tabindex="-1"><a class="header-anchor" href="#_2-2-5-小结" aria-hidden="true">#</a> 2.2.5 小结</h4><p>首先学习了Lambda表达式的标准格式</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">(</span>参数列表<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// Method Body</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以后我们调用方法时,看到参数是接口就可以考虑使用Lambda表达式,Lambda表达式相当于是对接口中抽象方法的重写</p><h3 id="_2-3-了解lambda的实现原理" tabindex="-1"><a class="header-anchor" href="#_2-3-了解lambda的实现原理" aria-hidden="true">#</a> 2.3 了解Lambda的实现原理</h3><h4 id="_2-3-1-目标" tabindex="-1"><a class="header-anchor" href="#_2-3-1-目标" aria-hidden="true">#</a> 2.3.1 目标</h4><ol><li>了解Lambda的实现原理</li></ol><p>我们现在已经会使用Lambda表达式了。现在同学们肯定很好奇Lambda是如何实现的，现在我们就来探究Lambda 表达式的底层实现原理。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a03</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">interface</span> <span class="token class-name">Swimmable</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a03</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo04LambdaImpl</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">goSwimming</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Swimmable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;使用匿名内部类实现游泳&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">goSwimming</span><span class="token punctuation">(</span><span class="token class-name">Swimmable</span> swimmable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        swimmable<span class="token punctuation">.</span><span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们可以看到匿名内部类会在编译后产生一个类： <code>Demo04LambdaImpl$1.class</code></p><figure><img src="`+i+`" alt="image-20230414123305349" tabindex="0" loading="lazy"><figcaption>image-20230414123305349</figcaption></figure><blockquote><p>ps: 这个类在idea中是不显示的，你要到本地磁盘上看才会有</p></blockquote><p>使用idea反编译这个类，得到如下代码：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//</span>
<span class="token comment">// Source code recreated from a .class file by IntelliJ IDEA</span>
<span class="token comment">// (powered by FernFlower decompiler)</span>
<span class="token comment">//</span>

<span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a03</span><span class="token punctuation">;</span>

<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Demo04LambdaImpl</span>$<span class="token number">1</span> <span class="token keyword">implements</span> <span class="token class-name">Swimmable</span> <span class="token punctuation">{</span>
    <span class="token class-name">Demo04LambdaImpl</span>$<span class="token function">1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;使用匿名内部类实现游泳&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们再来看看Lambda的效果，修改代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a03</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo04LambdaImpl2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">goSwimming</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;使用匿名内部类实现游泳&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">goSwimming</span><span class="token punctuation">(</span><span class="token class-name">Swimmable</span> swimmable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        swimmable<span class="token punctuation">.</span><span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行程序，控制台可以得到预期的结果，但是并没有出现一个新的类，也就是说Lambda并没有在编译的时候产生一个新的类。使用idea对这个类进行反编译，</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//</span>
<span class="token comment">// Source code recreated from a .class file by IntelliJ IDEA</span>
<span class="token comment">// (powered by FernFlower decompiler)</span>
<span class="token comment">//</span>

<span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a03</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo04LambdaImpl2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Demo04LambdaImpl2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">goSwimming</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;使用匿名内部类实现游泳&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">goSwimming</span><span class="token punctuation">(</span><span class="token class-name">Swimmable</span> swimmable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        swimmable<span class="token punctuation">.</span><span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们使用 JDK自带的一个工具：<code>javap</code>，对字节码进行反汇编，查看字节码指令。</p><p><strong>在DOS命令行输入：</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>javap <span class="token parameter variable">-c</span> <span class="token parameter variable">-p</span> 文件名.class
-c：表示对代码进行反汇编
-p：显示所有类和成员
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>反汇编后效果如下：</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Compiled</span> from <span class="token string">&quot;Demo04LambdaImpl2.java&quot;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a03<span class="token punctuation">.</span></span>Demo04LambdaImpl2</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a03<span class="token punctuation">.</span></span>Demo04LambdaImpl2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Code</span><span class="token operator">:</span>
       <span class="token number">0</span><span class="token operator">:</span> aload_0
       <span class="token number">1</span><span class="token operator">:</span> invokespecial #<span class="token number">1</span>                  <span class="token comment">// Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span>
       <span class="token number">4</span><span class="token operator">:</span> <span class="token keyword">return</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Code</span><span class="token operator">:</span>
       <span class="token number">0</span><span class="token operator">:</span> invokedynamic #<span class="token number">2</span><span class="token punctuation">,</span>  <span class="token number">0</span>              <span class="token comment">// InvokeDynamic #0:swimming:()Lcn/lyf/lambda/demo/a03/Swimmable;</span>
       <span class="token number">5</span><span class="token operator">:</span> invokestatic  #<span class="token number">3</span>                  <span class="token comment">// Method goSwimming:(Lcn/lyf/lambda/demo/a03/Swimmable;)V</span>
       <span class="token number">8</span><span class="token operator">:</span> <span class="token keyword">return</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">goSwimming</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a03<span class="token punctuation">.</span></span>Swimmable</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Code</span><span class="token operator">:</span>
       <span class="token number">0</span><span class="token operator">:</span> aload_0
       <span class="token number">1</span><span class="token operator">:</span> invokeinterface #<span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">1</span>            <span class="token comment">// InterfaceMethod cn/lyf/lambda/demo/a03/Swimmable.swimming:()V</span>
       <span class="token number">6</span><span class="token operator">:</span> <span class="token keyword">return</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> lambda$main$<span class="token function">0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Code</span><span class="token operator">:</span>
       <span class="token number">0</span><span class="token operator">:</span> getstatic     #<span class="token number">5</span>                  <span class="token comment">// Field java/lang/System.out:Ljava/io/PrintStream;</span>
       <span class="token number">3</span><span class="token operator">:</span> ldc           #<span class="token number">6</span>                  <span class="token comment">// String 使用匿名内部类实现游泳</span>
       <span class="token number">5</span><span class="token operator">:</span> invokevirtual #<span class="token number">7</span>                  <span class="token comment">// Method java/io/PrintStream.println:(Ljava/lang/String;)V</span>
       <span class="token number">8</span><span class="token operator">:</span> <span class="token keyword">return</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到在类中多出了一个私有的静态方法<code>lambda$main$0()</code> 。这个方法里面放的是什么内容呢？我们通过断点调试 来看看：</p><figure><img src="`+k+`" alt="image-20230414132257917" tabindex="0" loading="lazy"><figcaption>image-20230414132257917</figcaption></figure><p>可以确认 <code>lambda$main$0</code> 里面放的就是Lambda中的内容，我们可以这么理解 <code>lambda$main$0</code> 方法：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo04LambdaImpl2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> lambda$main$<span class="token function">0</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Lambda游泳&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>关于这个方法 <code>lambda$main$0</code> 的命名：以lambda开头，因为是在main()函数里使用了lambda表达式，所以带有<code>$main</code>表示，因为是第一个，所以<code>$0</code>。</p><p>如何调用这个方法呢？其实Lambda在运行的时候会生成一个内部类，为了验证是否生成内部类，可以在运行时加上 <code>-Djdk.internal.lambda.dumpProxyClasses</code> ，加上这个参数后，运行时会将生成的内部类class码输出到一个文件中。使用java命令如下：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">java</span> <span class="token parameter variable">-Djdk.internal.lambda.dumpProxyClasses</span> 要运行的包名.类名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在idea的运行参数的<code>VM options</code> 中添加<code>-Djdk.internal.lambda.dumpProxyClasses</code></p><figure><img src="`+r+'" alt="image-20230414133554704" tabindex="0" loading="lazy"><figcaption>image-20230414133554704</figcaption></figure><p>执行完毕，可以看到在项目的根目录下会生成一个新的类，效果如下：</p><figure><img src="'+d+`" alt="image-20230414133748180" tabindex="0" loading="lazy"><figcaption>image-20230414133748180</figcaption></figure><p>反编译<code>Demo04LambdaImpl2$$Lambda$1</code>这个字节码文件，内容如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//</span>
<span class="token comment">// Source code recreated from a .class file by IntelliJ IDEA</span>
<span class="token comment">// (powered by FernFlower decompiler)</span>
<span class="token comment">//</span>

<span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>invoke<span class="token punctuation">.</span></span><span class="token class-name">LambdaForm</span><span class="token punctuation">.</span><span class="token class-name">Hidden</span></span><span class="token punctuation">;</span>

<span class="token comment">// $FF: synthetic class</span>
<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Demo04LambdaImpl2</span>$$<span class="token class-name">Lambda</span>$<span class="token number">1</span> <span class="token keyword">implements</span> <span class="token class-name">Swimmable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Demo04LambdaImpl2</span>$$<span class="token class-name">Lambda</span>$<span class="token function">1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Hidden</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Demo04LambdaImpl2</span><span class="token punctuation">.</span>lambda$main$<span class="token function">0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到这个匿名内部类实现了<code>Swimmable</code>接口，并且重写了<code>swimming</code>方法，<code>swimming</code>方法调用<code>Demo04LambdaImpl2.lambda$main$0();</code> ，也就是调用Lambda中的内容。最后可以将Lambda理解为：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo04LambdaImpl2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">goSwimming</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Swimmable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Demo04LambdaImpl2</span><span class="token punctuation">.</span>lambda$main$<span class="token function">0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> lambda$main$<span class="token function">0</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Lambda表达式游泳&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">goSwimming</span><span class="token punctuation">(</span><span class="token class-name">Swimmable</span> swimmable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        swimmable<span class="token punctuation">.</span><span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-2-小结" tabindex="-1"><a class="header-anchor" href="#_2-3-2-小结" aria-hidden="true">#</a> 2.3.2 小结</h4><p>匿名内部类在编译的时候会一个class文件</p><p>Lambda在程序运行的时候形成一个类</p><ol><li>在类中新增一个方法,这个方法的方法体就是Lambda表达式中的代码</li><li>还会形成一个匿名内部类,实现接口,重写抽象方法</li><li>在接口的重写方法中会调用新生成的方法.</li></ol><h3 id="_2-4-lambda省略格式" tabindex="-1"><a class="header-anchor" href="#_2-4-lambda省略格式" aria-hidden="true">#</a> 2.4 Lambda省略格式</h3><h4 id="_2-4-1-目标" tabindex="-1"><a class="header-anchor" href="#_2-4-1-目标" aria-hidden="true">#</a> 2.4.1 目标</h4><ol><li>掌握Lambda省略格式</li></ol><p>在Lambda标准格式的基础上，使用省略写法的规则为：</p><ol><li>小括号内参数的类型可以省略</li><li>如果小括号内<strong>有且仅有一个参数</strong>，则小括号可以省略</li><li>如果大括号内<strong>有且仅有一个语句</strong>，可以同时省略大括号、return关键字及语句分号</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>省略后</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>a <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-5-lambda的前提条件" tabindex="-1"><a class="header-anchor" href="#_2-5-lambda的前提条件" aria-hidden="true">#</a> 2.5 Lambda的前提条件</h3><h4 id="_2-5-1-目标" tabindex="-1"><a class="header-anchor" href="#_2-5-1-目标" aria-hidden="true">#</a> 2.5.1 目标</h4><p>掌握Lambda的前提条件</p><p>Lambda的语法非常简洁，但是Lambda表达式不是随便使用的，使用时有几个条件要特别注意：</p><ol><li>方法的参数或局部变量类型必须为接口才能使用Lambda</li><li>接口中有且仅有一个抽象方法</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Flyable</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">flying</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a04</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo05LambdaCondition</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">testFly</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token class-name">Flyable</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Flyable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">flying</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token class-name">Flyable</span> s2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testFly</span><span class="token punctuation">(</span><span class="token class-name">Flyable</span> fly<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        fly<span class="token punctuation">.</span><span class="token function">flying</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-5-2-小结" tabindex="-1"><a class="header-anchor" href="#_2-5-2-小结" aria-hidden="true">#</a> 2.5.2 小结</h4><p>Lambda表达式的前提条件:</p><ol><li>方法的参数或变量的类型是接口</li><li>这个接口中只能有一个抽象方法</li></ol><h3 id="_2-6-函数式接口" tabindex="-1"><a class="header-anchor" href="#_2-6-函数式接口" aria-hidden="true">#</a> 2.6 函数式接口</h3><p>函数式接口在Java中是指：<strong>有且仅有一个抽象方法的接口</strong>。</p><p>函数式接口，即适用于函数式编程场景的接口。而Java中的函数式编程体现就是Lambda，所以函数式接口就是可以 适用于Lambda使用的接口。只有确保接口中有且仅有一个抽象方法，Java中的Lambda才能顺利地进行推导。</p><p><code>@FunctionalInterface</code>注解</p><p>与 <code>@Override</code>注解的作用类似，Java 8中专门为函数式接口引入了一个新的注解：<code>@FunctionalInterface</code>。该注解可用于一个接口的定义上：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>a05</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Operator</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>一旦使用该注解来定义接口，编译器将会强制检查该接口是否确实有且仅有一个抽象方法，否则将会报错。不过，即使不使用该注解，只要满足函数式接口的定义，这仍然是一个函数式接口，使用起来都一样。</p><h3 id="_2-7-lambda和匿名内部类对比" tabindex="-1"><a class="header-anchor" href="#_2-7-lambda和匿名内部类对比" aria-hidden="true">#</a> 2.7 Lambda和匿名内部类对比</h3><h4 id="_2-7-1-目标" tabindex="-1"><a class="header-anchor" href="#_2-7-1-目标" aria-hidden="true">#</a> 2.7.1 目标</h4><table><thead><tr><th>区别</th><th>匿名内部类</th><th>Lambda</th></tr></thead><tbody><tr><td>所需类型</td><td>需要的类型可以是类,抽象类,接口</td><td>需要的类型必须是接口</td></tr><tr><td>抽象方法数量</td><td>匿名内部类所需的接口中抽象方法的数量随意</td><td>Lambda表达式所需的接口只能有一个抽象方法</td></tr><tr><td>实现原理</td><td>编译后会形成class</td><td>程序运行的时候动态生成class</td></tr></tbody></table><h4 id="_2-7-2-小结" tabindex="-1"><a class="header-anchor" href="#_2-7-2-小结" aria-hidden="true">#</a> 2.7.2 小结</h4><p>当接口中只有一个抽象方法时,建议使用Lambda表达式,其他其他情况还是需要使用匿名内部类</p><h2 id="_3-jdk-8接口新增的两个方法" tabindex="-1"><a class="header-anchor" href="#_3-jdk-8接口新增的两个方法" aria-hidden="true">#</a> 3 JDK 8接口新增的两个方法</h2><h3 id="_3-1-目标" tabindex="-1"><a class="header-anchor" href="#_3-1-目标" aria-hidden="true">#</a> 3.1 目标</h3><ol><li>了解JDK 8接口新增的两个方法</li><li>掌握接口默认方法的使用</li><li>掌握接口静态方法的使用</li></ol><h3 id="_3-2-jdk-8接口增强介绍" tabindex="-1"><a class="header-anchor" href="#_3-2-jdk-8接口增强介绍" aria-hidden="true">#</a> 3.2 JDK 8接口增强介绍</h3><p>JDK 8以前的接口：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">interface</span> 接口名 <span class="token punctuation">{</span>
    静态常量<span class="token punctuation">;</span>
    抽象方法<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>JDK 8对接口的增强，接口还可以有<strong>默认方法</strong>和<strong>静态方法</strong></p><p>JDK 8的接口：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">interface</span> 接口名 <span class="token punctuation">{</span>
    静态常量<span class="token punctuation">;</span>
    抽象方法<span class="token punctuation">;</span>
    默认方法<span class="token punctuation">;</span>
    静态方法<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-接口的默认方法" tabindex="-1"><a class="header-anchor" href="#_3-3-接口的默认方法" aria-hidden="true">#</a> 3.3 接口的默认方法</h3><h4 id="_3-3-1-接口引入默认方法的背景" tabindex="-1"><a class="header-anchor" href="#_3-3-1-接口引入默认方法的背景" aria-hidden="true">#</a> 3.3.1 接口引入默认方法的背景</h4><p>在JDK 8以前接口中只能有抽象方法。存在以下问题：</p><p>如果给接口新增抽象方法，所有实现类都必须重写这个抽象方法。不利于接口的扩展。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo2<span class="token punctuation">.</span>a01</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 接口新增抽象方法,所有实现类都需要去重写这个方法,非常不利于接口的扩展</span>
    <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">implements</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;BB test1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 接口新增抽象方法,所有实现类都需要去重写这个方法</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;BB test2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token keyword">implements</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;CC test1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 接口新增抽象方法,所有实现类都需要去重写这个方法</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;CC test2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例如，JDK 8 时在Map接口中增加了<code>forEach</code>方法：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">BiConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过API可以查询到Map接口的实现类如：</p><figure><img src="`+m+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果在Map接口中增加一个抽象方法，所有的实现类都需要去实现这个方法，那么工程量时巨大的。 因此，在JDK 8时为接口新增了默认方法，效果如下：</p><p>接口中的默认方法实现类不必重写，可以直接使用，实现类也可以根据需要重写。这样就方便接口的扩展。</p><h4 id="_3-3-2-接口默认方法的定义格式" tabindex="-1"><a class="header-anchor" href="#_3-3-2-接口默认方法的定义格式" aria-hidden="true">#</a> 3.3.2 接口默认方法的定义格式</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">interface</span> 接口名 <span class="token punctuation">{</span>
    修饰符 <span class="token keyword">default</span> 返回值类型 方法名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	代码<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3-3-接口默认方法的使用" tabindex="-1"><a class="header-anchor" href="#_3-3-3-接口默认方法的使用" aria-hidden="true">#</a> 3.3.3 接口默认方法的使用</h4><p>方式一：实现类直接调用接口默认方法</p><p>方式二：实现类重写接口默认方法</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo2<span class="token punctuation">.</span>a02</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo02UserDefaultFunction</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">BB</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 方式一：实现类直接调用接口默认方法</span>
        b<span class="token punctuation">.</span><span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CC</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 调用实现类重写接口默认方法</span>
        c<span class="token punctuation">.</span><span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">AA</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;AA test02&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">BB</span> <span class="token keyword">implements</span> <span class="token class-name">AA</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;BB test1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">CC</span> <span class="token keyword">implements</span> <span class="token class-name">AA</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;CC test1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 方式二：实现类重写接口默认方法</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;CC实现类重写接口默认方法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-4-接口静态方法" tabindex="-1"><a class="header-anchor" href="#_3-4-接口静态方法" aria-hidden="true">#</a> 3.4 接口静态方法</h3><p>为了方便接口扩展，JDK 8为接口新增了静态方法。</p><h4 id="_3-4-1-接口静态方法的定义格式" tabindex="-1"><a class="header-anchor" href="#_3-4-1-接口静态方法的定义格式" aria-hidden="true">#</a> 3.4.1 接口静态方法的定义格式</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">interface</span> 接口名 <span class="token punctuation">{</span>
    修饰符 <span class="token keyword">static</span> 返回值类型 方法名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	代码<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-4-2-接口静态方法的使用" tabindex="-1"><a class="header-anchor" href="#_3-4-2-接口静态方法的使用" aria-hidden="true">#</a> 3.4.2 接口静态方法的使用</h4><p>直接使用接口名调用即可：<code>接口名.静态方法名()</code>;</p><p>代码</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo2<span class="token punctuation">.</span>a03</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo04UseStaticFunction</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 直接使用接口名调用即可：接口名.静态方法名();</span>
        <span class="token constant">AAA</span><span class="token punctuation">.</span><span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">AAA</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;AAA 接口的静态方法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">BBB</span> <span class="token keyword">implements</span> <span class="token class-name">AAA</span> <span class="token punctuation">{</span>
    <span class="token comment">/*@Override
    // 静态方法不能重写
    public static void test01() {
        System.out.println(&quot;AAA 接口的静态方法&quot;);
    }*/</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-5-接口默认方法和静态方法的区别" tabindex="-1"><a class="header-anchor" href="#_3-5-接口默认方法和静态方法的区别" aria-hidden="true">#</a> 3.5 接口默认方法和静态方法的区别</h3><p>1、默认方法通过实例调用，静态方法通过接口名调用。</p><p>2、默认方法可以被继承，实现类可以直接使用接口默认方法，也可以重写接口默认方法。</p><p>3、静态方法不能被继承，实现类不能重写接口静态方法，只能使用接口名调用。</p><h3 id="_3-6-小结" tabindex="-1"><a class="header-anchor" href="#_3-6-小结" aria-hidden="true">#</a> 3.6 小结</h3><p>接口中新增的两种方法： 默认方法和静态方法</p><p>如何选择呢？如果这个方法需要被实现类继承或重写，使用默认方法，如果接口中的方法不需要被继承就使用静态方 法</p><h2 id="_4-常用内置函数式接口" tabindex="-1"><a class="header-anchor" href="#_4-常用内置函数式接口" aria-hidden="true">#</a> 4 常用内置函数式接口</h2><h3 id="_4-1-目标" tabindex="-1"><a class="header-anchor" href="#_4-1-目标" aria-hidden="true">#</a> 4.1 目标</h3><ol><li>了解内置函数式接口由来</li><li>了解常用内置函数式接口</li></ol><h3 id="_4-2-内置函数式接口来由来" tabindex="-1"><a class="header-anchor" href="#_4-2-内置函数式接口来由来" aria-hidden="true">#</a> 4.2 内置函数式接口来由来</h3><p>我们知道使用Lambda表达式的前提是需要有函数式接口。而Lambda使用时不关心接口名，抽象方法名，只关心抽象方法的参数列表和返回值类型。因此为了让我们使用Lambda方便，JDK提供了大量常用的函数式接口。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo3<span class="token punctuation">.</span>a01</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo01UserFunctionalInterface</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 调用函数式接口中的方法</span>
        <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> n <span class="token operator">:</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                sum <span class="token operator">+=</span> n<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 使用自定义的函数式接口作为方法参数</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token class-name">Operator</span> op<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> sum <span class="token operator">=</span> op<span class="token punctuation">.</span><span class="token function">getSum</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;sum = &quot;</span> <span class="token operator">+</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">interface</span> <span class="token class-name">Operator</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> <span class="token function">getSum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3-常用内置函数式接口介绍" tabindex="-1"><a class="header-anchor" href="#_4-3-常用内置函数式接口介绍" aria-hidden="true">#</a> 4.3 常用内置函数式接口介绍</h3><p>它们主要在 <code>java.util.function</code>包中。下面是最常用的几个接口。</p><h4 id="_4-3-1-supplier接口" tabindex="-1"><a class="header-anchor" href="#_4-3-1-supplier接口" aria-hidden="true">#</a> 4.3.1 Supplier接口</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Represents a supplier of results.
 *
 * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>There is no requirement that a new or distinct result be returned each
 * time the supplier is invoked.
 *
 * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>This is a <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>package-summary.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>functional interface<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
 * whose functional method is <span class="token punctuation">{</span><span class="token keyword">@link</span> <span class="token reference"><span class="token punctuation">#</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span>.
 *
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> the type of results supplied by this supplier
 *
 * <span class="token keyword">@since</span> 1.8
 */</span>
<span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * Gets a result.
     *
     * <span class="token keyword">@return</span> a result
     */</span>
    <span class="token class-name">T</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-3-2-consumer接口" tabindex="-1"><a class="header-anchor" href="#_4-3-2-consumer接口" aria-hidden="true">#</a> 4.3.2 Consumer接口</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Objects</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Represents an operation that accepts a single input argument and returns no
 * result. Unlike most other functional interfaces, <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token class-name">Consumer</span></span></span><span class="token punctuation">}</span> is expected
 * to operate via side-effects.
 *
 * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>This is a <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>package-summary.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>functional interface<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
 * whose functional method is <span class="token punctuation">{</span><span class="token keyword">@link</span> <span class="token reference"><span class="token punctuation">#</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span>.
 *
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> the type of the input to the operation
 *
 * <span class="token keyword">@since</span> 1.8
 */</span>
<span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * Performs this operation on the given argument.
     *
     * <span class="token keyword">@param</span> <span class="token parameter">t</span> the input argument
     */</span>
    <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * Returns a composed <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token class-name">Consumer</span></span></span><span class="token punctuation">}</span> that performs, in sequence, this
     * operation followed by the <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">after</span></span><span class="token punctuation">}</span> operation. If performing either
     * operation throws an exception, it is relayed to the caller of the
     * composed operation.  If performing this operation throws an exception,
     * the <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">after</span></span><span class="token punctuation">}</span> operation will not be performed.
     *
     * <span class="token keyword">@param</span> <span class="token parameter">after</span> the operation to perform after this operation
     * <span class="token keyword">@return</span> a composed <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token class-name">Consumer</span></span></span><span class="token punctuation">}</span> that performs in sequence this
     * operation followed by the <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">after</span></span><span class="token punctuation">}</span> operation
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">NullPointerException</span></span> if <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">after</span></span><span class="token punctuation">}</span> is null
     */</span>
    <span class="token keyword">default</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">andThen</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> after<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>after<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span> <span class="token function">accept</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> after<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-3-3-function接口" tabindex="-1"><a class="header-anchor" href="#_4-3-3-function接口" aria-hidden="true">#</a> 4.3.3 Function接口</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Objects</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Represents a function that accepts one argument and produces a result.
 *
 * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>This is a <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>package-summary.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>functional interface<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
 * whose functional method is <span class="token punctuation">{</span><span class="token keyword">@link</span> <span class="token reference"><span class="token punctuation">#</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span>.
 *
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> the type of the input to the function
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">&lt;</span>R<span class="token punctuation">&gt;</span></span> the type of the result of the function
 *
 * <span class="token keyword">@since</span> 1.8
 */</span>
<span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * Applies this function to the given argument.
     *
     * <span class="token keyword">@param</span> <span class="token parameter">t</span> the function argument
     * <span class="token keyword">@return</span> the function result
     */</span>
    <span class="token class-name">R</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * Returns a composed function that first applies the <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">before</span></span><span class="token punctuation">}</span>
     * function to its input, and then applies this function to the result.
     * If evaluation of either function throws an exception, it is relayed to
     * the caller of the composed function.
     *
     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">&lt;</span>V<span class="token punctuation">&gt;</span></span> the type of input to the <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">before</span></span><span class="token punctuation">}</span> function, and to the
     *           composed function
     * <span class="token keyword">@param</span> <span class="token parameter">before</span> the function to apply before this function is applied
     * <span class="token keyword">@return</span> a composed function that first applies the <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">before</span></span><span class="token punctuation">}</span>
     * function and then applies this function
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">NullPointerException</span></span> if before is null
     *
     * <span class="token keyword">@see</span> <span class="token reference"><span class="token punctuation">#</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token punctuation">)</span></span>
     */</span>
    <span class="token keyword">default</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token function">compose</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">V</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> before<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>before<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">V</span> v<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">apply</span><span class="token punctuation">(</span>before<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Returns a composed function that first applies this function to
     * its input, and then applies the <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">after</span></span><span class="token punctuation">}</span> function to the result.
     * If evaluation of either function throws an exception, it is relayed to
     * the caller of the composed function.
     *
     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">&lt;</span>V<span class="token punctuation">&gt;</span></span> the type of output of the <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">after</span></span><span class="token punctuation">}</span> function, and of the
     *           composed function
     * <span class="token keyword">@param</span> <span class="token parameter">after</span> the function to apply after this function is applied
     * <span class="token keyword">@return</span> a composed function that first applies this function and then
     * applies the <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">after</span></span><span class="token punctuation">}</span> function
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">NullPointerException</span></span> if after is null
     *
     * <span class="token keyword">@see</span> <span class="token reference"><span class="token punctuation">#</span><span class="token function">compose</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token punctuation">)</span></span>
     */</span>
    <span class="token keyword">default</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">andThen</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> after<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>after<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> after<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token function">apply</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Returns a function that always returns its input argument.
     *
     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> the type of the input and output objects to the function
     * <span class="token keyword">@return</span> a function that always returns its input argument
     */</span>
    <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">identity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> t <span class="token operator">-&gt;</span> t<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-3-4-predicate接口" tabindex="-1"><a class="header-anchor" href="#_4-3-4-predicate接口" aria-hidden="true">#</a> 4.3.4 Predicate接口</h4><ul><li><strong>Predicate接口用于做判断,返回boolean类型的值</strong></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Objects</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Represents a predicate (boolean-valued function) of one argument.
 *
 * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>This is a <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>package-summary.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>functional interface<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
 * whose functional method is <span class="token punctuation">{</span><span class="token keyword">@link</span> <span class="token reference"><span class="token punctuation">#</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span>.
 *
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> the type of the input to the predicate
 *
 * <span class="token keyword">@since</span> 1.8
 */</span>
<span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * Evaluates this predicate on the given argument.
     *
     * <span class="token keyword">@param</span> <span class="token parameter">t</span> the input argument
     * <span class="token keyword">@return</span> <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token boolean">true</span></span></span><span class="token punctuation">}</span> if the input argument matches the predicate,
     * otherwise <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token boolean">false</span></span></span><span class="token punctuation">}</span>
     */</span>
    <span class="token keyword">boolean</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * Returns a composed predicate that represents a short-circuiting logical
     * AND of this predicate and another.  When evaluating the composed
     * predicate, if this predicate is <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token boolean">false</span></span></span><span class="token punctuation">}</span>, then the <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">other</span></span><span class="token punctuation">}</span>
     * predicate is not evaluated.
     *
     * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Any exceptions thrown during evaluation of either predicate are relayed
     * to the caller; if evaluation of this predicate throws an exception, the
     * <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">other</span></span><span class="token punctuation">}</span> predicate will not be evaluated.
     *
     * <span class="token keyword">@param</span> <span class="token parameter">other</span> a predicate that will be logically-ANDed with this
     *              predicate
     * <span class="token keyword">@return</span> a composed predicate that represents the short-circuiting logical
     * AND of this predicate and the <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">other</span></span><span class="token punctuation">}</span> predicate
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">NullPointerException</span></span> if other is null
     */</span>
    <span class="token keyword">default</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">and</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">test</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> other<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Returns a predicate that represents the logical negation of this
     * predicate.
     *
     * <span class="token keyword">@return</span> a predicate that represents the logical negation of this
     * predicate
     */</span>
    <span class="token keyword">default</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">negate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token operator">!</span><span class="token function">test</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Returns a composed predicate that represents a short-circuiting logical
     * OR of this predicate and another.  When evaluating the composed
     * predicate, if this predicate is <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token boolean">true</span></span></span><span class="token punctuation">}</span>, then the <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">other</span></span><span class="token punctuation">}</span>
     * predicate is not evaluated.
     *
     * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Any exceptions thrown during evaluation of either predicate are relayed
     * to the caller; if evaluation of this predicate throws an exception, the
     * <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">other</span></span><span class="token punctuation">}</span> predicate will not be evaluated.
     *
     * <span class="token keyword">@param</span> <span class="token parameter">other</span> a predicate that will be logically-ORed with this
     *              predicate
     * <span class="token keyword">@return</span> a composed predicate that represents the short-circuiting logical
     * OR of this predicate and the <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">other</span></span><span class="token punctuation">}</span> predicate
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">NullPointerException</span></span> if other is null
     */</span>
    <span class="token keyword">default</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">or</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">test</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">||</span> other<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Returns a predicate that tests if two arguments are equal according
     * to <span class="token punctuation">{</span><span class="token keyword">@link</span> <span class="token reference"><span class="token class-name">Objects</span><span class="token punctuation">#</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span>.
     *
     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> the type of arguments to the predicate
     * <span class="token keyword">@param</span> <span class="token parameter">targetRef</span> the object reference with which to compare for equality,
     *               which may be <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token keyword">null</span></span></span><span class="token punctuation">}</span>
     * <span class="token keyword">@return</span> a predicate that tests if two arguments are equal according
     * to <span class="token punctuation">{</span><span class="token keyword">@link</span> <span class="token reference"><span class="token class-name">Objects</span><span class="token punctuation">#</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span>
     */</span>
    <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">isEqual</span><span class="token punctuation">(</span><span class="token class-name">Object</span> targetRef<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> targetRef<span class="token punctuation">)</span>
                <span class="token operator">?</span> <span class="token class-name">Objects</span><span class="token operator">::</span><span class="token function">isNull</span>
                <span class="token operator">:</span> object <span class="token operator">-&gt;</span> targetRef<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-4-supplier接口" tabindex="-1"><a class="header-anchor" href="#_4-4-supplier接口" aria-hidden="true">#</a> 4.4 Supplier接口</h3><p><code>java.util.function.Supplier&lt;T&gt;</code> 接口，它意味着&quot;供给&quot; , 对应的Lambda表达式需要“<strong>对外提供</strong>”一个符合泛型类型的对象数据。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
	<span class="token class-name">T</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>供给型接口，通过Supplier接口中的get方法可以得到一个值，无参有返回的接口。</p><h4 id="_4-4-1-使用lambda表达式返回数组元素最大值" tabindex="-1"><a class="header-anchor" href="#_4-4-1-使用lambda表达式返回数组元素最大值" aria-hidden="true">#</a> 4.4.1 使用Lambda表达式返回数组元素最大值</h4><p>使用<code>Supplier</code>接口作为方法参数类型，通过Lambda表达式求出int数组中的最大值。提示：接口的泛型请使用<code>java.lang.Integer</code>类</p><h4 id="_4-4-2-代码示例" tabindex="-1"><a class="header-anchor" href="#_4-4-2-代码示例" aria-hidden="true">#</a> 4.4.2 代码示例:</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo3<span class="token punctuation">.</span>a02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token class-name">Supplier</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoSupplier</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getMaxValue</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token comment">// 按降序进行排列 o1 比 o2小的话，那么就将o1往后排，o2往前排，这里的意思是大的往前排，所以是降序</span>
            <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> o2 <span class="token operator">-</span> o1<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 这里传一个接口 此接口的作用是获取一个数组的最大值
     *
     * <span class="token keyword">@param</span> <span class="token parameter">supplier</span> 接口
     * <span class="token keyword">@return</span> 数组最大值
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getMaxValue</span><span class="token punctuation">(</span><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> supplier<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> supplier<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-5-consumer接口" tabindex="-1"><a class="header-anchor" href="#_4-5-consumer接口" aria-hidden="true">#</a> 4.5 Consumer接口</h3><p><code>java.util.function.Consumer&lt;T&gt;</code> 接口则正好相反，它不是生产一个数据，而是<strong>消费</strong>一个数据，其数据类型由泛型参数决定。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-5-1-使用lambda表达式完成一个打印list在排序前后的数据的小功能" tabindex="-1"><a class="header-anchor" href="#_4-5-1-使用lambda表达式完成一个打印list在排序前后的数据的小功能" aria-hidden="true">#</a> 4.5.1 使用Lambda表达式完成一个打印List在排序前后的数据的小功能</h4><p>Consumer消费型接口，可以拿到accept方法参数传递过来的数据进行处理, 有参无返回的接口。基本使用如：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo3<span class="token punctuation">.</span>a03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token class-name">Consumer</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoConsumer</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">handlerList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> list1 <span class="token operator">-&gt;</span> list1<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparingInt</span><span class="token punctuation">(</span>o <span class="token operator">-&gt;</span> o<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 打印List在排序前后的数据
     *
     * <span class="token keyword">@param</span> <span class="token parameter">list</span> list
     * <span class="token keyword">@param</span> <span class="token parameter">consumer</span> 接口
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">handlerList</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 打印List</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;排序前&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 方法增强</span>
        consumer<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 添加一个方法增强</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\\n排序后&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-5-2-默认方法-andthen" tabindex="-1"><a class="header-anchor" href="#_4-5-2-默认方法-andthen" aria-hidden="true">#</a> 4.5.2 默认方法：andThen</h4><p>如果一个方法的参数和返回值全都是<code>Consumer</code>类型，那么就可以实现效果：消费一个数据的时候，首先做一个操作，然后再做一个操作，实现组合。而这个方法就是 <code>Consumer</code>接口中的default方法<code>andThen</code>。下面是JDK的源代码：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">default</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">andThen</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> after<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>after<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span> <span class="token function">accept</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> after<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>备注： java.util.Objects 的 requireNonNull 静态方法将会在参数为null时主动抛出</p><p>NullPointerException 异常。这省去了重复编写if语句和抛出空指针异常的麻烦。</p></blockquote><p>要想实现组合，需要两个或多个Lambda表达式即可，而<code>andThen</code>的语义正是“一步接一步”操作。例如两个步骤组合的情况：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo3<span class="token punctuation">.</span>a03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Locale</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token class-name">Consumer</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoConsumer2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">handlerStr</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;lower: &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token constant">ENGLISH</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                s <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;upper: &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token constant">ENGLISH</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token number">0</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">handlerStr</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> lowerConsumer<span class="token punctuation">,</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> upperConsumer<span class="token punctuation">,</span> <span class="token keyword">int</span> modelStyle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;Hello, World!!!&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>modelStyle <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            lowerConsumer<span class="token punctuation">.</span><span class="token function">andThen</span><span class="token punctuation">(</span>upperConsumer<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            upperConsumer<span class="token punctuation">.</span><span class="token function">andThen</span><span class="token punctuation">(</span>lowerConsumer<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>upper<span class="token punctuation">:</span> HELLO<span class="token punctuation">,</span> WORLD<span class="token operator">!!!</span>
lower<span class="token punctuation">:</span> hello<span class="token punctuation">,</span> world<span class="token operator">!!!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>当然，通过链式写法可以实现更多步骤的组合。</p><h3 id="_4-6-function接口" tabindex="-1"><a class="header-anchor" href="#_4-6-function接口" aria-hidden="true">#</a> 4.6 Function接口</h3><p><code>java.util.function.Function&lt;T,R&gt;</code> 接口用来根据一个类型的数据得到另一个类型的数据，前者称为前置条件， 后者称为后置条件。有参数有返回值。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token class-name">R</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-6-1-使用lambda表达式将字符串转成数字" tabindex="-1"><a class="header-anchor" href="#_4-6-1-使用lambda表达式将字符串转成数字" aria-hidden="true">#</a> 4.6.1 使用Lambda表达式将字符串转成数字</h4><p>Function转换型接口，对apply方法传入的T类型数据进行处理，返回R类型的结果，有参有返回的接口。使用的场景 例如：将<code>String</code>类型转换为<code>Integer</code>类型。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo3<span class="token punctuation">.</span>a04</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token class-name">Function</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FunctionDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">testFunction</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">parseInt</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testFunction</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> function<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Integer</span> originValue <span class="token operator">=</span> function<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token string">&quot;10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>originValue <span class="token operator">+</span> <span class="token string">&quot; + 5 = &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>originValue <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-6-2-默认方法-andthen" tabindex="-1"><a class="header-anchor" href="#_4-6-2-默认方法-andthen" aria-hidden="true">#</a> 4.6.2 默认方法：andThen</h4><p><code>Function</code>接口中有一个默认的<code>andThen</code>方法，用来进行组合操作。JDK源代码如：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">default</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">andThen</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> after<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>after<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> after<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token function">apply</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>该方法同样用于“先做什么，再做什么”的场景，和<code>Consumer</code>中的<code>andThen</code>差不多：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo3<span class="token punctuation">.</span>a04</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token class-name">Function</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FunctionDemo2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">testFunction</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">parseInt</span><span class="token punctuation">,</span> intValue <span class="token operator">-&gt;</span> intValue <span class="token operator">*</span> <span class="token number">66</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * testFunction
     *
     * <span class="token keyword">@param</span> <span class="token parameter">function1</span> 将字符串转成数字
     * <span class="token keyword">@param</span> <span class="token parameter">function2</span> function1的结果再乘以66
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testFunction</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> function1<span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> function2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Integer</span> result <span class="token operator">=</span> function1<span class="token punctuation">.</span><span class="token function">andThen</span><span class="token punctuation">(</span>function2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token string">&quot;10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;result: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第一个操作是将字符串解析成为int数字，第二个操作是乘以66。两个操作通<code>andThen</code>按照前后顺序组合到了一 起。</p><blockquote><p>请注意，Function的前置条件泛型和后置条件泛型可以相同。</p></blockquote><h3 id="_4-7-predicate接口" tabindex="-1"><a class="header-anchor" href="#_4-7-predicate接口" aria-hidden="true">#</a> 4.7 Predicate接口</h3><p>有时候我们需要对某种类型的数据进行判断，从而得到一个boolean值结果。这时可以使用<code>java.util.function.Predicate&lt;T&gt; </code>接口。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">boolean</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-7-1-使用lambda判断一个人名如果超过3个字就认为是很长的名字" tabindex="-1"><a class="header-anchor" href="#_4-7-1-使用lambda判断一个人名如果超过3个字就认为是很长的名字" aria-hidden="true">#</a> 4.7.1 使用Lambda判断一个人名如果超过3个字就认为是很长的名字</h4><p>对test方法的参数T进行判断，返回boolean类型的结果。用于条件判断的场景：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo3<span class="token punctuation">.</span>a05</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token class-name">Predicate</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PredicateDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> predicate <span class="token operator">=</span> str <span class="token operator">-&gt;</span> str <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token function">testPredicate</span><span class="token punctuation">(</span>predicate<span class="token punctuation">,</span> <span class="token string">&quot;上官飞燕&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">testPredicate</span><span class="token punctuation">(</span>predicate<span class="token punctuation">,</span> <span class="token string">&quot;张三丰&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testPredicate</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>predicate<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;name: &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;, 名字很长&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;name: &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;, 名字还可以&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>条件判断的标准是传入的Lambda表达式逻辑，只要名称长度大于3则认为很长。</p><h4 id="_4-7-2-默认方法-and" tabindex="-1"><a class="header-anchor" href="#_4-7-2-默认方法-and" aria-hidden="true">#</a> 4.7.2 默认方法：and</h4><p>既然是条件判断，就会存在与、或、非三种常见的逻辑关系。其中将两个<code>Predicate</code>条件使用“与”逻辑连接起来实 现“<strong>并且</strong>”的效果时，可以使用<code>default</code>方法<code>and</code> 。其JDK源码为：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">default</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">and</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">test</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> other<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><strong>使用Lambda表达式判断一个字符串中即包含W,也包含H</strong></p></li><li><p><strong>使用Lambda表达式判断一个字符串中包含W或者包含H</strong></p></li><li><p><strong>使用Lambda表达式判断一个字符串中不包含W</strong></p></li></ul><h5 id="_4-7-2-1-如果要判断一个字符串既要包含大写-h-又要包含大写-w" tabindex="-1"><a class="header-anchor" href="#_4-7-2-1-如果要判断一个字符串既要包含大写-h-又要包含大写-w" aria-hidden="true">#</a> 4.7.2.1 如果要判断一个字符串既要包含大写“H”，又要包含大写“W”</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo3<span class="token punctuation">.</span>a05</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token class-name">Predicate</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PredicateDemo2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">testPredicate</span><span class="token punctuation">(</span>str <span class="token operator">-&gt;</span> str<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;H&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> str <span class="token operator">-&gt;</span> str<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;W&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;Hello, World!!!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testPredicate</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> predicateH<span class="token punctuation">,</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> predicateW<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">boolean</span> flag1 <span class="token operator">=</span> predicateH<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> predicateW<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> flag2 <span class="token operator">=</span> predicateH<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span>predicateW<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;flag1 == flag2 = &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>flag1 <span class="token operator">==</span> flag2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot;, 包含 H 和 W&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot;, 不同时包含 H 和 W&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="结果" tabindex="-1"><a class="header-anchor" href="#结果" aria-hidden="true">#</a> 结果</h6><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>flag1 <span class="token operator">==</span> flag2 <span class="token operator">=</span> true
Hello<span class="token punctuation">,</span> World<span class="token operator">!!!</span><span class="token punctuation">,</span> 包含 H 和 W
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-7-3-默认方法-or" tabindex="-1"><a class="header-anchor" href="#_4-7-3-默认方法-or" aria-hidden="true">#</a> 4.7.3 默认方法：or</h4><h5 id="_4-7-3-1-使用lambda表达式判断一个字符串中包含w或者包含h" tabindex="-1"><a class="header-anchor" href="#_4-7-3-1-使用lambda表达式判断一个字符串中包含w或者包含h" aria-hidden="true">#</a> 4.7.3.1 使用Lambda表达式判断一个字符串中包含W或者包含H</h5><p>与<code>and</code>的“与”类似，默认方法<code>or</code>实现逻辑关系中的“<strong>或</strong>”。JDK源码为：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">default</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">or</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">test</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">||</span> other<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果希望实现逻辑“字符串包含大写H或者包含大写W”，那么代码只需要将“and”修改为“or”名称即可，其他都不变：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo3<span class="token punctuation">.</span>a05</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token class-name">Predicate</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PredicateDemo3</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">testPredicate</span><span class="token punctuation">(</span>str <span class="token operator">-&gt;</span> str<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;H&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> str <span class="token operator">-&gt;</span> str<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;W&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;hello, world!!!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testPredicate</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> predicateH<span class="token punctuation">,</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> predicateW<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">boolean</span> flag1 <span class="token operator">=</span> predicateH<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">||</span> predicateW<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> flag2 <span class="token operator">=</span> predicateH<span class="token punctuation">.</span><span class="token function">or</span><span class="token punctuation">(</span>predicateW<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;flag1 == flag2 = &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>flag1 <span class="token operator">==</span> flag2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot;, 包含 H 或 W&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot;, 不包含 H 或 W&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="结果-1" tabindex="-1"><a class="header-anchor" href="#结果-1" aria-hidden="true">#</a> 结果</h6><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>flag1 <span class="token operator">==</span> flag2 <span class="token operator">=</span> true
hello<span class="token punctuation">,</span> world<span class="token operator">!!!</span><span class="token punctuation">,</span> 不包含 H 或 W
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-7-4-默认方法-negate" tabindex="-1"><a class="header-anchor" href="#_4-7-4-默认方法-negate" aria-hidden="true">#</a> 4.7.4 默认方法：negate</h4><h5 id="_4-7-4-1-使用lambda表达式判断一个字符串中不包含w" tabindex="-1"><a class="header-anchor" href="#_4-7-4-1-使用lambda表达式判断一个字符串中不包含w" aria-hidden="true">#</a> 4.7.4.1 使用Lambda表达式判断一个字符串中不包含W</h5><p>“与”、“或”已经了解了，剩下的“非”（取反）也会简单。默认方法 negate 的JDK源代码为：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">default</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">negate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token operator">!</span><span class="token function">test</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从实现中很容易看出，它是执行了test方法之后，对结果boolean值进行“!”取反而已。一定要在<code>test</code>方法调用之前调 用<code>negate</code>方法，正如<code>and</code>和<code>or</code>方法一样：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo3<span class="token punctuation">.</span>a05</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token class-name">Predicate</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PredicateDemo4</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">testPredicate</span><span class="token punctuation">(</span>str <span class="token operator">-&gt;</span> str<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;H&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;hello, world!!!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testPredicate</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> predicateH<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">boolean</span> isNotContainedH1 <span class="token operator">=</span> <span class="token operator">!</span>predicateH<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 或者使用</span>
        <span class="token keyword">boolean</span> isNotContainedH2 <span class="token operator">=</span> predicateH<span class="token punctuation">.</span><span class="token function">negate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;isNotContainedH1 == isNotContainedH2 = &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>isNotContainedH1 <span class="token operator">==</span> isNotContainedH2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isNotContainedH2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot;, 不包含 H &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-8-小结" tabindex="-1"><a class="header-anchor" href="#_4-8-小结" aria-hidden="true">#</a> 4.8 小结</h3><h4 id="_4-8-1-supplier接口" tabindex="-1"><a class="header-anchor" href="#_4-8-1-supplier接口" aria-hidden="true">#</a> 4.8.1 Supplier接口</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
	<span class="token class-name">T</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-8-2-consumer接口" tabindex="-1"><a class="header-anchor" href="#_4-8-2-consumer接口" aria-hidden="true">#</a> 4.8.2 Consumer接口</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
	<span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-8-3-function接口" tabindex="-1"><a class="header-anchor" href="#_4-8-3-function接口" aria-hidden="true">#</a> 4.8.3 Function接口</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
	<span class="token class-name">R</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-8-4-predicate接口" tabindex="-1"><a class="header-anchor" href="#_4-8-4-predicate接口" aria-hidden="true">#</a> 4.8.4 Predicate接口</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
	<span class="token keyword">boolean</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-介绍方法引用" tabindex="-1"><a class="header-anchor" href="#_5-介绍方法引用" aria-hidden="true">#</a> 5 介绍方法引用</h2><h3 id="_5-1-目标" tabindex="-1"><a class="header-anchor" href="#_5-1-目标" aria-hidden="true">#</a> 5.1 目标</h3><ul><li>了解Lambda的冗余场景</li><li>掌握方法引用的格式</li><li>了解常见的方法引用方式</li></ul><h3 id="_5-2-lambda的冗余场景" tabindex="-1"><a class="header-anchor" href="#_5-2-lambda的冗余场景" aria-hidden="true">#</a> 5.2 Lambda的冗余场景</h3><h4 id="_5-2-1-使用lambda表达式求一个数组的和" tabindex="-1"><a class="header-anchor" href="#_5-2-1-使用lambda表达式求一个数组的和" aria-hidden="true">#</a> 5.2.1 使用Lambda表达式求一个数组的和</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo4<span class="token punctuation">.</span>a01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Random</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token class-name">Consumer</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo1</span> <span class="token punctuation">{</span>
    <span class="token comment">// 使用Lambda表达式求一个数组的和</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printTotal</span><span class="token punctuation">(</span>intArray <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;[&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> length <span class="token operator">=</span> intArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> tmpInt <span class="token operator">=</span> intArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                total <span class="token operator">+=</span> tmpInt<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> intArray<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>tmpInt<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>tmpInt<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;array: &quot;</span> <span class="token operator">+</span> sb <span class="token operator">+</span> <span class="token string">&quot;, total: &quot;</span> <span class="token operator">+</span> total<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printTotal</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">]</span> intArray<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;[&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> intArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> tmpInt <span class="token operator">=</span> intArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            total <span class="token operator">+=</span> tmpInt<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> intArray<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>tmpInt<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>tmpInt<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;array: &quot;</span> <span class="token operator">+</span> sb <span class="token operator">+</span> <span class="token string">&quot;, total: &quot;</span> <span class="token operator">+</span> total<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printTotal</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token operator">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> consumer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        consumer<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-2-2-体验方法引用简化lambda" tabindex="-1"><a class="header-anchor" href="#_5-2-2-体验方法引用简化lambda" aria-hidden="true">#</a> 5.2.2 体验方法引用简化Lambda</h4><p>如果我们在Lambda中所指定的功能，已经有其他方法存在相同方案，那是否还有必要再写重复逻辑？可以直接“引用”过去就好了：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo4<span class="token punctuation">.</span>a01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Random</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token class-name">Consumer</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo2</span> <span class="token punctuation">{</span>
    <span class="token comment">// 使用Lambda表达式求一个数组的和</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printTotal</span><span class="token punctuation">(</span><span class="token class-name">Demo2</span><span class="token operator">::</span><span class="token function">printTotal</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printTotal</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">]</span> intArray<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;[&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> intArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> tmpInt <span class="token operator">=</span> intArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            total <span class="token operator">+=</span> tmpInt<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> intArray<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>tmpInt<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>tmpInt<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;array: &quot;</span> <span class="token operator">+</span> sb <span class="token operator">+</span> <span class="token string">&quot;, total: &quot;</span> <span class="token operator">+</span> total<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printTotal</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token operator">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> consumer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        consumer<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>请注意其中的双冒号<code>::</code>写法，这被称为“<strong>方法引用</strong>”，是一种新的语法。</p><h3 id="_5-3-方法引用的格式" tabindex="-1"><a class="header-anchor" href="#_5-3-方法引用的格式" aria-hidden="true">#</a> 5.3 方法引用的格式</h3><ul><li><p><strong>符号表示</strong>: <code>::</code></p></li><li><p><strong>符号说明 :</strong> 双冒号为方法引用运算符，而它所在的表达式被称为<strong>方法引用</strong>。</p></li><li><p><strong>应用场景 :</strong> 如果Lambda所要实现的方案 , 已经有其他方法存在相同方案，那么则可以使用方法引用。</p></li></ul><h3 id="_5-4-常见引用方式" tabindex="-1"><a class="header-anchor" href="#_5-4-常见引用方式" aria-hidden="true">#</a> 5.4 常见引用方式</h3><p>方法引用在JDK 8中使用方式相当灵活，有以下几种形式：</p><ol><li><code>instanceName::methodName</code> 对象<code>::</code>方法名</li><li><code>ClassName::staticMethodName</code> 类名<code>::</code>静态方法</li><li><code>ClassName::methodName</code> 类名<code>::</code>普通方法</li><li><code>ClassName::new</code> 类名<code>::</code>new 调用的构造器</li><li><code>TypeName[]::new</code> <code>String[]::new</code> 调用数组的构造器</li></ol><h3 id="_5-5-小结" tabindex="-1"><a class="header-anchor" href="#_5-5-小结" aria-hidden="true">#</a> 5.5 小结</h3><p>首先了解Lambda表达式的冗余情况,体验了方法引用,了解常见的方法引用方式</p><h3 id="_5-5-对象名-引用成员方法" tabindex="-1"><a class="header-anchor" href="#_5-5-对象名-引用成员方法" aria-hidden="true">#</a> 5.5 对象名<code>::</code>引用成员方法</h3><p>这是最常见的一种用法，与上例相同。如果一个类中已经存在了一个成员方法，则可以通过对象名引用成员方法，代码为：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>	<span class="token comment">// 对象::实例方法</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Date</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> supp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> now<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>supp<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> supp2 <span class="token operator">=</span> now<span class="token operator">::</span><span class="token function">getTime</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>supp2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>方法引用的注意事项</strong></p><ol><li>被引用的方法，参数要和接口中抽象方法的参数一样</li><li>当接口抽象方法有返回值时，被引用的方法也必须有返回值</li></ol><h3 id="_5-6-类名-引用静态方法" tabindex="-1"><a class="header-anchor" href="#_5-6-类名-引用静态方法" aria-hidden="true">#</a> 5.6 类名<code>::</code>引用静态方法</h3><p>由于在 <code>java.lang.System</code>类中已经存在了静态方法<code>currentTimeMillis</code>，所以当我们需要通过Lambda来调用该方法时,可以使用方法引用 , 写法是：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Lambda调用静态方法</span>
        <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> supplier1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>supplier1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 方法引用调用静态方法</span>
        <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> supplier2 <span class="token operator">=</span> <span class="token class-name">System</span><span class="token operator">::</span><span class="token function">currentTimeMillis</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>supplier2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-7-类名-引用实例方法" tabindex="-1"><a class="header-anchor" href="#_5-7-类名-引用实例方法" aria-hidden="true">#</a> 5.7 类名::引用实例方法</h3><p>Java面向对象中，类名只能调用静态方法，类名引用实例方法是有前提的，实际上是拿第一个参数作为方法的调用者。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token comment">// 类名引用成员方法</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> uuidStr <span class="token operator">=</span> <span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Lambda调用</span>
        <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> f1 <span class="token operator">=</span> str <span class="token operator">-&gt;</span> str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;lambda: &quot;</span> <span class="token operator">+</span> f1<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>uuidStr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 方法引用</span>
        <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> f2 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token operator">::</span><span class="token function">length</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;方法引用: &quot;</span> <span class="token operator">+</span> f2<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>uuidStr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> length <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;uuidStr: %s, 会从索引为%d的位置开始截取字符串\\n&quot;</span><span class="token punctuation">,</span> uuidStr<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Lambda调用</span>
        <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> bif1 <span class="token operator">=</span> <span class="token punctuation">(</span>s<span class="token punctuation">,</span> integer<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;lambda: &quot;</span> <span class="token operator">+</span> bif1<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>uuidStr<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 方法引用</span>
        <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> bif2 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token operator">::</span><span class="token function">substring</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;方法引用: &quot;</span> <span class="token operator">+</span> bif2<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>uuidStr<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-7-1-测试结果" tabindex="-1"><a class="header-anchor" href="#_5-7-1-测试结果" aria-hidden="true">#</a> 5.7.1 测试结果</h4><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>lambda<span class="token punctuation">:</span> <span class="token number">36</span>
方法引用<span class="token punctuation">:</span> <span class="token number">36</span>
uuidStr<span class="token punctuation">:</span> <span class="token number">70</span>c03e81<span class="token operator">-</span>f0be<span class="token operator">-</span><span class="token number">485</span>b<span class="token operator">-</span>aa37<span class="token operator">-</span><span class="token number">39</span>b7665430d6<span class="token punctuation">,</span> 会从索引为<span class="token number">6</span>的位置开始截取字符串
lambda<span class="token punctuation">:</span> <span class="token number">81</span><span class="token operator">-</span>f0be<span class="token operator">-</span><span class="token number">485</span>b<span class="token operator">-</span>aa37<span class="token operator">-</span><span class="token number">39</span>b7665430d6
方法引用<span class="token punctuation">:</span> <span class="token number">81</span><span class="token operator">-</span>f0be<span class="token operator">-</span><span class="token number">485</span>b<span class="token operator">-</span>aa37<span class="token operator">-</span><span class="token number">39</span>b7665430d6
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-8-类名-new引用构造器" tabindex="-1"><a class="header-anchor" href="#_5-8-类名-new引用构造器" aria-hidden="true">#</a> 5.8 类名::new引用构造器</h3><blockquote><p>由于构造器的名称与类名完全一样。所以构造器引用使用<code>类名称::new</code>的格式表示。首先是一个简单的 Person 类：</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo4<span class="token punctuation">.</span>a02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> address<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>要使用这个函数式接口，可以通过方法引用传递：</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token comment">// 类型::new</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 使用Lambda的无参构造</span>
        <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> supplier1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>supplier1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 使用方法引用的无参构造</span>
        <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> supplier2 <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>supplier2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 使用方法引用来调用有参构造</span>
        <span class="token class-name">PersonConstructFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> pcf <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>pcf<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token string">&quot;杭州市&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Data</span>
    <span class="token annotation punctuation">@AllArgsConstructor</span>
    <span class="token annotation punctuation">@NoArgsConstructor</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> address<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@FunctionalInterface</span>
    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PersonConstructFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">U</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
        <span class="token class-name">R</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">,</span> <span class="token class-name">U</span> u<span class="token punctuation">,</span> <span class="token class-name">V</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ps: 创建无参构造的对象时，可以使用方法引用</p></blockquote><h3 id="_5-9-数组-new-引用数组构造器" tabindex="-1"><a class="header-anchor" href="#_5-9-数组-new-引用数组构造器" aria-hidden="true">#</a> 5.9 数组::new 引用数组构造器</h3><p>数组也是<code>Object</code>的子类对象，所以同样具有构造器，只是语法稍有不同。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token comment">// 类型[]::new</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test05</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Function</span><span class="token operator">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> fun <span class="token operator">=</span> <span class="token punctuation">(</span>len<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr1 <span class="token operator">=</span> fun<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>arr1 <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> arr1<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Function</span><span class="token operator">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> fun2 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr2 <span class="token operator">=</span> fun<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>arr2 <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> arr2<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-10-小结" tabindex="-1"><a class="header-anchor" href="#_5-10-小结" aria-hidden="true">#</a> 5.10 小结</h3><p>方法引用是对Lambda表达式符合特定情况下的一种缩写，它使得我们的Lambda表达式更加的精简，也可以理解为</p><p>Lambda表达式的缩写形式 , 不过要注意的是方法引用只能&quot;引用&quot;已经存在的方法!</p><h2 id="_6-stream-流" tabindex="-1"><a class="header-anchor" href="#_6-stream-流" aria-hidden="true">#</a> 6 Stream 流</h2><h3 id="_6-1-stream流介绍" tabindex="-1"><a class="header-anchor" href="#_6-1-stream流介绍" aria-hidden="true">#</a> 6.1 Stream流介绍</h3><h4 id="_6-1-1-目标" tabindex="-1"><a class="header-anchor" href="#_6-1-1-目标" aria-hidden="true">#</a> 6.1.1 目标</h4><ol><li>了解集合的处理数据的弊端</li><li>理解Stream流的思想和作用</li></ol><h4 id="_6-1-2-集合处理数据" tabindex="-1"><a class="header-anchor" href="#_6-1-2-集合处理数据" aria-hidden="true">#</a> 6.1.2 集合处理数据</h4><h5 id="_6-1-2-1-常规做法" tabindex="-1"><a class="header-anchor" href="#_6-1-2-1-常规做法" aria-hidden="true">#</a> 6.1.2.1 常规做法</h5><p>当我们需要对集合中的元素进行操作的时候，除了必需的添加、删除、获取外，最典型的就是集合遍历。我们来体验 集合操作数据的常规做法，需求如下：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>一个ArrayList集合中存储有以下数据:张无忌,周芷若,赵敏,张强,张三丰
需求:1.拿到所有姓张的 2.拿到名字长度为3个字的 3.打印这些数据
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CollectionDemo</span> <span class="token punctuation">{</span>
    <span class="token comment">// 一个ArrayList集合中存储有以下数据:张无忌,周芷若,赵敏,张强,张三丰</span>
    <span class="token comment">// 需求:1.拿到所有姓张的 2.拿到名字长度为3个字的 3.打印这些数据</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
                <span class="token string">&quot;张无忌&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周芷若&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;赵敏&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张强&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三丰&quot;</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> str <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;张&quot;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_6-1-2-2-stream的更优写法" tabindex="-1"><a class="header-anchor" href="#_6-1-2-2-stream的更优写法" aria-hidden="true">#</a> 6.1.2.2 Stream的更优写法</h5><p>下面来看一下借助Java 8的Stream API，修改后的代码：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CollectionDemo2</span> <span class="token punctuation">{</span>
    <span class="token comment">// 一个ArrayList集合中存储有以下数据:张无忌,周芷若,赵敏,张强,张三丰</span>
    <span class="token comment">// 需求:1.拿到所有姓张的 2.拿到名字长度为3个字的 3.打印这些数据</span>
    <span class="token comment">// 通过Stream来完成此需求</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
                <span class="token string">&quot;张无忌&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周芷若&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;赵敏&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张强&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三丰&quot;</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>str <span class="token operator">-&gt;</span> str<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;张&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>str <span class="token operator">-&gt;</span> str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// list.stream().filter(str -&gt; str.startsWith(&quot;张&quot;)).filter(str -&gt; str.length() == 3).forEach(System.out::println);</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>直接阅读代码的字面意思即可完美展示无关逻辑方式的语义：<strong>获取流、过滤姓张、过滤长度为3、逐一打印</strong>。</p><p>我们真正要做的事情内容被更好地体现在代码中。</p><blockquote><p>ps: 个人感觉，这两种写法没有太大的差距,要说Stream的优势吧，Stream流可以将代码简化成1行</p></blockquote><h4 id="_6-1-3-stream流式思想概述" tabindex="-1"><a class="header-anchor" href="#_6-1-3-stream流式思想概述" aria-hidden="true">#</a> 6.1.3 Stream流式思想概述</h4><blockquote><p><strong>注意：<code>Stream</code>和<code>IO</code>流(<code>InputStream/OutputStream</code>)没有任何关系，请暂时忘记对传统<code>IO</code>流的固有印象！</strong></p></blockquote><p>Stream流式思想类似于工厂车间的“<strong>生产流水线</strong>”，Stream流不是一种数据结构，不保存数据，而是对数据进行加工处理。<code>Stream</code>可以看作是流水线上的一个工序。在流水线上，通过多个工序让一个原材料加工成一个商品。</p><figure><img src="`+v+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+b+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+g+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Stream API能让我们快速完成许多复杂的操作，如筛选、切片、映射、查找、去除重复，统计，匹配和归约。</p><h4 id="_6-1-4-小结" tabindex="-1"><a class="header-anchor" href="#_6-1-4-小结" aria-hidden="true">#</a> 6.1.4 小结</h4><p>Stream是流式思想,相当于工厂的流水线,对集合中的数据进行加工处理</p><h3 id="_6-2-获取stream流的两种方式" tabindex="-1"><a class="header-anchor" href="#_6-2-获取stream流的两种方式" aria-hidden="true">#</a> 6.2 获取Stream流的两种方式</h3><h4 id="_6-2-1-目标" tabindex="-1"><a class="header-anchor" href="#_6-2-1-目标" aria-hidden="true">#</a> 6.2.1 目标</h4><ol><li>掌握根据Collection获取流</li><li>掌握Stream中的静态方法of获取流</li></ol><p><code>java.util.stream.Stream&lt;T&gt;</code> 是JDK 8新加入的流接口。</p><p>获取一个流非常简单，有以下几种常用的方式：</p><ul><li><p>所有的<code>Collection</code>集合都可以通过<code>stream</code>默认方法获取流；</p></li><li><p><code>Stream</code>接口的静态方法<code>of</code>可以获取数组对应的流。</p></li></ul><h5 id="_6-2-1-1-方式1-根据collection获取流" tabindex="-1"><a class="header-anchor" href="#_6-2-1-1-方式1-根据collection获取流" aria-hidden="true">#</a> 6.2.1.1 方式1 : 根据Collection获取流</h5><p>首先，<code>java.util.Collection</code> 接口中加入了default方法<code>stream</code>用来获取流，所以其所有实现类均可获取流。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Collection</span> <span class="token punctuation">{</span>
	<span class="token keyword">default</span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">Stream</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo04GetStream</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 集合获取流</span>
        <span class="token comment">// Collection接口中的方法: default Stream&lt;E&gt; stream() 获取流</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ...</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stream1 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ...</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stream2 <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Vector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> vector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ...</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stream3 <span class="token operator">=</span> vector<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>java.util.Map</code>接口不是<code>Collection</code>的子接口，所以获取对应的流需要分<code>key、value</code>或<code>entry</code>等情况：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">Stream</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo05GetStream</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Map获取流</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ...</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> keyStream <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> valueStream <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> entryStream <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_6-2-1-2-方式2-stream中的静态方法of获取流" tabindex="-1"><a class="header-anchor" href="#_6-2-1-2-方式2-stream中的静态方法of获取流" aria-hidden="true">#</a> 6.2.1.2 方式2 : Stream中的静态方法of获取流</h5><p>由于数组对象不可能添加默认方法，所以<code>Stream</code>接口中提供了静态方法<code>of</code> ，使用很简单：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">Stream</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo06GetStream</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Stream中的静态方法: static Stream of(T... values)</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stream6 <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;aa&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bb&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;aa&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bb&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cc&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stream7 <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stream8 <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 注意:基本数据类型的数组不行</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr3 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">Stream</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> stream9 <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>arr3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>备注：<code>of</code>方法的参数其实是一个可变参数，所以支持数组。</p></blockquote><h4 id="_6-2-2-小结" tabindex="-1"><a class="header-anchor" href="#_6-2-2-小结" aria-hidden="true">#</a> 6.2.2 小结</h4><p>学习了两种获取流的方式:</p><blockquote><p>1. 通过Collection接口中的默认方法Stream stream() 2. 通过Stream接口中的静态of方法</p></blockquote><h3 id="_6-3-stream常用方法和注意事项" tabindex="-1"><a class="header-anchor" href="#_6-3-stream常用方法和注意事项" aria-hidden="true">#</a> 6.3 Stream常用方法和注意事项</h3><h4 id="_6-3-1-目标" tabindex="-1"><a class="header-anchor" href="#_6-3-1-目标" aria-hidden="true">#</a> 6.3.1 目标</h4><ol><li>了解Stream常用方法的分类</li><li>掌握Stream注意事项</li></ol><h4 id="_6-3-2-stream常用方法" tabindex="-1"><a class="header-anchor" href="#_6-3-2-stream常用方法" aria-hidden="true">#</a> 6.3.2 Stream常用方法</h4><p>Stream流模型的操作很丰富，这里介绍一些常用的API。这些方法可以被分成两种：</p><table><thead><tr><th>方法名</th><th>方法作用</th><th>返回值类型</th><th>方法种类</th></tr></thead><tbody><tr><td>count</td><td>统计个数</td><td>long</td><td>终结</td></tr><tr><td>forEach</td><td>逐一处理</td><td>void</td><td>终结</td></tr><tr><td>filter</td><td>过滤</td><td>Stream</td><td>函数拼接</td></tr><tr><td>limit</td><td>取用前几个</td><td>Stream</td><td>函数拼接</td></tr><tr><td>skip</td><td>跳过前几个</td><td>Stream</td><td>函数拼接</td></tr><tr><td>map</td><td>映射</td><td>Stream</td><td>函数拼接</td></tr><tr><td>concat</td><td>组合</td><td>Stream</td><td>函数拼接</td></tr></tbody></table><ul><li><p><strong>终结方法</strong>：返回值类型不再是<code>Stream</code>类型的方法，不再支持链式调用。本小节中，终结方法包括<code>count</code>和<code>forEach</code>方法。</p></li><li><p><strong>非终结方法</strong>：返回值类型仍然是<code>Stream</code>类型的方法，支持链式调用。（除了终结方法外，其余方法均为非终结方法。）</p></li></ul><blockquote><p>备注：本小节之外的更多方法，请自行参考API文档。</p></blockquote><h4 id="_6-3-3-stream注意事项-重要" tabindex="-1"><a class="header-anchor" href="#_6-3-3-stream注意事项-重要" aria-hidden="true">#</a> 6.3.3 Stream注意事项(重要)</h4><ul><li><p>Stream只能操作一次</p></li><li><p>Stream方法返回的是新的流</p></li><li><p>Stream不调用终结方法，中间的操作不会执行</p></li></ul><h4 id="_6-3-4-小结" tabindex="-1"><a class="header-anchor" href="#_6-3-4-小结" aria-hidden="true">#</a> 6.3.4 小结</h4><p>我们学习了Stream的常用方法,我们知道Stream这些常用方法可以分成两类,终结方法,函数拼接方法</p><p>Stream的3个注意事项:</p><ul><li>Stream只能操作一次</li><li>Stream方法返回的是新的流</li><li>Stream不调用终结方法，中间的操作不会执行</li></ul><h3 id="_6-4-stream常用方法" tabindex="-1"><a class="header-anchor" href="#_6-4-stream常用方法" aria-hidden="true">#</a> 6.4 Stream常用方法</h3><h4 id="_6-4-1-stream流的foreach方法" tabindex="-1"><a class="header-anchor" href="#_6-4-1-stream流的foreach方法" aria-hidden="true">#</a> 6.4.1 Stream流的forEach方法</h4><p>forEach 用来遍历流中的数据</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">void</span> <span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>该方法接收一个<code>Consumer</code>接口函数，会将每一个流元素交给该函数进行处理。例如：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>   <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testForEach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> one <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>one<span class="token punctuation">,</span> <span class="token string">&quot;迪丽热巴&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;宋远桥&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;苏星河&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;老子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;庄子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;孙子&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*one.stream().forEach((String s) -&gt; {
            System.out.println(s);
        });*/</span>

        <span class="token comment">// 简写</span>
        <span class="token comment">// one.stream().forEach(s -&gt; System.out.println(s));</span>
        one<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-4-2-stream流的count方法" tabindex="-1"><a class="header-anchor" href="#_6-4-2-stream流的count方法" aria-hidden="true">#</a> 6.4.2 Stream流的<code>count</code>方法</h4><p>Stream流提供<code>count</code>方法来统计其中的元素个数：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">long</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>该方法返回一个<code>long</code>值代表元素个数。基本使用：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> one <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>one<span class="token punctuation">,</span> <span class="token string">&quot;迪丽热巴&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;宋远桥&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;苏星河&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;老子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;庄子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;孙子&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>one<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-4-3-stream流的filter方法" tabindex="-1"><a class="header-anchor" href="#_6-4-3-stream流的filter方法" aria-hidden="true">#</a> 6.4.3 Stream流的ﬁlter方法</h4><p>ﬁlter用于过滤数据，返回符合过滤条件的数据</p><figure><img src="`+f+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>可以通过<code>filter</code>方法将一个流转换成另一个子集流。方法声明：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>该接口接收一个<code>Predicate</code>函数式接口参数（可以是一个Lambda或方法引用）作为筛选条件。</p><p>Stream流中的<code>filter</code>方法基本使用的代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> one <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>one<span class="token punctuation">,</span> <span class="token string">&quot;迪丽热巴&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;宋远桥&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;苏星河&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;老子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;庄子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;孙子&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        one<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这里通过Lambda表达式来指定了筛选的条件：姓名长度为2个字。</p><h4 id="_6-4-4-stream流的limit方法" tabindex="-1"><a class="header-anchor" href="#_6-4-4-stream流的limit方法" aria-hidden="true">#</a> 6.4.4 Stream流的limit方法</h4><figure><img src="`+A+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><code>limit</code>方法可以对流进行截取，只取用前n个。方法签名：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">limit</span><span class="token punctuation">(</span><span class="token keyword">long</span> maxSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>参数是一个long型，如果集合当前长度大于参数则进行截取。否则不进行操作。基本使用：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testLimit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> one <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>one<span class="token punctuation">,</span> <span class="token string">&quot;迪丽热巴&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;宋远桥&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;苏星河&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;老子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;庄子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;孙子&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        one<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>迪丽热巴
宋远桥
苏星河

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-4-5-stream流的skip方法" tabindex="-1"><a class="header-anchor" href="#_6-4-5-stream流的skip方法" aria-hidden="true">#</a> 6.4.5 Stream流的skip方法</h4><figure><img src="`+h+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果希望跳过前几个元素，可以使用<code>skip</code>方法获取一个截取之后的新流：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">skip</span><span class="token punctuation">(</span><span class="token keyword">long</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果流的当前长度大于n，则跳过前n个；否则将会得到一个长度为0的空流。基本使用：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSkip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> one <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>one<span class="token punctuation">,</span> <span class="token string">&quot;迪丽热巴&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;宋远桥&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;苏星河&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;老子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;庄子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;孙子&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        one<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>苏星河
老子
庄子
孙子
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-4-6-stream流的map方法" tabindex="-1"><a class="header-anchor" href="#_6-4-6-stream流的map方法" aria-hidden="true">#</a> 6.4.6 <strong><code>Stream</code>流的<code>map</code>方法</strong></h4><figure><img src="`+y+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果需要将流中的元素映射到另一个流中，可以使用<code>map</code>方法。方法签名：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> mapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>该接口需要一个<code>Function</code>函数式接口参数，可以将当前流中的T类型数据转换为另一种R类型的流。</p><p>Stream流中的<code>map</code>方法基本使用的代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> original <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;11&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;22&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;33&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> original<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">parseInt</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code><span class="token number">21</span>
<span class="token number">32</span>
<span class="token number">43</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这段代码中，<code>map</code>方法的参数通过方法引用，将字符串类型转换成为了int类型（并自动装箱为 Integer 类对象）。</p><h4 id="_6-4-7-stream流的sorted方法" tabindex="-1"><a class="header-anchor" href="#_6-4-7-stream流的sorted方法" aria-hidden="true">#</a> 6.4.7 Stream流的sorted方法</h4><p>如果需要将数据排序，可以使用<code>sorted</code>方法。方法签名：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">sorted</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> comparator<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_6-4-7-1-基本使用" tabindex="-1"><a class="header-anchor" href="#_6-4-7-1-基本使用" aria-hidden="true">#</a> 6.4.7.1 基本使用</h5><p><code>Stream</code>流中的<code>sorted</code>方法基本使用的代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// sorted(): 根据元素的自然顺序排序</span>
        <span class="token comment">// sorted(Comparator&lt;? super T&gt; comparator): 根据比较器指定的规则排序</span>
        <span class="token comment">// 升序排列</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;升序排列&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 降序排列</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\\n降序排列&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> o2 <span class="token operator">-</span> o1<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>这段代码中，<code>sorted</code>方法根据元素的自然顺序排序，也可以指定比较器排序。</p></blockquote><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>升序排列
<span class="token number">11</span>
<span class="token number">22</span>
<span class="token number">33</span>
<span class="token number">55</span>

降序排列
<span class="token number">55</span>
<span class="token number">33</span>
<span class="token number">22</span>
<span class="token number">11</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-4-8-stream流的distinct方法" tabindex="-1"><a class="header-anchor" href="#_6-4-8-stream流的distinct方法" aria-hidden="true">#</a> 6.4.8 Stream流的distinct方法</h4><figure><img src="`+q+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果需要去除重复数据，可以使用<code>distinct</code>方法。方法签名：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="_6-4-8-1-基本使用" tabindex="-1"><a class="header-anchor" href="#_6-4-8-1-基本使用" aria-hidden="true">#</a> 6.4.8.1 基本使用</h5><p>Stream流中的<code>distinct</code>方法基本使用的代码如：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testDistinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">)</span>
                <span class="token comment">// 去重</span>
                <span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token comment">// 升序排列</span>
                <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token comment">// 打印</span>
                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果是自定义类型如何是否也能去除重复的数据呢？</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Data</span>
    <span class="token annotation punctuation">@AllArgsConstructor</span>
    <span class="token annotation punctuation">@NoArgsConstructor</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> address<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testDistinct2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;刘德华&quot;</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;张学友&quot;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;张学友&quot;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;黎明&quot;</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token comment">// 按年龄升序进行排序</span>
                <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparingInt</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>自定义类型是根据对象的hashCode和equals来去除重复元素的。</p></blockquote><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>黎明<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">52</span><span class="token punctuation">,</span> address<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>张学友<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">56</span><span class="token punctuation">,</span> address<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>刘德华<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">58</span><span class="token punctuation">,</span> address<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-4-9-stream流的match方法" tabindex="-1"><a class="header-anchor" href="#_6-4-9-stream流的match方法" aria-hidden="true">#</a> 6.4.9 Stream流的match方法</h4><p>如果需要判断数据是否匹配指定的条件，可以使用<code>Match</code>相关方法。方法签名：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">boolean</span> <span class="token function">allMatch</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">boolean</span> <span class="token function">anyMatch</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">boolean</span> <span class="token function">noneMatch</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_6-4-9-1-基本使用" tabindex="-1"><a class="header-anchor" href="#_6-4-9-1-基本使用" aria-hidden="true">#</a> 6.4.9.1 基本使用</h5><p>Stream流中的<code>Match</code>相关方法基本使用的代码如：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testMatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">allMatch</span><span class="token punctuation">(</span>ele <span class="token operator">-&gt;</span> ele <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// allMatch: 元素是否全部满足条件</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">anyMatch</span><span class="token punctuation">(</span>ele <span class="token operator">-&gt;</span> ele <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// allMatch: 元素是否任意有一个满足条件</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">noneMatch</span><span class="token punctuation">(</span>ele <span class="token operator">-&gt;</span> ele <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// allMatch: 素是否全部不满足条件</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token boolean">false</span>
<span class="token boolean">true</span>
<span class="token boolean">false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-4-10-stream流的find方法" tabindex="-1"><a class="header-anchor" href="#_6-4-10-stream流的find方法" aria-hidden="true">#</a> 6.4.10 Stream流的ﬁnd方法</h4><figure><img src="`+w+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果需要找到某些数据，可以使用<code>find</code>相关方法。方法签名：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">findFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAny</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_6-4-10-1-基本使用" tabindex="-1"><a class="header-anchor" href="#_6-4-10-1-基本使用" aria-hidden="true">#</a> 6.4.10.1 基本使用</h5><p>Stream流中的<code>find</code>相关方法基本使用的代码如：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> first <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;first = &quot;</span> <span class="token operator">+</span> first<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> any <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findAny</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;any = &quot;</span> <span class="token operator">+</span> any<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>first <span class="token operator">=</span> <span class="token number">5</span>
any <span class="token operator">=</span> <span class="token number">5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-4-11-stream流的max和min方法" tabindex="-1"><a class="header-anchor" href="#_6-4-11-stream流的max和min方法" aria-hidden="true">#</a> 6.4.11 Stream流的max和min方法</h4><figure><img src="`+S+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果需要获取最大和最小值，可以使用<code>max</code>和<code>min</code>方法。方法签名：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> comparator<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> comparator<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_6-4-11-1-基本使用" tabindex="-1"><a class="header-anchor" href="#_6-4-11-1-基本使用" aria-hidden="true">#</a> 6.4.11.1 基本使用</h5><p>Stream流中的<code>max</code>和<code>min</code>相关方法基本使用的代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testMax_Min</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> max <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparingInt</span><span class="token punctuation">(</span>o <span class="token operator">-&gt;</span> o<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;max = &quot;</span> <span class="token operator">+</span> max<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> min <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparingInt</span><span class="token punctuation">(</span>o <span class="token operator">-&gt;</span> o<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;min = &quot;</span> <span class="token operator">+</span> min<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>max <span class="token operator">=</span> <span class="token number">6</span>
min <span class="token operator">=</span> <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-4-12-stream流的reduce方法" tabindex="-1"><a class="header-anchor" href="#_6-4-12-stream流的reduce方法" aria-hidden="true">#</a> 6.4.12 Stream流的reduce方法</h4><figure><img src="`+T+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果需要将所有数据归纳得到一个数据，可以使用<code>reduce</code>方法。方法签名：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">T</span> <span class="token function">reduce</span><span class="token punctuation">(</span><span class="token class-name">T</span> identity<span class="token punctuation">,</span> <span class="token class-name">BinaryOperator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> accumulator<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="_6-4-12-1-基本使用" tabindex="-1"><a class="header-anchor" href="#_6-4-12-1-基本使用" aria-hidden="true">#</a> 6.4.12.1 基本使用</h5><p>Stream流中的 reduce 相关方法基本使用的代码如：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testReduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// reduce:</span>
        <span class="token comment">// 第一次将默认做赋值给x, 取出第一个元素赋值给y,进行操作</span>
        <span class="token comment">// 第二次,将第一次的结果赋值给x, 取出二个元素赋值给y,进行操作</span>
        <span class="token comment">// 第三次,将第二次的结果赋值给x, 取出三个元素赋值给y,进行操作</span>
        <span class="token comment">// 第四次,将第三次的结果赋值给x, 取出四个元素赋值给y,进行操作</span>
        <span class="token comment">// 常规操作</span>
        <span class="token class-name">Integer</span> totalValue1 <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;totalValue1 = &quot;</span> <span class="token operator">+</span> totalValue1<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 使用Integer.sum</span>
        <span class="token class-name">Integer</span> totalValue2 <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;totalValue2 = &quot;</span> <span class="token operator">+</span> totalValue2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 使用Integer::sum</span>
        <span class="token class-name">Integer</span> totalValue3 <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">sum</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;totalValue3 = &quot;</span> <span class="token operator">+</span> totalValue3<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 求最大值</span>
        <span class="token class-name">Integer</span> maxValue <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> x <span class="token operator">&gt;</span> y <span class="token operator">?</span> x <span class="token operator">:</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;maxValue = &quot;</span> <span class="token operator">+</span> maxValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>totalValue1 <span class="token operator">=</span> <span class="token number">21</span>
totalValue2 <span class="token operator">=</span> <span class="token number">21</span>
totalValue3 <span class="token operator">=</span> <span class="token number">21</span>
maxValue <span class="token operator">=</span> <span class="token number">9</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+_+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="_6-4-13-stream流的map和reduce组合使用" tabindex="-1"><a class="header-anchor" href="#_6-4-13-stream流的map和reduce组合使用" aria-hidden="true">#</a> 6.4.13 Stream流的map和reduce组合使用</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testMapReduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 求出所有年龄的总和</span>
        <span class="token keyword">int</span> totalAge <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
                        <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;刘德华&quot;</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;张学友&quot;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;郭富城&quot;</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;黎明&quot;</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> x <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;totalAge = &quot;</span> <span class="token operator">+</span> totalAge<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 找出最大年龄</span>
        <span class="token keyword">int</span> maxAge <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
                        <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;刘德华&quot;</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;张学友&quot;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;郭富城&quot;</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;黎明&quot;</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> x <span class="token operator">&gt;</span> y <span class="token operator">?</span> x <span class="token operator">:</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;maxAge = &quot;</span> <span class="token operator">+</span> maxAge<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 统计 数字2 出现的次数</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>integer <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span> <span class="token punctuation">(</span>integer <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                                <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">sum</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;count = &quot;</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-4-14-stream流的maptoint" tabindex="-1"><a class="header-anchor" href="#_6-4-14-stream流的maptoint" aria-hidden="true">#</a> 6.4.14 Stream流的mapToInt</h4><p>如果需要将<code>Stream</code>中的<code>Integer</code>类型数据转成<code>int</code>类型，可以使用<code>mapToInt</code>方法。方法签名：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">IntStream</span> <span class="token function">mapToInt</span><span class="token punctuation">(</span><span class="token class-name">ToIntFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> mapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+I+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h5 id="_6-4-14-1-基本使用" tabindex="-1"><a class="header-anchor" href="#_6-4-14-1-基本使用" aria-hidden="true">#</a> 6.4.14.1 基本使用</h5><p>Stream流中的<code>mapToInt</code>相关方法基本使用的代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>   <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Integer占用的内存比int多,在Stream流操作中会自动装箱和拆箱</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stream <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 把大于3的和打印出来</span>
        <span class="token comment">// Integer result = stream</span>
        <span class="token comment">// .filter(i -&gt; i.intValue() &gt; 3)</span>
        <span class="token comment">// .reduce(0, Integer::sum);</span>
        <span class="token comment">// System.out.println(result);</span>
        <span class="token comment">// 先将流中的Integer数据转成int,后续都是操作int类型</span>
        <span class="token class-name">IntStream</span> intStream <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">mapToInt</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">intValue</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> reduce <span class="token operator">=</span> intStream
                <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>i <span class="token operator">-&gt;</span> i <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">sum</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>reduce<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 将IntStream转化为Stream&lt;Integer&gt;</span>
        <span class="token class-name">IntStream</span> intStream1 <span class="token operator">=</span> <span class="token class-name">IntStream</span><span class="token punctuation">.</span><span class="token function">rangeClosed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> boxed <span class="token operator">=</span> intStream1<span class="token punctuation">.</span><span class="token function">boxed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        boxed<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code><span class="token number">9</span>
<span class="token keyword">class</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> <span class="token number">1</span>
<span class="token keyword">class</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> <span class="token number">2</span>
<span class="token keyword">class</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> <span class="token number">3</span>
<span class="token keyword">class</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> <span class="token number">4</span>
<span class="token keyword">class</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> <span class="token number">5</span>
<span class="token keyword">class</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> <span class="token number">6</span>
<span class="token keyword">class</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> <span class="token number">7</span>
<span class="token keyword">class</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> <span class="token number">8</span>
<span class="token keyword">class</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> <span class="token number">9</span>
<span class="token keyword">class</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> <span class="token number">10</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-4-15-stream流的concat方法" tabindex="-1"><a class="header-anchor" href="#_6-4-15-stream流的concat方法" aria-hidden="true">#</a> 6.4.15 Stream流的concat方法</h4><p>如果有两个流，希望合并成为一个流，那么可以使用<code>Stream</code>接口的静态方法<code>concat</code>：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">concat</span><span class="token punctuation">(</span><span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> a<span class="token punctuation">,</span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> b<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>备注：这是一个静态方法，与<code>java.lang.String</code>当中的<code>concat</code>方法是不同的。</p></blockquote><p>该方法的基本使用代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testContact2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
                <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
                <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stream1 <span class="token operator">=</span> list1<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stream2 <span class="token operator">=</span> list2<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stream <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>stream1<span class="token punctuation">,</span> stream2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        stream<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">print</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">12345678910</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_6-5-综合案例" tabindex="-1"><a class="header-anchor" href="#_6-5-综合案例" aria-hidden="true">#</a> 6.5 综合案例</h3><p>现在有两个 ArrayList 集合存储队伍当中的多个成员姓名，要求使用传统的for循环（或增强for循环）<strong>依次</strong>进行以下 若干操作步骤：</p><p>1、 第一个队伍只要名字为3个字的成员姓名；</p><p>2、第一个队伍筛选之后只要前3个人；</p><p>3、第二个队伍只要姓张的成员姓名；</p><p>4、第二个队伍筛选之后不要前2个人；</p><p>5、将两个队伍合并为一个队伍；</p><p>6、根据姓名创建 Person 对象；</p><p>7、打印整个队伍的Person对象信息。</p><p>两个队伍（集合）的代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoArrayListNames</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> one <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
                <span class="token string">&quot;迪丽热巴&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;宋远桥&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;苏星河&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;老子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;庄子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;孙子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;洪七公&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;刘德华&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> two <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
                <span class="token string">&quot;古力娜扎&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张无忌&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三丰&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;赵丽颖&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张二狗&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张天爱&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>而 Person 类的代码为：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>
    <span class="token annotation punctuation">@Data</span>
    <span class="token annotation punctuation">@AllArgsConstructor</span>
    <span class="token annotation punctuation">@NoArgsConstructor</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-5-1-传统方式" tabindex="-1"><a class="header-anchor" href="#_6-5-1-传统方式" aria-hidden="true">#</a> 6.5.1 传统方式</h4><p>使用for循环 , 示例代码:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoArrayListNames</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * 现在有两个 ArrayList 集合存储队伍当中的多个成员姓名，要求使用传统的for循环（或增强for循环）
     * **依次**进行以下 若干操作步骤：
     * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
     * 1、 第一个队伍只要名字为3个字的成员姓名；
     * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
     * 2、第一个队伍筛选之后只要前3个人；
     * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
     * 3、第二个队伍只要姓张的成员姓名；
     * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
     * 4、第二个队伍筛选之后不要前2个人；
     * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
     * 5、将两个队伍合并为一个队伍；
     * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
     * 6、根据姓名创建 Person 对象；
     * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
     * 7、打印整个队伍的Person对象信息。
     *
     * <span class="token keyword">@param</span> <span class="token parameter">args</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> one <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
                <span class="token string">&quot;迪丽热巴&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;宋远桥&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;苏星河&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;老子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;庄子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;孙子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;洪七公&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;刘德华&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> two <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
                <span class="token string">&quot;古力娜扎&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张无忌&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三丰&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;赵丽颖&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张二狗&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张天爱&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> concatList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> str <span class="token operator">:</span> one<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                concatList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
                count<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> str <span class="token operator">:</span> two<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;张&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                count<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">||</span> count <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">continue</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                concatList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> str <span class="token operator">:</span> concatList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Data</span>
    <span class="token annotation punctuation">@AllArgsConstructor</span>
    <span class="token annotation punctuation">@NoArgsConstructor</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行结果为：</p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>DemoArrayListNames<span class="token punctuation">.</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>宋远桥<span class="token punctuation">)</span>
DemoArrayListNames<span class="token punctuation">.</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>苏星河<span class="token punctuation">)</span>
DemoArrayListNames<span class="token punctuation">.</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>洪七公<span class="token punctuation">)</span>
DemoArrayListNames<span class="token punctuation">.</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>张二狗<span class="token punctuation">)</span>
DemoArrayListNames<span class="token punctuation">.</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>张天爱<span class="token punctuation">)</span>
DemoArrayListNames<span class="token punctuation">.</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>张三<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-5-2-stream方式" tabindex="-1"><a class="header-anchor" href="#_6-5-2-stream方式" aria-hidden="true">#</a> 6.5.2 Stream方式</h4><p>等效的Stream流式处理代码为：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">Stream</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoArrayListNames2</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> one <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
                <span class="token string">&quot;迪丽热巴&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;宋远桥&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;苏星河&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;老子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;庄子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;孙子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;洪七公&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;刘德华&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> two <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
                <span class="token string">&quot;古力娜扎&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张无忌&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三丰&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;赵丽颖&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张二狗&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张天爱&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 第一个队伍只要名字为3个字的成员姓名；</span>
		<span class="token comment">// 第一个队伍筛选之后只要前3个人；</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stream1 <span class="token operator">=</span> one<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>name <span class="token operator">-&gt;</span> name<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 第二个队伍只要姓张的成员姓名；</span>
		<span class="token comment">// 第二个队伍筛选之后不要前2个人；</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stream2 <span class="token operator">=</span> two<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>name <span class="token operator">-&gt;</span> name<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;张&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 将两个队伍合并为一个队伍；</span>
		<span class="token comment">// 根据姓名创建Person对象；</span>
		<span class="token comment">// 打印整个队伍的Person对象信息。</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> concatStream <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>stream1<span class="token punctuation">,</span> stream2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        concatStream<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Data</span>
    <span class="token annotation punctuation">@AllArgsConstructor</span>
    <span class="token annotation punctuation">@NoArgsConstructor</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行效果完全一样：</p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>DemoArrayListNames2<span class="token punctuation">.</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>宋远桥<span class="token punctuation">)</span>
DemoArrayListNames2<span class="token punctuation">.</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>苏星河<span class="token punctuation">)</span>
DemoArrayListNames2<span class="token punctuation">.</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>洪七公<span class="token punctuation">)</span>
DemoArrayListNames2<span class="token punctuation">.</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>张二狗<span class="token punctuation">)</span>
DemoArrayListNames2<span class="token punctuation">.</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>张天爱<span class="token punctuation">)</span>
DemoArrayListNames2<span class="token punctuation">.</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>张三<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-6-收集stream流中的结果" tabindex="-1"><a class="header-anchor" href="#_6-6-收集stream流中的结果" aria-hidden="true">#</a> 6.6 收集Stream流中的结果</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">IntStream</span> intStream <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapToInt</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">intValue</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
intStream<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>n <span class="token operator">-&gt;</span> n <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
intStream<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>n <span class="token operator">-&gt;</span> n <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span>count<span class="token punctuation">;</span>
intStream<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>n <span class="token operator">-&gt;</span> n <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">sum</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对流操作完成之后，如果需要将流的结果保存到数组或集合中，可以收集流中的数据</p><h4 id="_6-6-1-目标" tabindex="-1"><a class="header-anchor" href="#_6-6-1-目标" aria-hidden="true">#</a> 6.6.1 目标</h4><ol><li>掌握Stream流中的结果到集合中</li><li>掌握Stream流中的结果到数组中</li></ol><h4 id="_6-6-2-stream流中的结果到集合中" tabindex="-1"><a class="header-anchor" href="#_6-6-2-stream流中的结果到集合中" aria-hidden="true">#</a> 6.6.2 Stream流中的结果到集合中</h4><p>Stream流提供<code>collect</code>方法，其参数需要一个<code>java.util.stream.Collector&lt;T, A, R&gt;</code> 接口对象来指定收集到哪种集合中。<code>java.util.stream.Collectors</code>类提供一些方法，可以作为<code>Collector</code>接口的实例：</p><ul><li><p><code>public static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; toList()</code>：转换为 List 集合。</p></li><li><p><code>public static &lt;T&gt; Collector&lt;T, ?, Set&lt;T&gt;&gt; toSet()</code> ：转换为 Set 集合。</p></li></ul><p><strong>下面是这两个方法的基本使用代码</strong>：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token doc-comment comment">/**
     * 将流中数据收集到集合中
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testStreamToCollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stream <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;aa&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bb&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// List&lt;String&gt; list = stream.collect(Collectors.toList());</span>
        <span class="token comment">// Set&lt;String&gt; set = stream.collect(Collectors.toSet());</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> arrayList <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toCollection</span><span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hashSet <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toCollection</span><span class="token punctuation">(</span><span class="token class-name">HashSet</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-6-3-stream流中的结果到数组中" tabindex="-1"><a class="header-anchor" href="#_6-6-3-stream流中的结果到数组中" aria-hidden="true">#</a> 6.6.3 Stream流中的结果到数组中</h4><p>Stream提供<code>toArray</code>方法来将结果放到一个数组中，返回值类型是<code>Object[]</code>的：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>其使用场景如：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token doc-comment comment">/**
     * Stream流中的结果到数组中
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testStreamToArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stream1 <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;aa&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bb&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 转成Object数组</span>
        <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> objects <span class="token operator">=</span> stream1<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Object</span> obj <span class="token operator">:</span> objects<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stream2 <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;aa&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bb&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 转成指定类型数组</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> strings <span class="token operator">=</span> stream2<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> str <span class="token operator">:</span> strings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-6-4-对流中数据进行聚合计算" tabindex="-1"><a class="header-anchor" href="#_6-6-4-对流中数据进行聚合计算" aria-hidden="true">#</a> 6.6.4 对流中数据进行聚合计算</h4><p>当我们使用Stream流处理数据后，可以像数据库的聚合函数一样对某个字段进行操作。比如获取最大值，获取最小值，求总和，平均值，统计数量。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testStreamToOther</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;赵丽颖&quot;</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;杨颖&quot;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;迪丽热巴&quot;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;柳岩&quot;</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">77</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取分数最大值</span>
        <span class="token comment">// System.out.println(studentStream.collect(Collectors.maxBy((o1, o2) -&gt; o1.getScore() - o2.getScore())).get());</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>studentList<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparingInt</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token operator">::</span><span class="token function">getScore</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElseGet</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取分数最小值</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>studentList<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparingInt</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token operator">::</span><span class="token function">getScore</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElseGet</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 求总和</span>
        <span class="token comment">// System.out.println(studentList.stream().collect(Collectors.summingInt(student -&gt; student.getScore())));</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>studentList<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapToInt</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token operator">::</span><span class="token function">getScore</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 平均值</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>studentList<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapToInt</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token operator">::</span><span class="token function">getScore</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">average</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 统计数量</span>
        <span class="token comment">// System.out.println(studentList.stream().collect(Collectors.counting()));</span>
        <span class="token comment">// System.out.println(studentList.stream().count());</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>studentList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Data</span>
    <span class="token annotation punctuation">@AllArgsConstructor</span>
    <span class="token annotation punctuation">@NoArgsConstructor</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> score<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Student</span><span class="token punctuation">(</span>name<span class="token operator">=</span>迪丽热巴<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">56</span><span class="token punctuation">,</span> score<span class="token operator">=</span><span class="token number">99</span><span class="token punctuation">)</span>
MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Student</span><span class="token punctuation">(</span>name<span class="token operator">=</span>柳岩<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">52</span><span class="token punctuation">,</span> score<span class="token operator">=</span><span class="token number">77</span><span class="token punctuation">)</span>
<span class="token number">359</span>
OptionalDouble<span class="token punctuation">[</span><span class="token number">89.75</span><span class="token punctuation">]</span>
<span class="token number">4</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-6-5-对流中数据进行分组" tabindex="-1"><a class="header-anchor" href="#_6-6-5-对流中数据进行分组" aria-hidden="true">#</a> 6.6.5 对流中数据进行分组</h4><p>当我们使用Stream流处理数据后，可以根据某个属性将数据分组：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token comment">// 分组</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentStream <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;赵丽颖&quot;</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;杨颖&quot;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;迪丽热巴&quot;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;柳岩&quot;</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 将分数大于等于60的分为一组,小于60分成另一组</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> studentStream<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span>student <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>student<span class="token punctuation">.</span><span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">&quot;及格&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token string">&quot;不及格&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果：</p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>不及格<span class="token punctuation">:</span><span class="token punctuation">[</span>MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Student</span><span class="token punctuation">(</span>name<span class="token operator">=</span>迪丽热巴<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">56</span><span class="token punctuation">,</span> score<span class="token operator">=</span><span class="token number">55</span><span class="token punctuation">)</span><span class="token punctuation">,</span> MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Student</span><span class="token punctuation">(</span>name<span class="token operator">=</span>柳岩<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">52</span><span class="token punctuation">,</span> score<span class="token operator">=</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
及格<span class="token punctuation">:</span><span class="token punctuation">[</span>MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Student</span><span class="token punctuation">(</span>name<span class="token operator">=</span>赵丽颖<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">52</span><span class="token punctuation">,</span> score<span class="token operator">=</span><span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">,</span> MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Student</span><span class="token punctuation">(</span>name<span class="token operator">=</span>杨颖<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">56</span><span class="token punctuation">,</span> score<span class="token operator">=</span><span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-6-6-对流中数据进行多级分组" tabindex="-1"><a class="header-anchor" href="#_6-6-6-对流中数据进行多级分组" aria-hidden="true">#</a> 6.6.6 对流中数据进行多级分组</h4><p>还可以对数据进行多级分组：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token comment">// 多级分组</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testCustomGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentStream <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;赵丽颖&quot;</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;杨颖&quot;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;佟丽娅&quot;</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;迪丽热巴&quot;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;柳岩&quot;</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 按照年龄进行分组，在年龄分组的情况下，然后再按照分数进行分组</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> studentStream<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span>
                <span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">,</span> <span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span>student <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>student<span class="token punctuation">.</span><span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">90</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">return</span> <span class="token string">&quot;优秀&quot;</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>student<span class="token punctuation">.</span><span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">80</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">return</span> <span class="token string">&quot;良好&quot;</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>student<span class="token punctuation">.</span><span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">return</span> <span class="token string">&quot;及格&quot;</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                        <span class="token keyword">return</span> <span class="token string">&quot;不及格&quot;</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果：</p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code><span class="token number">52</span><span class="token punctuation">:</span><span class="token operator">{</span>不及格<span class="token operator">=</span><span class="token punctuation">[</span>MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Student</span><span class="token punctuation">(</span>name<span class="token operator">=</span>柳岩<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">52</span><span class="token punctuation">,</span> score<span class="token operator">=</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 优秀<span class="token operator">=</span><span class="token punctuation">[</span>MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Student</span><span class="token punctuation">(</span>name<span class="token operator">=</span>赵丽颖<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">52</span><span class="token punctuation">,</span> score<span class="token operator">=</span><span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">}</span>
<span class="token number">38</span><span class="token punctuation">:</span><span class="token operator">{</span>及格<span class="token operator">=</span><span class="token punctuation">[</span>MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Student</span><span class="token punctuation">(</span>name<span class="token operator">=</span>佟丽娅<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">38</span><span class="token punctuation">,</span> score<span class="token operator">=</span><span class="token number">76</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">}</span>
<span class="token number">56</span><span class="token punctuation">:</span><span class="token operator">{</span>不及格<span class="token operator">=</span><span class="token punctuation">[</span>MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Student</span><span class="token punctuation">(</span>name<span class="token operator">=</span>迪丽热巴<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">56</span><span class="token punctuation">,</span> score<span class="token operator">=</span><span class="token number">55</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 良好<span class="token operator">=</span><span class="token punctuation">[</span>MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Student</span><span class="token punctuation">(</span>name<span class="token operator">=</span>杨颖<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">56</span><span class="token punctuation">,</span> score<span class="token operator">=</span><span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-6-7-对流中数据进行分区" tabindex="-1"><a class="header-anchor" href="#_6-6-7-对流中数据进行分区" aria-hidden="true">#</a> 6.6.7 对流中数据进行分区</h4><p><code>Collectors.partitioningBy</code>会根据值是否为true，把集合分割为两个列表，一个true列表，一个false列表。</p><figure><img src="`+j+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token comment">// 分区</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testPartition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentStream <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;赵丽颖&quot;</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;杨颖&quot;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;迪丽热巴&quot;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;柳岩&quot;</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">77</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> studentStream<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span>
                <span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">partitioningBy</span><span class="token punctuation">(</span>student <span class="token operator">-&gt;</span> student<span class="token punctuation">.</span><span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果：</p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>false<span class="token punctuation">:</span><span class="token punctuation">[</span>MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Student</span><span class="token punctuation">(</span>name<span class="token operator">=</span>杨颖<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">56</span><span class="token punctuation">,</span> score<span class="token operator">=</span><span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">,</span> MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Student</span><span class="token punctuation">(</span>name<span class="token operator">=</span>柳岩<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">52</span><span class="token punctuation">,</span> score<span class="token operator">=</span><span class="token number">77</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
true<span class="token punctuation">:</span><span class="token punctuation">[</span>MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Student</span><span class="token punctuation">(</span>name<span class="token operator">=</span>赵丽颖<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">52</span><span class="token punctuation">,</span> score<span class="token operator">=</span><span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">,</span> MethodReferenceTest<span class="token punctuation">.</span><span class="token function">Student</span><span class="token punctuation">(</span>name<span class="token operator">=</span>迪丽热巴<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">56</span><span class="token punctuation">,</span> score<span class="token operator">=</span><span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-6-8-对流中数据进行拼接" tabindex="-1"><a class="header-anchor" href="#_6-6-8-对流中数据进行拼接" aria-hidden="true">#</a> 6.6.8 对流中数据进行拼接</h4><p><code>Collectors.joining</code>会根据指定的连接符，将所有元素连接成一个字符串。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token comment">// 拼接</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testJoining</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentStream <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;赵丽颖&quot;</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;杨颖&quot;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;迪丽热巴&quot;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;柳岩&quot;</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">77</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>studentStream<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token operator">::</span><span class="token function">getName</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span>
                <span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果：</p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code><span class="token punctuation">[</span>赵丽颖<span class="token punctuation">,</span>杨颖<span class="token punctuation">,</span>迪丽热巴<span class="token punctuation">,</span>柳岩<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_6-6-9-小结" tabindex="-1"><a class="header-anchor" href="#_6-6-9-小结" aria-hidden="true">#</a> 6.6.9 小结</h4><ul><li><p><strong>收集Stream流中的结果</strong></p><ul><li><p>到集合中:</p><ul><li><code>Collectors.toList()</code></li><li><code>Collectors.toSet()</code></li><li><code>Collectors.toCollection()</code></li></ul></li><li><p>到数组中: <code>toArray()</code></p><ul><li><code>toArray(String[]::new)</code></li></ul></li></ul></li><li><p><strong>聚合计算:</strong></p><ul><li><p>最大值：<code>Collectors.maxBy</code></p></li><li><p>最小值：<code>Collectors.minBy</code></p></li><li><p>求和：<code>Collectors.summingInt</code></p></li><li><p>平均值：<code>Collectors.averagingInt</code></p></li><li><p>统计数量：<code>Collectors.counting</code></p></li><li><p>分组:</p><ul><li>普通分组：<code>Collectors.groupingBy</code></li><li>多级分组: <code>Collectors.groupingBy(Student::getAge, Collectors.groupingBy(Student::get))</code></li></ul></li><li><p>分区: <code>Collectors.partitionBy</code></p></li><li><p>拼接: <code>Collectors.joinging</code></p></li></ul></li></ul><h3 id="_6-7-并行的stream流" tabindex="-1"><a class="header-anchor" href="#_6-7-并行的stream流" aria-hidden="true">#</a> 6.7 并行的Stream流</h3><h4 id="_6-7-1-目标" tabindex="-1"><a class="header-anchor" href="#_6-7-1-目标" aria-hidden="true">#</a> 6.7.1 目标</h4><ol><li>了解串行的Stream流</li><li>掌握获取并行Stream流的两种方式</li></ol><h4 id="_6-7-2-串行的stream流" tabindex="-1"><a class="header-anchor" href="#_6-7-2-串行的stream流" aria-hidden="true">#</a> 6.7.2 串行的Stream流</h4><p>目前我们使用的Stream流是串行的，就是在一个线程上执行。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test0Serial</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">long</span> count <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, s = &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;count = &quot;</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token number">4</span>
<span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token number">5</span>
<span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token number">3</span>
<span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token number">9</span>
<span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token number">1</span>
<span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token number">2</span>
<span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token number">6</span>
count <span class="token operator">=</span> <span class="token number">7</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-7-3-并行的stream流" tabindex="-1"><a class="header-anchor" href="#_6-7-3-并行的stream流" aria-hidden="true">#</a> 6.7.3 并行的Stream流</h4><p>parallelStream其实就是一个并行执行的流。它通过默认的ForkJoinPool，可能提高多线程任务的速度。</p><h5 id="_6-7-3-1-获取并行stream流的两种方式" tabindex="-1"><a class="header-anchor" href="#_6-7-3-1-获取并行stream流的两种方式" aria-hidden="true">#</a> 6.7.3.1 获取并行Stream流的两种方式</h5><p>1、直接获取并行的流</p><p>2、将串行流转成并行流</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testgetParallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
                <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;lisi&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;wangwu&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;zhaoliu&quot;</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 直接获取并行的流</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> parallelStream1 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 将串行流转成并行流</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> parallelStream2 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parallel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>并行操作代码：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test0Parallel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">long</span> count <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parallel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>integer <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, integer= &quot;</span> <span class="token operator">+</span> integer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> integer <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;count = &quot;</span>  <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果：</p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>Thread<span class="token punctuation">[</span>ForkJoinPool<span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">integer</span><span class="token operator">=</span> <span class="token number">5</span>
Thread<span class="token punctuation">[</span>ForkJoinPool<span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">integer</span><span class="token operator">=</span> <span class="token number">4</span>
Thread<span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">integer</span><span class="token operator">=</span> <span class="token number">1</span>
Thread<span class="token punctuation">[</span>ForkJoinPool<span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">integer</span><span class="token operator">=</span> <span class="token number">3</span>
Thread<span class="token punctuation">[</span>ForkJoinPool<span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">integer</span><span class="token operator">=</span> <span class="token number">6</span>
Thread<span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">integer</span><span class="token operator">=</span> <span class="token number">9</span>
Thread<span class="token punctuation">[</span>ForkJoinPool<span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">integer</span><span class="token operator">=</span> <span class="token number">2</span>
count <span class="token operator">=</span> <span class="token number">7</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_6-7-3-2-小结" tabindex="-1"><a class="header-anchor" href="#_6-7-3-2-小结" aria-hidden="true">#</a> 6.7.3.2 小结</h5><p><strong>获取并行流有两种方式:</strong></p><ul><li><p>直接获取并行流: <code>parallelStream()</code></p></li><li><p>将串行流转成并行流: <code>parallel()</code></p></li></ul><h3 id="_6-8-并行和串行stream流的效率对比-目标" tabindex="-1"><a class="header-anchor" href="#_6-8-并行和串行stream流的效率对比-目标" aria-hidden="true">#</a> 6.8 并行和串行Stream流的效率对比 目标</h3><p>使用for循环，串行Stream流，并行Stream流来对10亿个数字求和。看消耗的时间。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>test04<span class="token punctuation">.</span>a02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">LongStream</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ParallelStreamTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testCostTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token keyword">long</span> size <span class="token operator">=</span> <span class="token number">1000_000_000</span><span class="token punctuation">;</span>
        <span class="token comment">// 并行流计算</span>
        <span class="token function">calcTime</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">long</span> result <span class="token operator">=</span> <span class="token class-name">LongStream</span><span class="token punctuation">.</span><span class="token function">rangeClosed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parallel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token operator">::</span><span class="token function">sum</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;result: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;并行流计算&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 串行流计算</span>
        <span class="token function">calcTime</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">long</span> result <span class="token operator">=</span> <span class="token class-name">LongStream</span><span class="token punctuation">.</span><span class="token function">rangeClosed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token operator">::</span><span class="token function">sum</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;result: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;串行流计算&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 普通for循环计算</span>
        <span class="token function">calcTime</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">long</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">long</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                result <span class="token operator">+=</span> i<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;result: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;普通for循环计算&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">calcTime</span><span class="token punctuation">(</span><span class="token class-name">CalcFunction</span> calcFunction<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        calcFunction<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span> endTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;花费时间: &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>endTime <span class="token operator">-</span> startTime<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@FunctionalInterface</span>
    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CalcFunction</span> <span class="token punctuation">{</span>
        <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们可以看到parallelStream的效率是最高的。</p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>并行流计算
result<span class="token punctuation">:</span> <span class="token number">500000000500000000</span>
花费时间<span class="token punctuation">:</span> <span class="token number">150</span>

串行流计算
result<span class="token punctuation">:</span> <span class="token number">500000000500000000</span>
花费时间<span class="token punctuation">:</span> <span class="token number">1423</span>

普通<span class="token keyword">for</span>循环计算
result<span class="token punctuation">:</span> <span class="token number">500000000500000000</span>
花费时间<span class="token punctuation">:</span> <span class="token number">266</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Stream并行处理的过程会分而治之，也就是将一个大任务切分成多个小任务，这表示每个任务都是一个操作。</p><h3 id="_6-9-parallelstream线程安全问题" tabindex="-1"><a class="header-anchor" href="#_6-9-parallelstream线程安全问题" aria-hidden="true">#</a> 6.9 parallelStream线程安全问题</h3><h4 id="_6-9-1-目标" tabindex="-1"><a class="header-anchor" href="#_6-9-1-目标" aria-hidden="true">#</a> 6.9.1 目标</h4><ul><li>解决parallelStream线程安全问题</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>     <span class="token doc-comment comment">/**
     * 并行流的线程不安全测试
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testParallelStreamNotice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">final</span> <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 普通For循环添加元素</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;普通For循环添加后的集合大小: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> newList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 使用并行的流往集合中添加数据</span>
            list<span class="token punctuation">.</span><span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                        newList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;使用并行流添加后的集合大小&quot;</span> <span class="token operator">+</span> newList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行效果：</p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>普通For循环添加后的集合大小<span class="token punctuation">:</span> <span class="token number">10000</span>
使用并行流添加后的集合大小<span class="token number">5460</span>
普通For循环添加后的集合大小<span class="token punctuation">:</span> <span class="token number">10000</span>
使用并行流添加后的集合大小<span class="token number">7406</span>
普通For循环添加后的集合大小<span class="token punctuation">:</span> <span class="token number">10000</span>
使用并行流添加后的集合大小<span class="token number">6461</span>
普通For循环添加后的集合大小<span class="token punctuation">:</span> <span class="token number">10000</span>
使用并行流添加后的集合大小<span class="token number">4153</span>
普通For循环添加后的集合大小<span class="token punctuation">:</span> <span class="token number">10000</span>
使用并行流添加后的集合大小<span class="token number">3494</span>
普通For循环添加后的集合大小<span class="token punctuation">:</span> <span class="token number">10000</span>

java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ArrayIndexOutOfBoundsException<span class="token punctuation">:</span> <span class="token number">2851</span>

	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ArrayList<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">459</span><span class="token punctuation">)</span>
	at cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>test04<span class="token punctuation">.</span>a02<span class="token punctuation">.</span>ParallelStreamTest<span class="token punctuation">.</span>lambda$testParallelStreamNotice$<span class="token function">3</span><span class="token punctuation">(</span>ParallelStreamTest<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">78</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>ForEachOps$ForEachOp$OfRef<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>ForEachOps<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">184</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList$ArrayListSpliterator<span class="token punctuation">.</span><span class="token function">forEachRemaining</span><span class="token punctuation">(</span>ArrayList<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">1374</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>AbstractPipeline<span class="token punctuation">.</span><span class="token function">copyInto</span><span class="token punctuation">(</span>AbstractPipeline<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">481</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>ForEachOps$ForEachTask<span class="token punctuation">.</span><span class="token function">compute</span><span class="token punctuation">(</span>ForEachOps<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">291</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>CountedCompleter<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>CountedCompleter<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">731</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>ForkJoinTask<span class="token punctuation">.</span><span class="token function">doExec</span><span class="token punctuation">(</span>ForkJoinTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">289</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>ForkJoinPool<span class="token punctuation">.</span><span class="token function">helpComplete</span><span class="token punctuation">(</span>ForkJoinPool<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">1870</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>ForkJoinPool<span class="token punctuation">.</span><span class="token function">externalHelpComplete</span><span class="token punctuation">(</span>ForkJoinPool<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">2467</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>ForkJoinTask<span class="token punctuation">.</span><span class="token function">externalAwaitDone</span><span class="token punctuation">(</span>ForkJoinTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">324</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>ForkJoinTask<span class="token punctuation">.</span><span class="token function">doInvoke</span><span class="token punctuation">(</span>ForkJoinTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">405</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>ForkJoinTask<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>ForkJoinTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">734</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>ForEachOps$ForEachOp<span class="token punctuation">.</span><span class="token function">evaluateParallel</span><span class="token punctuation">(</span>ForEachOps<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">160</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>ForEachOps$ForEachOp$OfRef<span class="token punctuation">.</span><span class="token function">evaluateParallel</span><span class="token punctuation">(</span>ForEachOps<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">174</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>AbstractPipeline<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span>AbstractPipeline<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">233</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>ReferencePipeline<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>ReferencePipeline<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">418</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>ReferencePipeline$Head<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>ReferencePipeline<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">583</span><span class="token punctuation">)</span>
	at cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>test04<span class="token punctuation">.</span>a02<span class="token punctuation">.</span>ParallelStreamTest<span class="token punctuation">.</span><span class="token function">testParallelStreamNotice</span><span class="token punctuation">(</span>ParallelStreamTest<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">77</span><span class="token punctuation">)</span>
	at sun<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span>NativeMethodAccessorImpl<span class="token punctuation">.</span><span class="token function">invoke0</span><span class="token punctuation">(</span>Native Method<span class="token punctuation">)</span>
	at sun<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span>NativeMethodAccessorImpl<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>NativeMethodAccessorImpl<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">62</span><span class="token punctuation">)</span>
	at sun<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span>DelegatingMethodAccessorImpl<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>DelegatingMethodAccessorImpl<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">43</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span>Method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>Method<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">498</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ReflectionUtils<span class="token punctuation">.</span><span class="token function">invokeMethod</span><span class="token punctuation">(</span>ReflectionUtils<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">725</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>execution<span class="token punctuation">.</span>MethodInvocation<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span>MethodInvocation<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>execution<span class="token punctuation">.</span>InvocationInterceptorChain$ValidatingInvocation<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span>InvocationInterceptorChain<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">131</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>TimeoutExtension<span class="token punctuation">.</span><span class="token function">intercept</span><span class="token punctuation">(</span>TimeoutExtension<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">149</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>TimeoutExtension<span class="token punctuation">.</span><span class="token function">interceptTestableMethod</span><span class="token punctuation">(</span>TimeoutExtension<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">140</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>TimeoutExtension<span class="token punctuation">.</span><span class="token function">interceptTestMethod</span><span class="token punctuation">(</span>TimeoutExtension<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">84</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>execution<span class="token punctuation">.</span>ExecutableInvoker$ReflectiveInterceptorCall<span class="token punctuation">.</span>lambda$ofVoidMethod$<span class="token function">0</span><span class="token punctuation">(</span>ExecutableInvoker<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">115</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>execution<span class="token punctuation">.</span>ExecutableInvoker<span class="token punctuation">.</span>lambda$invoke$<span class="token function">0</span><span class="token punctuation">(</span>ExecutableInvoker<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">105</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>execution<span class="token punctuation">.</span>InvocationInterceptorChain$InterceptedInvocation<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span>InvocationInterceptorChain<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">106</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>execution<span class="token punctuation">.</span>InvocationInterceptorChain<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span>InvocationInterceptorChain<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">64</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>execution<span class="token punctuation">.</span>InvocationInterceptorChain<span class="token punctuation">.</span><span class="token function">chainAndInvoke</span><span class="token punctuation">(</span>InvocationInterceptorChain<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">45</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>execution<span class="token punctuation">.</span>InvocationInterceptorChain<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>InvocationInterceptorChain<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">37</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>execution<span class="token punctuation">.</span>ExecutableInvoker<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>ExecutableInvoker<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">104</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>execution<span class="token punctuation">.</span>ExecutableInvoker<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>ExecutableInvoker<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">98</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>descriptor<span class="token punctuation">.</span>TestMethodTestDescriptor<span class="token punctuation">.</span>lambda$invokeTestMethod$<span class="token function">7</span><span class="token punctuation">(</span>TestMethodTestDescriptor<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">214</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>ThrowableCollector<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>ThrowableCollector<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">73</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>descriptor<span class="token punctuation">.</span>TestMethodTestDescriptor<span class="token punctuation">.</span><span class="token function">invokeTestMethod</span><span class="token punctuation">(</span>TestMethodTestDescriptor<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">210</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>descriptor<span class="token punctuation">.</span>TestMethodTestDescriptor<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>TestMethodTestDescriptor<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">135</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>descriptor<span class="token punctuation">.</span>TestMethodTestDescriptor<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>TestMethodTestDescriptor<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">66</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>NodeTestTask<span class="token punctuation">.</span>lambda$executeRecursively$<span class="token function">6</span><span class="token punctuation">(</span>NodeTestTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">151</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>ThrowableCollector<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>ThrowableCollector<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">73</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>NodeTestTask<span class="token punctuation">.</span>lambda$executeRecursively$<span class="token function">8</span><span class="token punctuation">(</span>NodeTestTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">141</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>Node<span class="token punctuation">.</span><span class="token function">around</span><span class="token punctuation">(</span>Node<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">137</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>NodeTestTask<span class="token punctuation">.</span>lambda$executeRecursively$<span class="token function">9</span><span class="token punctuation">(</span>NodeTestTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">139</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>ThrowableCollector<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>ThrowableCollector<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">73</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>NodeTestTask<span class="token punctuation">.</span><span class="token function">executeRecursively</span><span class="token punctuation">(</span>NodeTestTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">138</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>NodeTestTask<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>NodeTestTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">95</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>ArrayList<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">1249</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>SameThreadHierarchicalTestExecutorService<span class="token punctuation">.</span><span class="token function">invokeAll</span><span class="token punctuation">(</span>SameThreadHierarchicalTestExecutorService<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">41</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>NodeTestTask<span class="token punctuation">.</span>lambda$executeRecursively$<span class="token function">6</span><span class="token punctuation">(</span>NodeTestTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">155</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>ThrowableCollector<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>ThrowableCollector<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">73</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>NodeTestTask<span class="token punctuation">.</span>lambda$executeRecursively$<span class="token function">8</span><span class="token punctuation">(</span>NodeTestTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">141</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>Node<span class="token punctuation">.</span><span class="token function">around</span><span class="token punctuation">(</span>Node<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">137</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>NodeTestTask<span class="token punctuation">.</span>lambda$executeRecursively$<span class="token function">9</span><span class="token punctuation">(</span>NodeTestTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">139</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>ThrowableCollector<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>ThrowableCollector<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">73</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>NodeTestTask<span class="token punctuation">.</span><span class="token function">executeRecursively</span><span class="token punctuation">(</span>NodeTestTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">138</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>NodeTestTask<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>NodeTestTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">95</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>ArrayList<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">1249</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>SameThreadHierarchicalTestExecutorService<span class="token punctuation">.</span><span class="token function">invokeAll</span><span class="token punctuation">(</span>SameThreadHierarchicalTestExecutorService<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">41</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>NodeTestTask<span class="token punctuation">.</span>lambda$executeRecursively$<span class="token function">6</span><span class="token punctuation">(</span>NodeTestTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">155</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>ThrowableCollector<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>ThrowableCollector<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">73</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>NodeTestTask<span class="token punctuation">.</span>lambda$executeRecursively$<span class="token function">8</span><span class="token punctuation">(</span>NodeTestTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">141</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>Node<span class="token punctuation">.</span><span class="token function">around</span><span class="token punctuation">(</span>Node<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">137</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>NodeTestTask<span class="token punctuation">.</span>lambda$executeRecursively$<span class="token function">9</span><span class="token punctuation">(</span>NodeTestTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">139</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>ThrowableCollector<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>ThrowableCollector<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">73</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>NodeTestTask<span class="token punctuation">.</span><span class="token function">executeRecursively</span><span class="token punctuation">(</span>NodeTestTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">138</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>NodeTestTask<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>NodeTestTask<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">95</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>SameThreadHierarchicalTestExecutorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>SameThreadHierarchicalTestExecutorService<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">35</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>HierarchicalTestExecutor<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>HierarchicalTestExecutor<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">57</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>support<span class="token punctuation">.</span>hierarchical<span class="token punctuation">.</span>HierarchicalTestEngine<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>HierarchicalTestEngine<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">54</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>launcher<span class="token punctuation">.</span>core<span class="token punctuation">.</span>EngineExecutionOrchestrator<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>EngineExecutionOrchestrator<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">107</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>launcher<span class="token punctuation">.</span>core<span class="token punctuation">.</span>EngineExecutionOrchestrator<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>EngineExecutionOrchestrator<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">88</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>launcher<span class="token punctuation">.</span>core<span class="token punctuation">.</span>EngineExecutionOrchestrator<span class="token punctuation">.</span>lambda$execute$<span class="token function">0</span><span class="token punctuation">(</span>EngineExecutionOrchestrator<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">54</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>launcher<span class="token punctuation">.</span>core<span class="token punctuation">.</span>EngineExecutionOrchestrator<span class="token punctuation">.</span><span class="token function">withInterceptedStreams</span><span class="token punctuation">(</span>EngineExecutionOrchestrator<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">67</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>launcher<span class="token punctuation">.</span>core<span class="token punctuation">.</span>EngineExecutionOrchestrator<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>EngineExecutionOrchestrator<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">52</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>launcher<span class="token punctuation">.</span>core<span class="token punctuation">.</span>DefaultLauncher<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>DefaultLauncher<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">114</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>launcher<span class="token punctuation">.</span>core<span class="token punctuation">.</span>DefaultLauncher<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>DefaultLauncher<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">86</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>launcher<span class="token punctuation">.</span>core<span class="token punctuation">.</span>DefaultLauncherSession$DelegatingLauncher<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>DefaultLauncherSession<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">86</span><span class="token punctuation">)</span>
	at org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>launcher<span class="token punctuation">.</span>core<span class="token punctuation">.</span>SessionPerRequestLauncher<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>SessionPerRequestLauncher<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">53</span><span class="token punctuation">)</span>
	at com<span class="token punctuation">.</span>intellij<span class="token punctuation">.</span>junit5<span class="token punctuation">.</span>JUnit5IdeaTestRunner<span class="token punctuation">.</span><span class="token function">startRunnerWithArgs</span><span class="token punctuation">(</span>JUnit5IdeaTestRunner<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">71</span><span class="token punctuation">)</span>
	at com<span class="token punctuation">.</span>intellij<span class="token punctuation">.</span>rt<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>IdeaTestRunner$Repeater<span class="token punctuation">.</span><span class="token function">startRunnerWithArgs</span><span class="token punctuation">(</span>IdeaTestRunner<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">33</span><span class="token punctuation">)</span>
	at com<span class="token punctuation">.</span>intellij<span class="token punctuation">.</span>rt<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>JUnitStarter<span class="token punctuation">.</span><span class="token function">prepareStreamsAndStart</span><span class="token punctuation">(</span>JUnitStarter<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">235</span><span class="token punctuation">)</span>
	at com<span class="token punctuation">.</span>intellij<span class="token punctuation">.</span>rt<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>JUnitStarter<span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span>JUnitStarter<span class="token punctuation">.</span>java<span class="token punctuation">:</span><span class="token number">54</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们明明是往集合中添加10000个元素，而实际上只有远远没有达到10000，还抛出了异常。</p><p><strong>解决方法：</strong></p><ul><li>加锁</li><li>使用线程安全的集合</li><li>调用Stream的 <code>toArray()/collect()</code> 操作就是满足线程安全的了。</li></ul><p><strong>代码验证</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@FunctionalInterface</span>
    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ParallelStreamTestFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
        <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">,</span> <span class="token class-name">R</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">parallelStreamBase</span><span class="token punctuation">(</span><span class="token class-name">ParallelStreamTestFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> stream<span class="token punctuation">,</span>
                                    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> newList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 普通For循环添加元素</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;普通For循环添加后的集合大小: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stream<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> newList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;使用并行流添加后的集合大小&quot;</span> <span class="token operator">+</span> newList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 并行流的线程不安全测试
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testParallelStreamNotice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">parallelStreamBase</span><span class="token punctuation">(</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> newList<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 使用并行的流往集合中添加数据</span>
            list<span class="token punctuation">.</span><span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>newList<span class="token operator">::</span><span class="token function">add</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token doc-comment comment">/**
     * 使用锁解决线程安全问题
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testParallelStreamNoticeAndSolveBySynchronized</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">parallelStreamBase</span><span class="token punctuation">(</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> newList<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 使用并行的流往集合中添加数据</span>
            list<span class="token punctuation">.</span><span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>integerEle <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>newList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            newList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>integerEle<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 使用线程安全的集合解决线程安全问题
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testParallelStreamNoticeAndSolveByCopyOnArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">parallelStreamBase</span><span class="token punctuation">(</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> newList<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 使用并行的流往集合中添加数据</span>
            list<span class="token punctuation">.</span><span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>newList<span class="token operator">::</span><span class="token function">add</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">CopyOnWriteArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 使用线程安全的集合解决线程安全问题
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testParallelStreamNoticeAndSolveByToArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">parallelStreamBase</span><span class="token punctuation">(</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> newList<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 使用并行的流往集合中添加数据</span>
            <span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            newList<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 使用线程安全的集合解决线程安全问题
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testParallelStreamNoticeAndSolveByToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">parallelStreamBase</span><span class="token punctuation">(</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> newList<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 使用并行的流往集合中添加数据</span>
            newList<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-10-parallelstream背后的技术" tabindex="-1"><a class="header-anchor" href="#_6-10-parallelstream背后的技术" aria-hidden="true">#</a> 6.10 parallelStream背后的技术</h3><h4 id="_6-10-1-目标" tabindex="-1"><a class="header-anchor" href="#_6-10-1-目标" aria-hidden="true">#</a> 6.10.1 目标</h4><ul><li>介绍<code>Fork/Join</code>框架</li><li>了解<code>Fork/Join</code>原理</li></ul><h4 id="_6-10-2-fork-join框架介绍" tabindex="-1"><a class="header-anchor" href="#_6-10-2-fork-join框架介绍" aria-hidden="true">#</a> 6.10.2 <code>Fork/Join</code>框架介绍</h4><p>parallelStream使用的是<code>Fork/Join</code>框架。<code>Fork/Join</code>框架自JDK 7引入。<code>Fork/Join</code>框架可以将一个大任务拆分为很多小任务来异步执行。 <code>Fork/Join</code>框架主要包含三个模块：</p><ol><li><p>线程池：<code>ForkJoinPool</code></p></li><li><p>任务对象：<code>ForkJoinTask</code></p></li><li><p>执行任务的线程：<code>ForkJoinWorkerThread</code></p></li></ol><figure><img src="`+E+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="_6-10-3-fork-join原理-分治法" tabindex="-1"><a class="header-anchor" href="#_6-10-3-fork-join原理-分治法" aria-hidden="true">#</a> 6.10.3 <code>Fork/Join</code>原理-分治法</h4><p><code>ForkJoinPool</code>主要用来使用分治法(<code>Divide-and-Conquer Algorithm</code>)来解决问题。典型的应用比如快速排序算法， ForkJoinPool需要使用相对少的线程来处理大量的任务。比如要对<code>1000</code>万个数据进行排序，那么会将这个任务分割成 两个<code>500</code>万的排序任务和一个针对这两组<code>500</code>万数据的合并任务。以此类推，对于<code>500</code>万的数据也会做出同样的分割处理，到最后会设置一个阈值来规定当数据规模到多少时，停止这样的分割处理。比如，当元素的数量小于<code>10</code>时，会停止分割，转而使用插入排序对它们进行排序。那么到最后，所有的任务加起来会有大概<code>2000000+</code>个。问题的关键在于，对于一个任务而言，只有当它所有的子任务完成之后，它才能够被执行。</p><figure><img src="'+C+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="_6-10-4-fork-join原理-工作窃取算法" tabindex="-1"><a class="header-anchor" href="#_6-10-4-fork-join原理-工作窃取算法" aria-hidden="true">#</a> 6.10.4 Fork/Join原理-工作窃取算法</h4><p><code>Fork/Join</code>最核心的地方就是利用了现代硬件设备多核，在一个操作时候会有空闲的cpu，那么如何利用好这个空闲的<code>cpu</code>就成了提高性能的关键，而这里我们要提到的工作窃取（<code>work-stealing</code>）算法就是整个<code>Fork/Join</code>框架的核心理念 <code>Fork/Join</code>工作窃取（<code>work-stealing</code>）算法是指某个线程从其他队列里窃取任务来执行。</p><figure><img src="'+R+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>​ 那么为什么需要使用工作窃取算法呢？假如我们需要做一个比较大的任务，我们可以把这个任务分割为若干互不依赖的子任务，为了减少线程间的竞争，于是把这些子任务分别放到不同的队列里，并为每个队列创建一个单独的线程来 执行队列里的任务，线程和队列一一对应，比如A线程负责处理A队列里的任务。但是有的线程会先把自己队列里的任务干完，而其他线程对应的队列里还有任务等待处理。干完活的线程与其等着，不如去帮其他线程干活，于是它就去其他线程的队列里窃取一个任务来执行。而在这时它们会访问同一个队列，所以为了减少窃取任务线程和被窃取任务线程之间的竞争，通常会使用双端队列，被窃取任务线程永远从双端队列的头部拿任务执行，而窃取任务的线程永远从双端队列的尾部拿任务执行。</p><p>​ 工作窃取算法的优点是充分利用线程进行并行计算，并减少了线程间的竞争，其缺点是在某些情况下还是存在竞争， 比如双端队列里只有一个任务时。并且消耗了更多的系统资源，比如创建多个线程和多个双端队列。</p><p>​ 上文中已经提到了在Java 8引入了自动并行化的概念。它能够让一部分Java代码自动地以并行的方式执行，也就是我 们使用了ForkJoinPool的ParallelStream。</p><p>​ 对于ForkJoinPool通用线程池的线程数量，通常使用默认值就可以了，即运行时计算机的处理器数量。可以通过设置系统属性：<code>java.util.concurrent.ForkJoinPool.common.parallelism=N</code> （N为线程数量），来调整ForkJoinPool的线 程数量，可以尝试调整成不同的参数来观察每次的输出结果。</p><h4 id="_6-10-5-小结1" tabindex="-1"><a class="header-anchor" href="#_6-10-5-小结1" aria-hidden="true">#</a> 6.10.5 小结1</h4><ol><li>介绍了<code>Fork/Join</code>框架,他是JDK7推出的一套新的线程框架</li><li><code>Fork/Join</code>框架-分治法，工作窃取算法</li></ol><h4 id="_6-10-6-fork-join案例" tabindex="-1"><a class="header-anchor" href="#_6-10-6-fork-join案例" aria-hidden="true">#</a> 6.10.6 Fork/Join案例</h4><p>需求：使用<code>Fork/Join</code>计算<code>1-10000</code>的和，当一个任务的计算数量大于<code>3000</code>时拆分任务，数量小于<code>3000</code>时计算。</p><figure><img src="'+N+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a04</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Getter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Setter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ForkJoinPool</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">RecursiveTask</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> lyf
 * <span class="token keyword">@version</span> 1.0
 * <span class="token keyword">@classname</span> ForkJoinDemo
 * <span class="token keyword">@description</span>
 * <span class="token keyword">@since</span> 2023/4/17 11:02
 */</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ForkJoinDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ForkJoinPool</span> pool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ForkJoinPool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*
         * 需求：使用\`Fork/Join\`计算\`1-10000\`的和，当一个任务的计算数量大于\`3000\`时拆分任务，数量小于\`3000\`时计算。
         */</span>
        <span class="token class-name">Long</span> result <span class="token operator">=</span> pool<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SumRecursiveTask</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;result: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">long</span> endTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;costTime: &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>endTime <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Getter</span>
    <span class="token annotation punctuation">@Setter</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">SumRecursiveTask</span> <span class="token keyword">extends</span> <span class="token class-name">RecursiveTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> <span class="token constant">THRESHOLD</span> <span class="token operator">=</span> <span class="token number">3000L</span><span class="token punctuation">;</span>

        <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">long</span> start<span class="token punctuation">;</span>

        <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">long</span> end<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">SumRecursiveTask</span><span class="token punctuation">(</span><span class="token keyword">long</span> start<span class="token punctuation">,</span> <span class="token keyword">long</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>start <span class="token operator">=</span> start<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>end <span class="token operator">=</span> end<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">protected</span> <span class="token class-name">Long</span> <span class="token function">compute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">long</span> length <span class="token operator">=</span> end <span class="token operator">-</span> start<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>length <span class="token operator">&lt;=</span> <span class="token constant">THRESHOLD</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// 无需再拆分了, 开始计算</span>
                <span class="token keyword">long</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">long</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    sum <span class="token operator">+=</span> i<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;计算: &quot;</span> <span class="token operator">+</span> start <span class="token operator">+</span> <span class="token string">&quot; -&gt; &quot;</span> <span class="token operator">+</span> end <span class="token operator">+</span> <span class="token string">&quot;, 结果为: &quot;</span> <span class="token operator">+</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">long</span> middle <span class="token operator">=</span> <span class="token punctuation">(</span>start <span class="token operator">+</span> end<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;拆分: 左边 &quot;</span> <span class="token operator">+</span> start <span class="token operator">+</span> <span class="token string">&quot; -&gt; &quot;</span> <span class="token operator">+</span> middle <span class="token operator">+</span> <span class="token string">&quot;, 右边 &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>middle <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; -&gt; &quot;</span> <span class="token operator">+</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">SumRecursiveTask</span> leftSumRecursiveTask <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SumRecursiveTask</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> middle<span class="token punctuation">)</span><span class="token punctuation">;</span>
                leftSumRecursiveTask<span class="token punctuation">.</span><span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">SumRecursiveTask</span> rightSumRecursiveTask <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SumRecursiveTask</span><span class="token punctuation">(</span>middle <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
                rightSumRecursiveTask<span class="token punctuation">.</span><span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> leftSumRecursiveTask<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> rightSumRecursiveTask<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>拆分<span class="token operator">:</span> 左边 <span class="token number">1</span> <span class="token operator">-&gt;</span> <span class="token number">5000</span><span class="token punctuation">,</span> 右边 <span class="token number">5001</span> <span class="token operator">-&gt;</span> <span class="token number">10000</span>
拆分<span class="token operator">:</span> 左边 <span class="token number">1</span> <span class="token operator">-&gt;</span> <span class="token number">2500</span><span class="token punctuation">,</span> 右边 <span class="token number">2501</span> <span class="token operator">-&gt;</span> <span class="token number">5000</span>
拆分<span class="token operator">:</span> 左边 <span class="token number">5001</span> <span class="token operator">-&gt;</span> <span class="token number">7500</span><span class="token punctuation">,</span> 右边 <span class="token number">7501</span> <span class="token operator">-&gt;</span> <span class="token number">10000</span>
计算<span class="token operator">:</span> <span class="token number">1</span> <span class="token operator">-&gt;</span> <span class="token number">2500</span><span class="token punctuation">,</span> 结果为<span class="token operator">:</span> <span class="token number">3126250</span>
计算<span class="token operator">:</span> <span class="token number">2501</span> <span class="token operator">-&gt;</span> <span class="token number">5000</span><span class="token punctuation">,</span> 结果为<span class="token operator">:</span> <span class="token number">9376250</span>
计算<span class="token operator">:</span> <span class="token number">5001</span> <span class="token operator">-&gt;</span> <span class="token number">7500</span><span class="token punctuation">,</span> 结果为<span class="token operator">:</span> <span class="token number">15626250</span>
计算<span class="token operator">:</span> <span class="token number">7501</span> <span class="token operator">-&gt;</span> <span class="token number">10000</span><span class="token punctuation">,</span> 结果为<span class="token operator">:</span> <span class="token number">21876250</span>
result<span class="token operator">:</span> <span class="token number">50005000</span>
costTime<span class="token operator">:</span> <span class="token number">3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-10-7-小结2" tabindex="-1"><a class="header-anchor" href="#_6-10-7-小结2" aria-hidden="true">#</a> 6.10.7 小结2</h4><ol><li>parallelStream是线程不安全的</li><li>parallelStream适用的场景是CPU密集型的，只是做到别浪费CPU，假如本身电脑CPU的负载很大，那还到处用并行流，那并不能起到作用</li><li><code>I/O</code>密集型 磁盘<code>I/O</code>、网络<code>I/O</code>都属于<code>I/O</code>操作，这部分操作是较少消耗CPU资源，一般并行流中不适用于<code>I/O</code>密集型的操作，就比如使用并流行进行大批量的消息推送，涉及到了大量<code>I/O</code>，使用并行流反而慢了很多</li><li>在使用并行流的时候是无法保证元素的顺序的，也就是即使你用了同步集合也只能保证元素都正确但无法保证其中的顺序</li></ol><h2 id="_7-学习jdk-8新增的optional类" tabindex="-1"><a class="header-anchor" href="#_7-学习jdk-8新增的optional类" aria-hidden="true">#</a> 7 学习JDK 8新增的Optional类</h2><h3 id="_7-1-目标" tabindex="-1"><a class="header-anchor" href="#_7-1-目标" aria-hidden="true">#</a> 7.1 目标</h3><ul><li>回顾以前对null的处理方式</li><li>介绍Optional类</li><li>掌握Optional的基本使用</li><li>掌握Optional的高级使用</li></ul><h3 id="_7-2-以前对null的处理方式" tabindex="-1"><a class="header-anchor" href="#_7-2-以前对null的处理方式" aria-hidden="true">#</a> 7.2 以前对null的处理方式</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> userName <span class="token operator">=</span> <span class="token string">&quot;凤姐&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// String userName = null;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>userName <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;用户名为:&quot;</span> <span class="token operator">+</span> userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;用户名不存在&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-3-optional类介绍" tabindex="-1"><a class="header-anchor" href="#_7-3-optional类介绍" aria-hidden="true">#</a> 7.3 Optional类介绍</h3><p>Optional是一个没有子类的工具类，Optional是一个可以为null的容器对象。它的作用主要就是为了解决避免Null检 查，防止NullPointerException。</p><figure><img src="`+L+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_7-4-optional的基本使用" tabindex="-1"><a class="header-anchor" href="#_7-4-optional的基本使用" aria-hidden="true">#</a> 7.4 Optional的基本使用</h3><p><strong>Optional类的创建方式：</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token operator">:</span> 创建一个 <span class="token class-name">Optional</span> 实例
<span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> 创建一个空的 <span class="token class-name">Optional</span> 实例
<span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token operator">:</span>若 t 不为 <span class="token keyword">null</span><span class="token punctuation">,</span>创建 <span class="token class-name">Optional</span> 实例<span class="token punctuation">,</span>否则创建空实例
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Optional类的常用方法：</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> 判断是否包含值<span class="token punctuation">,</span>包含值返回<span class="token boolean">true</span>，不包含值返回<span class="token boolean">false</span>
<span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> 如果<span class="token class-name">Optional</span>有值则将其返回，否则抛出<span class="token class-name">NoSuchElementException</span>
<span class="token function">orElse</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token operator">:</span> 如果调用对象包含值，返回该值，否则返回参数t
<span class="token function">orElseGet</span><span class="token punctuation">(</span><span class="token class-name">Supplier</span> s<span class="token punctuation">)</span> <span class="token operator">:</span>如果调用对象包含值，返回该值，否则返回 s 获取的值
<span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Function</span> f<span class="token punctuation">)</span><span class="token operator">:</span> 如果有值对其处理，并返回处理后的<span class="token class-name">Optional</span>，否则返回 <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">//        Optional&lt;String&gt; userNameO = Optional.of(&quot;凤姐&quot;); // 用户名为:凤姐</span>
<span class="token comment">//        Optional&lt;String&gt; userNameO = Optional.of(null); // NPE</span>
<span class="token comment">//        Optional&lt;String&gt; userNameO = Optional.ofNullable(null); // 用户名不存在</span>
        <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> userNameO <span class="token operator">=</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用户名不存在</span>
        <span class="token comment">// isPresent() : 判断是否包含值,包含值返回true，不包含值返回false。</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>userNameO<span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// get() : 如果Optional有值则将其返回，否则抛出NoSuchElementException。</span>
            <span class="token class-name">String</span> userName <span class="token operator">=</span> userNameO<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;用户名为:&quot;</span> <span class="token operator">+</span> userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;用户名不存在&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-5-optional的高级使用" tabindex="-1"><a class="header-anchor" href="#_7-5-optional的高级使用" aria-hidden="true">#</a> 7.5 Optional的高级使用</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">//        Optional&lt;String&gt; userNameOptional = Optional.of(&quot;凤姐&quot;);</span>
        <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> userNameOptional <span class="token operator">=</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> isPresent <span class="token operator">=</span> userNameOptional<span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isPresent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;用户存在, 用户名为: %s\\n&quot;</span><span class="token punctuation">,</span> userNameOptional<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;用户不存在&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userNameOptional<span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Optional&lt;String&gt; userNameO = Optional.of(&quot;凤姐&quot;);</span>
        <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> userNameO <span class="token operator">=</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 如果调用对象包含值，返回该值，否则返回参数t</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;用户名为&quot;</span> <span class="token operator">+</span> userNameO<span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token string">&quot;null&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 如果调用对象包含值，返回该值，否则返回参数Supplier得到的值</span>
        <span class="token class-name">String</span> s1 <span class="token operator">=</span> userNameO<span class="token punctuation">.</span><span class="token function">orElseGet</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">&quot;未知用户名&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;s1 = &quot;</span> <span class="token operator">+</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test05</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// User u = new User(&quot;凤姐&quot;, 18);</span>
        <span class="token comment">// User u = new User(null, 18);</span>
        <span class="token comment">// User u = null;</span>
        <span class="token comment">// System.out.println(getUpperCaseUserName1(u));</span>
        <span class="token comment">// 我们将可能会为null的变量构造成Optional类型</span>
        <span class="token comment">// User u = new User(&quot;凤姐&quot;, 18);</span>
        <span class="token class-name">User</span> u <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> uO <span class="token operator">=</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getUpperCaseUserName2</span><span class="token punctuation">(</span>uO<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUpperCaseUserName2</span><span class="token punctuation">(</span><span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> uO<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> uO<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>u <span class="token operator">-&gt;</span> u<span class="token punctuation">.</span><span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>name <span class="token operator">-&gt;</span> name<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token string">&quot;null&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUpperCaseUserName1</span><span class="token punctuation">(</span><span class="token class-name">User</span> u<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>u <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> u<span class="token punctuation">.</span><span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Data</span>
    <span class="token annotation punctuation">@AllArgsConstructor</span>
    <span class="token annotation punctuation">@NoArgsConstructor</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> userName<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-6-小结" tabindex="-1"><a class="header-anchor" href="#_7-6-小结" aria-hidden="true">#</a> 7.6 小结</h3><p><code>Optional</code>是一个可以为null的容器对象。<code>orElse</code>，<code>ifPresent</code>，<code>ifPresentOrElse</code>，<code>map</code>等方法避免对<code>null</code>的判断，写出更加优雅的代码。</p><h2 id="_8-学习jdk-8新的日期和时间-api" tabindex="-1"><a class="header-anchor" href="#_8-学习jdk-8新的日期和时间-api" aria-hidden="true">#</a> 8 学习JDK 8新的日期和时间 API</h2><h3 id="_8-1-目标" tabindex="-1"><a class="header-anchor" href="#_8-1-目标" aria-hidden="true">#</a> 8.1 目标</h3><ol><li>了解旧版日期时间<code>API</code>存在的问题</li><li>新日期时间<code>API</code>介绍</li><li>掌握<code>JDK 8</code>的日期和时间类</li><li>掌握<code>JDK 8</code>的时间格式化与解析</li><li>掌握<code>JDK 8</code>的Instant时间戳</li><li>了解<code>JDK 8</code>的计算日期时间差类</li><li>了解<code>JDK 8</code>设置日期时间的时区</li></ol><h3 id="_8-2-旧版日期时间api存在的问题" tabindex="-1"><a class="header-anchor" href="#_8-2-旧版日期时间api存在的问题" aria-hidden="true">#</a> 8.2 旧版日期时间<code>API</code>存在的问题</h3><ol><li>设计很差： 在<code>java.util</code>和<code>java.sql</code>的包中都有日期类，<code>java.util.Date</code>同时包含日期和时间，而<code>java.sql.Date</code>仅包 含日期。此外用于格式化和解析的类在<code>java.text</code>包中定义。</li><li>非线程安全：<code>java.util.Date</code> 是非线程安全的，所有的日期类都是可变的，这是Java日期类最大的问题之一。</li><li>时区处理麻烦：日期类并不提供国际化，没有时区支持，因此Java引入了<code>java.util.Calendar</code>和<code>java.util.TimeZone</code>类，但他们同样存在上述所有的问题。</li></ol><h3 id="_8-3-新日期时间-api介绍" tabindex="-1"><a class="header-anchor" href="#_8-3-新日期时间-api介绍" aria-hidden="true">#</a> 8.3 新日期时间 API介绍</h3><p>JDK 8中增加了一套全新的日期时间API，这套API设计合理，是线程安全的。新的日期及时间API位于<code>java.time</code>包 中，下面是一些关键类。</p><p><code>LocalDate</code> ：表示日期，包含年月日，格式为 <code>2019-10-16</code></p><p><code>LocalTime</code> ：表示时间，包含时分秒，格式为 <code>16:38:54.158549300</code></p><p><code>LocalDateTime</code> ：表示日期时间，包含年月日，时分秒，格式为 <code>2018-09-06T15:33:56.750</code></p><p><code>DateTimeFormatter</code> ：日期时间格式化类。</p><p><code>Instant</code>：时间戳，表示一个特定的时间瞬间。</p><p><code>Duration</code>：用于计算2个时间(<code>LocalTime</code>，时分秒)的距离</p><p><code>Period</code>：用于计算2个日期(<code>LocalDate</code>，年月日)的距离</p><p><code>ZonedDateTime</code> ：包含时区的时间</p><p>Java中使用的历法是<code>ISO 8601</code>日历系统，它是世界民用历法，也就是我们所说的公历。平年有365天，闰年是366天。此外Java 8还提供了4套其他历法，分别是：</p><ul><li><code>ThaiBuddhistDate</code>：泰国佛教历</li><li><code>MinguoDate</code>：中华民国历</li><li><code>JapaneseDate</code>：日本历</li><li><code>HijrahDate</code>：伊斯兰历</li></ul><h3 id="_8-4-jdk-8的日期和时间类" tabindex="-1"><a class="header-anchor" href="#_8-4-jdk-8的日期和时间类" aria-hidden="true">#</a> 8.4 JDK 8的日期和时间类</h3><p><strong><code>LocalDate、LocalTime、LocalDateTime</code>类的实例是不可变的对象，分别表示使用<code>ISO-8601</code>日历系统的日期、时间、日期和时间。它们提供了简单的日期或时间，并不包含当前的时间信息，也不包含与时区相关的信息。</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>a02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDate</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDateTime</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalTime</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> lyf
 * <span class="token keyword">@version</span> 1.0
 * <span class="token keyword">@classname</span> LocalDateTimeTest
 * <span class="token keyword">@description</span> JDK8 时间API 测试
 * <span class="token keyword">@since</span> 2023/4/17 13:01
 */</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LocalDateTimeTest</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * LocalDate:获取日期时间的信息。格式为 2023-04-17
     *
     * fj = 1985-09-23
     * nowDate = 2023-04-17
     * 年: 2023
     * 月: 4
     * 日: 17
     * 星期: MONDAY
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建指定日期</span>
        <span class="token class-name">LocalDate</span> fj <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1985</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;fj = &quot;</span> <span class="token operator">+</span> fj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1985-09-23</span>
        <span class="token comment">// 得到当前日期</span>
        <span class="token class-name">LocalDate</span> nowDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;nowDate = &quot;</span> <span class="token operator">+</span> nowDate<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2023-04-17</span>
        <span class="token comment">// 获取日期信息</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;年: &quot;</span> <span class="token operator">+</span> nowDate<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;月: &quot;</span> <span class="token operator">+</span> nowDate<span class="token punctuation">.</span><span class="token function">getMonthValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;日: &quot;</span> <span class="token operator">+</span> nowDate<span class="token punctuation">.</span><span class="token function">getDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;星期: &quot;</span> <span class="token operator">+</span> nowDate<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * LocalTime类: 获取时间信息。格式为 13:10:05.873
     *
     * time = 12:15:28.129900
     * nowTime = 13:10:05.873
     * 小时: 13
     * 分钟: 10
     * 秒: 5
     * 纳秒: 873000000
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 得到指定的时间</span>
        <span class="token class-name">LocalTime</span> time <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">129_900_000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;time = &quot;</span> <span class="token operator">+</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 得到当前时间</span>
        <span class="token class-name">LocalTime</span> nowTime <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;nowTime = &quot;</span> <span class="token operator">+</span> nowTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取时间信息</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;小时: &quot;</span> <span class="token operator">+</span> nowTime<span class="token punctuation">.</span><span class="token function">getHour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;分钟: &quot;</span> <span class="token operator">+</span> nowTime<span class="token punctuation">.</span><span class="token function">getMinute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;秒: &quot;</span> <span class="token operator">+</span> nowTime<span class="token punctuation">.</span><span class="token function">getSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;纳秒: &quot;</span> <span class="token operator">+</span> nowTime<span class="token punctuation">.</span><span class="token function">getNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * LocalDateTime类: 获取日期时间信息。格式为 2023-04-17T13:11:11.861
     * 
     * fj = 1985-09-23T09:10:20
     * now = 2023-04-17T13:11:11.861
     * 2023
     * 4
     * 17
     * 13
     * 11
     * 11
     * 861000000
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">LocalDateTime</span> fj <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1985</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;fj = &quot;</span> <span class="token operator">+</span> fj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1985-09-23T09:10:20</span>
        <span class="token comment">// 得到当前日期时间</span>
        <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now = &quot;</span> <span class="token operator">+</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2023-04-17T13:11:11.861</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getMonthValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getHour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getMinute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>对日期时间的修改，对已存在的<code>LocalDate</code>对象，创建它的修改版，最简单的方式是使用<code>withAttribute</code>方法。 <code>withAttribute</code>方法会创建对象的一个副本，并按照需要修改它的属性。以下所有的方法都返回了一个修改属性的对 象，他们不会影响原来的对象。</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token doc-comment comment">/**
     * LocalDateTime类: 对日期时间的修改
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test05</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now = &quot;</span> <span class="token operator">+</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 修改日期时间</span>
        <span class="token class-name">LocalDateTime</span> setYear <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">withYear</span><span class="token punctuation">(</span><span class="token number">2078</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;修改年份: &quot;</span> <span class="token operator">+</span> setYear<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now == setYear: &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>now <span class="token operator">==</span> setYear<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;修改月份: &quot;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">withMonth</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;修改小时: &quot;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">withHour</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;修改分钟: &quot;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">withMinute</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 再当前对象的基础上加上或减去指定的时间</span>
        <span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;5天后: &quot;</span> <span class="token operator">+</span> localDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now == localDateTime: &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>now <span class="token operator">==</span> localDateTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;10年后: &quot;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">plusYears</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;20月后: &quot;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">plusMonths</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;20年前: &quot;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">minusYears</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;5月前: &quot;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">minusMonths</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;100天前: &quot;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">minusDays</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行结果</p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>now <span class="token operator">=</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T13<span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">01.519</span>
修改年份<span class="token punctuation">:</span> <span class="token number">2078</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T13<span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">01.519</span>
now <span class="token operator">==</span> setYear<span class="token punctuation">:</span> false
修改月份<span class="token punctuation">:</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">17</span>T13<span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">01.519</span>
修改小时<span class="token punctuation">:</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T09<span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">01.519</span>
修改分钟<span class="token punctuation">:</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T13<span class="token punctuation">:</span><span class="token number">11</span><span class="token punctuation">:</span><span class="token number">01.519</span>
<span class="token number">5</span>天后<span class="token punctuation">:</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">22</span>T13<span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">01.519</span>
now <span class="token operator">==</span> localDateTime<span class="token punctuation">:</span> false
<span class="token number">10</span>年后<span class="token punctuation">:</span> <span class="token number">2033</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T13<span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">01.519</span>
<span class="token number">20</span>月后<span class="token punctuation">:</span> <span class="token number">2024</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span>T13<span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">01.519</span>
<span class="token number">20</span>年前<span class="token punctuation">:</span> <span class="token number">2003</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T13<span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">01.519</span>
<span class="token number">5</span>月前<span class="token punctuation">:</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span>T13<span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">01.519</span>
<span class="token number">100</span>天前<span class="token punctuation">:</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">07</span>T13<span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">01.519</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>日期时间的比较</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token comment">// 日期时间的比较</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test06</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 在JDK8中，LocalDate类中使用isBefore()、isAfter()、equals()方法来比较两个日期，可直接进行比较。</span>
        <span class="token class-name">LocalDate</span> now <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">LocalDate</span> date <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行结果</p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>false
true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-5-jdk-8的时间格式化与解析" tabindex="-1"><a class="header-anchor" href="#_8-5-jdk-8的时间格式化与解析" aria-hidden="true">#</a> 8.5 JDK 8的时间格式化与解析</h3><p>通过<code>java.time.format.DateTimeFormatter</code>类可以进行日期时间解析与格式化。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token comment">// 日期格式化</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token class-name">String</span> timePattern <span class="token operator">=</span> <span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// 得到当前日期时间</span>
        <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">DateTimeFormatter</span> dateTimeFormatter <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span>timePattern<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 将日期时间格式化为字符串</span>
        <span class="token class-name">String</span> dateTimeStr <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;now str: %s\\n&quot;</span><span class="token punctuation">,</span> dateTimeStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 将字符串解析为日期时间</span>
        <span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>dateTimeStr<span class="token punctuation">,</span> dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;now: %s\\n&quot;</span><span class="token punctuation">,</span> localDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>now str<span class="token punctuation">:</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">19</span><span class="token punctuation">:</span><span class="token number">55</span>
now<span class="token punctuation">:</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T13<span class="token punctuation">:</span><span class="token number">19</span><span class="token punctuation">:</span><span class="token number">55</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-6-jdk-8的-instant-类" tabindex="-1"><a class="header-anchor" href="#_8-6-jdk-8的-instant-类" aria-hidden="true">#</a> 8.6 JDK 8的 Instant 类</h3><p><code>Instant 时间戳/时间线</code>，内部保存了从<code>1970年1月1日 00:00:00</code>以来的秒和纳秒。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test07</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Instant</span> now <span class="token operator">=</span> <span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间戳=%s\\n&quot;</span><span class="token punctuation">,</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取从1970年1月1日 00:00:00的秒之后的纳秒数</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取从1970年1月1日 00:00:00到现在的秒数</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getEpochSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取从1970年1月1日 00:00:00到现在的毫秒秒数</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 从操作系统获取时间的毫秒数</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">ofEpochSecond</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行结果</p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>当前时间戳<span class="token operator">=</span><span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T06<span class="token punctuation">:</span><span class="token number">56</span><span class="token punctuation">:</span><span class="token number">57.858</span>Z
<span class="token number">858000000</span>
<span class="token number">1681714617</span>
<span class="token number">1681714617858</span>
<span class="token number">1681714617867</span>
<span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">05</span>Z
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8-6-1-timeutil" tabindex="-1"><a class="header-anchor" href="#_8-6-1-timeutil" aria-hidden="true">#</a> 8.6.1 TimeUtil</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>utils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">TimeUnit</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> lyf
 * <span class="token keyword">@version</span> 1.0
 * <span class="token keyword">@classname</span> TimeUtil
 * <span class="token keyword">@description</span>
 * <span class="token keyword">@date</span> 2023/4/17 13:49
 */</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">TimeUtil</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">volatile</span> <span class="token keyword">long</span> currentTimeMillis<span class="token punctuation">;</span>


    <span class="token doc-comment comment">/**
     * 私有构造器
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">TimeUtil</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        currentTimeMillis <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> daemon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                currentTimeMillis <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">MILLISECONDS</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> ignored<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        daemon<span class="token punctuation">.</span><span class="token function">setDaemon</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        daemon<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;time-tick-thread&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        daemon<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 获取当前时间的毫秒值
     *
     * <span class="token keyword">@return</span> currentTimeMillis
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">long</span> <span class="token function">getCurrentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> currentTimeMillis<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 获取当前时间的毫秒值
     *
     * <span class="token keyword">@return</span> currentTimeMillis
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">long</span> <span class="token function">getCurrentTimeSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> currentTimeMillis <span class="token operator">/</span> <span class="token number">1000L</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8-6-2-systemclock" tabindex="-1"><a class="header-anchor" href="#_8-6-2-systemclock" aria-hidden="true">#</a> 8.6.2 SystemClock</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>utils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Executors</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ScheduledExecutorService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">TimeUnit</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SystemClock</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">volatile</span> <span class="token keyword">long</span> now<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">long</span> period<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">SystemClock</span><span class="token punctuation">(</span><span class="token keyword">long</span> period<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>period <span class="token operator">=</span> period<span class="token punctuation">;</span>
        <span class="token comment">// 先初始化为当前时间，不然第一次调用会有问题</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>now <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 后台线程任务开启定时刷新 now 的值</span>
        <span class="token function">scheduleGetSystemTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 对外方法</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">long</span> <span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Instance</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">.</span><span class="token function">getCurrentMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">scheduleGetSystemTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ScheduledExecutorService</span> scheduledExecutorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadScheduledExecutor</span><span class="token punctuation">(</span>runnable <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>runnable<span class="token punctuation">,</span> <span class="token string">&quot;system-lock-thread&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            thread<span class="token punctuation">.</span><span class="token function">setDaemon</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> thread<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scheduledExecutorService<span class="token punctuation">.</span><span class="token function">scheduleAtFixedRate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> now <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> period<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">MILLISECONDS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Instance</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">SystemClock</span> <span class="token constant">INSTANCE</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SystemClock</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">long</span> <span class="token function">getCurrentMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> now<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8-6-3-timezoneidallenum枚举类" tabindex="-1"><a class="header-anchor" href="#_8-6-3-timezoneidallenum枚举类" aria-hidden="true">#</a> 8.6.3 TimeZoneIdAllEnum枚举类</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>enum_</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Getter</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">TimeZoneAllEnum</span> <span class="token punctuation">{</span>
    <span class="token function">AFRICA_ABIDJAN</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Abidjan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_ACCRA</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Accra&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_ADDIS_ABABA</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Addis_Ababa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_ALGIERS</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Algiers&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_ASMARA</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Asmara&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_ASMERA</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Asmera&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_BAMAKO</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Bamako&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_BANGUI</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Bangui&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_BANJUL</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Banjul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_BISSAU</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Bissau&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_BLANTYRE</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Blantyre&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_BRAZZAVILLE</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Brazzaville&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_BUJUMBURA</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Bujumbura&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_CAIRO</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Cairo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_CASABLANCA</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Casablanca&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_CEUTA</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Ceuta&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_CONAKRY</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Conakry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_DAKAR</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Dakar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_DAR_ES_SALAAM</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Dar_es_Salaam&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_DJIBOUTI</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Djibouti&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_DOUALA</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Douala&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_EL_AAIUN</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/El_Aaiun&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_FREETOWN</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Freetown&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_GABORONE</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Gaborone&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_HARARE</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Harare&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_JOHANNESBURG</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Johannesburg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_JUBA</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Juba&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_KAMPALA</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Kampala&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_KHARTOUM</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Khartoum&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_KIGALI</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Kigali&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_KINSHASA</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Kinshasa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_LAGOS</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Lagos&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_LIBREVILLE</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Libreville&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_LOME</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Lome&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_LUANDA</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Luanda&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_LUBUMBASHI</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Lubumbashi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_LUSAKA</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Lusaka&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_MALABO</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Malabo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_MAPUTO</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Maputo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_MASERU</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Maseru&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_MBABANE</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Mbabane&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_MOGADISHU</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Mogadishu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_MONROVIA</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Monrovia&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_NAIROBI</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Nairobi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_NDJAMENA</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Ndjamena&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_NIAMEY</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Niamey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_NOUAKCHOTT</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Nouakchott&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_OUAGADOUGOU</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Ouagadougou&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_PORTO_MINUS_NOVO</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Porto-Novo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_SAO_TOME</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Sao_Tome&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_TIMBUKTU</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Timbuktu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_TRIPOLI</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Tripoli&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_TUNIS</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Tunis&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AFRICA_WINDHOEK</span><span class="token punctuation">(</span><span class="token string">&quot;Africa/Windhoek&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ADAK</span><span class="token punctuation">(</span><span class="token string">&quot;America/Adak&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ANCHORAGE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Anchorage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ANGUILLA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Anguilla&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ANTIGUA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Antigua&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ARAGUAINA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Araguaina&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ARGENTINA_BUENOS_AIRES</span><span class="token punctuation">(</span><span class="token string">&quot;America/Argentina/Buenos_Aires&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ARGENTINA_CATAMARCA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Argentina/Catamarca&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ARGENTINA_COMODRIVADAVIA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Argentina/ComodRivadavia&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ARGENTINA_CORDOBA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Argentina/Cordoba&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ARGENTINA_JUJUY</span><span class="token punctuation">(</span><span class="token string">&quot;America/Argentina/Jujuy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ARGENTINA_LA_RIOJA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Argentina/La_Rioja&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ARGENTINA_MENDOZA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Argentina/Mendoza&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ARGENTINA_RIO_GALLEGOS</span><span class="token punctuation">(</span><span class="token string">&quot;America/Argentina/Rio_Gallegos&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ARGENTINA_SALTA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Argentina/Salta&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ARGENTINA_SAN_JUAN</span><span class="token punctuation">(</span><span class="token string">&quot;America/Argentina/San_Juan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ARGENTINA_SAN_LUIS</span><span class="token punctuation">(</span><span class="token string">&quot;America/Argentina/San_Luis&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ARGENTINA_TUCUMAN</span><span class="token punctuation">(</span><span class="token string">&quot;America/Argentina/Tucuman&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ARGENTINA_USHUAIA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Argentina/Ushuaia&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ARUBA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Aruba&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ASUNCION</span><span class="token punctuation">(</span><span class="token string">&quot;America/Asuncion&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ATIKOKAN</span><span class="token punctuation">(</span><span class="token string">&quot;America/Atikokan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ATKA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Atka&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_BAHIA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Bahia&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_BAHIA_BANDERAS</span><span class="token punctuation">(</span><span class="token string">&quot;America/Bahia_Banderas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_BARBADOS</span><span class="token punctuation">(</span><span class="token string">&quot;America/Barbados&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_BELEM</span><span class="token punctuation">(</span><span class="token string">&quot;America/Belem&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_BELIZE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Belize&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_BLANC_MINUS_SABLON</span><span class="token punctuation">(</span><span class="token string">&quot;America/Blanc-Sablon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_BOA_VISTA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Boa_Vista&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_BOGOTA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Bogota&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_BOISE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Boise&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_BUENOS_AIRES</span><span class="token punctuation">(</span><span class="token string">&quot;America/Buenos_Aires&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_CAMBRIDGE_BAY</span><span class="token punctuation">(</span><span class="token string">&quot;America/Cambridge_Bay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_CAMPO_GRANDE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Campo_Grande&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_CANCUN</span><span class="token punctuation">(</span><span class="token string">&quot;America/Cancun&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_CARACAS</span><span class="token punctuation">(</span><span class="token string">&quot;America/Caracas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_CATAMARCA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Catamarca&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_CAYENNE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Cayenne&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_CAYMAN</span><span class="token punctuation">(</span><span class="token string">&quot;America/Cayman&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_CHICAGO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Chicago&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_CHIHUAHUA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Chihuahua&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_CORAL_HARBOUR</span><span class="token punctuation">(</span><span class="token string">&quot;America/Coral_Harbour&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_CORDOBA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Cordoba&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_COSTA_RICA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Costa_Rica&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_CRESTON</span><span class="token punctuation">(</span><span class="token string">&quot;America/Creston&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_CUIABA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Cuiaba&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_CURACAO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Curacao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_DANMARKSHAVN</span><span class="token punctuation">(</span><span class="token string">&quot;America/Danmarkshavn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_DAWSON</span><span class="token punctuation">(</span><span class="token string">&quot;America/Dawson&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_DAWSON_CREEK</span><span class="token punctuation">(</span><span class="token string">&quot;America/Dawson_Creek&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_DENVER</span><span class="token punctuation">(</span><span class="token string">&quot;America/Denver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_DETROIT</span><span class="token punctuation">(</span><span class="token string">&quot;America/Detroit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_DOMINICA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Dominica&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_EDMONTON</span><span class="token punctuation">(</span><span class="token string">&quot;America/Edmonton&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_EIRUNEPE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Eirunepe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_EL_SALVADOR</span><span class="token punctuation">(</span><span class="token string">&quot;America/El_Salvador&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ENSENADA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Ensenada&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_FORT_NELSON</span><span class="token punctuation">(</span><span class="token string">&quot;America/Fort_Nelson&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_FORT_WAYNE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Fort_Wayne&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_FORTALEZA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Fortaleza&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_GLACE_BAY</span><span class="token punctuation">(</span><span class="token string">&quot;America/Glace_Bay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_GODTHAB</span><span class="token punctuation">(</span><span class="token string">&quot;America/Godthab&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_GOOSE_BAY</span><span class="token punctuation">(</span><span class="token string">&quot;America/Goose_Bay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_GRAND_TURK</span><span class="token punctuation">(</span><span class="token string">&quot;America/Grand_Turk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_GRENADA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Grenada&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_GUADELOUPE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Guadeloupe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_GUATEMALA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Guatemala&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_GUAYAQUIL</span><span class="token punctuation">(</span><span class="token string">&quot;America/Guayaquil&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_GUYANA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Guyana&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_HALIFAX</span><span class="token punctuation">(</span><span class="token string">&quot;America/Halifax&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_HAVANA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Havana&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_HERMOSILLO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Hermosillo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_INDIANA_INDIANAPOLIS</span><span class="token punctuation">(</span><span class="token string">&quot;America/Indiana/Indianapolis&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_INDIANA_KNOX</span><span class="token punctuation">(</span><span class="token string">&quot;America/Indiana/Knox&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_INDIANA_MARENGO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Indiana/Marengo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_INDIANA_PETERSBURG</span><span class="token punctuation">(</span><span class="token string">&quot;America/Indiana/Petersburg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_INDIANA_TELL_CITY</span><span class="token punctuation">(</span><span class="token string">&quot;America/Indiana/Tell_City&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_INDIANA_VEVAY</span><span class="token punctuation">(</span><span class="token string">&quot;America/Indiana/Vevay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_INDIANA_VINCENNES</span><span class="token punctuation">(</span><span class="token string">&quot;America/Indiana/Vincennes&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_INDIANA_WINAMAC</span><span class="token punctuation">(</span><span class="token string">&quot;America/Indiana/Winamac&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_INDIANAPOLIS</span><span class="token punctuation">(</span><span class="token string">&quot;America/Indianapolis&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_INUVIK</span><span class="token punctuation">(</span><span class="token string">&quot;America/Inuvik&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_IQALUIT</span><span class="token punctuation">(</span><span class="token string">&quot;America/Iqaluit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_JAMAICA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Jamaica&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_JUJUY</span><span class="token punctuation">(</span><span class="token string">&quot;America/Jujuy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_JUNEAU</span><span class="token punctuation">(</span><span class="token string">&quot;America/Juneau&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_KENTUCKY_LOUISVILLE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Kentucky/Louisville&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_KENTUCKY_MONTICELLO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Kentucky/Monticello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_KNOX_IN</span><span class="token punctuation">(</span><span class="token string">&quot;America/Knox_IN&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_KRALENDIJK</span><span class="token punctuation">(</span><span class="token string">&quot;America/Kralendijk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_LA_PAZ</span><span class="token punctuation">(</span><span class="token string">&quot;America/La_Paz&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_LIMA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Lima&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_LOS_ANGELES</span><span class="token punctuation">(</span><span class="token string">&quot;America/Los_Angeles&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_LOUISVILLE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Louisville&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_LOWER_PRINCES</span><span class="token punctuation">(</span><span class="token string">&quot;America/Lower_Princes&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MACEIO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Maceio&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MANAGUA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Managua&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MANAUS</span><span class="token punctuation">(</span><span class="token string">&quot;America/Manaus&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MARIGOT</span><span class="token punctuation">(</span><span class="token string">&quot;America/Marigot&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MARTINIQUE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Martinique&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MATAMOROS</span><span class="token punctuation">(</span><span class="token string">&quot;America/Matamoros&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MAZATLAN</span><span class="token punctuation">(</span><span class="token string">&quot;America/Mazatlan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MENDOZA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Mendoza&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MENOMINEE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Menominee&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MERIDA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Merida&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_METLAKATLA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Metlakatla&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MEXICO_CITY</span><span class="token punctuation">(</span><span class="token string">&quot;America/Mexico_City&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MIQUELON</span><span class="token punctuation">(</span><span class="token string">&quot;America/Miquelon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MONCTON</span><span class="token punctuation">(</span><span class="token string">&quot;America/Moncton&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MONTERREY</span><span class="token punctuation">(</span><span class="token string">&quot;America/Monterrey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MONTEVIDEO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Montevideo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MONTREAL</span><span class="token punctuation">(</span><span class="token string">&quot;America/Montreal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_MONTSERRAT</span><span class="token punctuation">(</span><span class="token string">&quot;America/Montserrat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_NASSAU</span><span class="token punctuation">(</span><span class="token string">&quot;America/Nassau&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_NEW_YORK</span><span class="token punctuation">(</span><span class="token string">&quot;America/New_York&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_NIPIGON</span><span class="token punctuation">(</span><span class="token string">&quot;America/Nipigon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_NOME</span><span class="token punctuation">(</span><span class="token string">&quot;America/Nome&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_NORONHA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Noronha&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_NORTH_DAKOTA_BEULAH</span><span class="token punctuation">(</span><span class="token string">&quot;America/North_Dakota/Beulah&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_NORTH_DAKOTA_CENTER</span><span class="token punctuation">(</span><span class="token string">&quot;America/North_Dakota/Center&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_NORTH_DAKOTA_NEW_SALEM</span><span class="token punctuation">(</span><span class="token string">&quot;America/North_Dakota/New_Salem&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_OJINAGA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Ojinaga&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_PANAMA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Panama&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_PANGNIRTUNG</span><span class="token punctuation">(</span><span class="token string">&quot;America/Pangnirtung&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_PARAMARIBO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Paramaribo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_PHOENIX</span><span class="token punctuation">(</span><span class="token string">&quot;America/Phoenix&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_PORT_MINUS_AU_MINUS_PRINCE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Port-au-Prince&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_PORT_OF_SPAIN</span><span class="token punctuation">(</span><span class="token string">&quot;America/Port_of_Spain&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_PORTO_ACRE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Porto_Acre&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_PORTO_VELHO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Porto_Velho&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_PUERTO_RICO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Puerto_Rico&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_PUNTA_ARENAS</span><span class="token punctuation">(</span><span class="token string">&quot;America/Punta_Arenas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_RAINY_RIVER</span><span class="token punctuation">(</span><span class="token string">&quot;America/Rainy_River&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_RANKIN_INLET</span><span class="token punctuation">(</span><span class="token string">&quot;America/Rankin_Inlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_RECIFE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Recife&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_REGINA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Regina&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_RESOLUTE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Resolute&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_RIO_BRANCO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Rio_Branco&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ROSARIO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Rosario&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_SANTA_ISABEL</span><span class="token punctuation">(</span><span class="token string">&quot;America/Santa_Isabel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_SANTAREM</span><span class="token punctuation">(</span><span class="token string">&quot;America/Santarem&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_SANTIAGO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Santiago&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_SANTO_DOMINGO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Santo_Domingo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_SAO_PAULO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Sao_Paulo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_SCORESBYSUND</span><span class="token punctuation">(</span><span class="token string">&quot;America/Scoresbysund&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_SHIPROCK</span><span class="token punctuation">(</span><span class="token string">&quot;America/Shiprock&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_SITKA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Sitka&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ST_BARTHELEMY</span><span class="token punctuation">(</span><span class="token string">&quot;America/St_Barthelemy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ST_JOHNS</span><span class="token punctuation">(</span><span class="token string">&quot;America/St_Johns&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ST_KITTS</span><span class="token punctuation">(</span><span class="token string">&quot;America/St_Kitts&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ST_LUCIA</span><span class="token punctuation">(</span><span class="token string">&quot;America/St_Lucia&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ST_THOMAS</span><span class="token punctuation">(</span><span class="token string">&quot;America/St_Thomas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_ST_VINCENT</span><span class="token punctuation">(</span><span class="token string">&quot;America/St_Vincent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_SWIFT_CURRENT</span><span class="token punctuation">(</span><span class="token string">&quot;America/Swift_Current&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_TEGUCIGALPA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Tegucigalpa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_THULE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Thule&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_THUNDER_BAY</span><span class="token punctuation">(</span><span class="token string">&quot;America/Thunder_Bay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_TIJUANA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Tijuana&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_TORONTO</span><span class="token punctuation">(</span><span class="token string">&quot;America/Toronto&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_TORTOLA</span><span class="token punctuation">(</span><span class="token string">&quot;America/Tortola&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_VANCOUVER</span><span class="token punctuation">(</span><span class="token string">&quot;America/Vancouver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_VIRGIN</span><span class="token punctuation">(</span><span class="token string">&quot;America/Virgin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_WHITEHORSE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Whitehorse&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_WINNIPEG</span><span class="token punctuation">(</span><span class="token string">&quot;America/Winnipeg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_YAKUTAT</span><span class="token punctuation">(</span><span class="token string">&quot;America/Yakutat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AMERICA_YELLOWKNIFE</span><span class="token punctuation">(</span><span class="token string">&quot;America/Yellowknife&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ANTARCTICA_CASEY</span><span class="token punctuation">(</span><span class="token string">&quot;Antarctica/Casey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ANTARCTICA_DAVIS</span><span class="token punctuation">(</span><span class="token string">&quot;Antarctica/Davis&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ANTARCTICA_DUMONTDURVILLE</span><span class="token punctuation">(</span><span class="token string">&quot;Antarctica/DumontDUrville&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ANTARCTICA_MACQUARIE</span><span class="token punctuation">(</span><span class="token string">&quot;Antarctica/Macquarie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ANTARCTICA_MAWSON</span><span class="token punctuation">(</span><span class="token string">&quot;Antarctica/Mawson&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ANTARCTICA_MCMURDO</span><span class="token punctuation">(</span><span class="token string">&quot;Antarctica/McMurdo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ANTARCTICA_PALMER</span><span class="token punctuation">(</span><span class="token string">&quot;Antarctica/Palmer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ANTARCTICA_ROTHERA</span><span class="token punctuation">(</span><span class="token string">&quot;Antarctica/Rothera&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ANTARCTICA_SOUTH_POLE</span><span class="token punctuation">(</span><span class="token string">&quot;Antarctica/South_Pole&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ANTARCTICA_SYOWA</span><span class="token punctuation">(</span><span class="token string">&quot;Antarctica/Syowa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ANTARCTICA_TROLL</span><span class="token punctuation">(</span><span class="token string">&quot;Antarctica/Troll&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ANTARCTICA_VOSTOK</span><span class="token punctuation">(</span><span class="token string">&quot;Antarctica/Vostok&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ARCTIC_LONGYEARBYEN</span><span class="token punctuation">(</span><span class="token string">&quot;Arctic/Longyearbyen&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_ADEN</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Aden&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_ALMATY</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Almaty&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_AMMAN</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Amman&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_ANADYR</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Anadyr&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_AQTAU</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Aqtau&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_AQTOBE</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Aqtobe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_ASHGABAT</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Ashgabat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_ASHKHABAD</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Ashkhabad&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_ATYRAU</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Atyrau&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_BAGHDAD</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Baghdad&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_BAHRAIN</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Bahrain&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_BAKU</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Baku&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_BANGKOK</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Bangkok&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_BARNAUL</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Barnaul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_BEIRUT</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Beirut&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_BISHKEK</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Bishkek&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_BRUNEI</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Brunei&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_CALCUTTA</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Calcutta&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_CHITA</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Chita&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_CHOIBALSAN</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Choibalsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_CHONGQING</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Chongqing&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_CHUNGKING</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Chungking&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_COLOMBO</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Colombo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_DACCA</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Dacca&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_DAMASCUS</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Damascus&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_DHAKA</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Dhaka&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_DILI</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Dili&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_DUBAI</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Dubai&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_DUSHANBE</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Dushanbe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_FAMAGUSTA</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Famagusta&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_GAZA</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Gaza&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_HARBIN</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Harbin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_HEBRON</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Hebron&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_HO_CHI_MINH</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Ho_Chi_Minh&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_HONG_KONG</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Hong_Kong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_HOVD</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Hovd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_IRKUTSK</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Irkutsk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_ISTANBUL</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Istanbul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_JAKARTA</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Jakarta&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_JAYAPURA</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Jayapura&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_JERUSALEM</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Jerusalem&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_KABUL</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Kabul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_KAMCHATKA</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Kamchatka&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_KARACHI</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Karachi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_KASHGAR</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Kashgar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_KATHMANDU</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Kathmandu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_KATMANDU</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Katmandu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_KHANDYGA</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Khandyga&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_KOLKATA</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Kolkata&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_KRASNOYARSK</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Krasnoyarsk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_KUALA_LUMPUR</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Kuala_Lumpur&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_KUCHING</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Kuching&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_KUWAIT</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Kuwait&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_MACAO</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Macao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_MACAU</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Macau&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_MAGADAN</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Magadan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_MAKASSAR</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Makassar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_MANILA</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Manila&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_MUSCAT</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Muscat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_NICOSIA</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Nicosia&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_NOVOKUZNETSK</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Novokuznetsk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_NOVOSIBIRSK</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Novosibirsk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_OMSK</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Omsk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_ORAL</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Oral&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_PHNOM_PENH</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Phnom_Penh&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_PONTIANAK</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Pontianak&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_PYONGYANG</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Pyongyang&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_QATAR</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Qatar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_QYZYLORDA</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Qyzylorda&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_RANGOON</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Rangoon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_RIYADH</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Riyadh&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_SAIGON</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Saigon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_SAKHALIN</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Sakhalin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_SAMARKAND</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Samarkand&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_SEOUL</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Seoul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_SHANGHAI</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Shanghai&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_SINGAPORE</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Singapore&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_SREDNEKOLYMSK</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Srednekolymsk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_TAIPEI</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Taipei&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_TASHKENT</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Tashkent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_TBILISI</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Tbilisi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_TEHRAN</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Tehran&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_TEL_AVIV</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Tel_Aviv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_THIMBU</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Thimbu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_THIMPHU</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Thimphu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_TOKYO</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Tokyo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_TOMSK</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Tomsk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_UJUNG_PANDANG</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Ujung_Pandang&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_ULAANBAATAR</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Ulaanbaatar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_ULAN_BATOR</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Ulan_Bator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_URUMQI</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Urumqi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_UST_MINUS_NERA</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Ust-Nera&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_VIENTIANE</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Vientiane&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_VLADIVOSTOK</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Vladivostok&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_YAKUTSK</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Yakutsk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_YANGON</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Yangon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_YEKATERINBURG</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Yekaterinburg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIA_YEREVAN</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Yerevan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ATLANTIC_AZORES</span><span class="token punctuation">(</span><span class="token string">&quot;Atlantic/Azores&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ATLANTIC_BERMUDA</span><span class="token punctuation">(</span><span class="token string">&quot;Atlantic/Bermuda&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ATLANTIC_CANARY</span><span class="token punctuation">(</span><span class="token string">&quot;Atlantic/Canary&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ATLANTIC_CAPE_VERDE</span><span class="token punctuation">(</span><span class="token string">&quot;Atlantic/Cape_Verde&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ATLANTIC_FAEROE</span><span class="token punctuation">(</span><span class="token string">&quot;Atlantic/Faeroe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ATLANTIC_FAROE</span><span class="token punctuation">(</span><span class="token string">&quot;Atlantic/Faroe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ATLANTIC_JAN_MAYEN</span><span class="token punctuation">(</span><span class="token string">&quot;Atlantic/Jan_Mayen&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ATLANTIC_MADEIRA</span><span class="token punctuation">(</span><span class="token string">&quot;Atlantic/Madeira&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ATLANTIC_REYKJAVIK</span><span class="token punctuation">(</span><span class="token string">&quot;Atlantic/Reykjavik&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ATLANTIC_SOUTH_GEORGIA</span><span class="token punctuation">(</span><span class="token string">&quot;Atlantic/South_Georgia&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ATLANTIC_ST_HELENA</span><span class="token punctuation">(</span><span class="token string">&quot;Atlantic/St_Helena&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ATLANTIC_STANLEY</span><span class="token punctuation">(</span><span class="token string">&quot;Atlantic/Stanley&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_ACT</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/ACT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_ADELAIDE</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Adelaide&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_BRISBANE</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Brisbane&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_BROKEN_HILL</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Broken_Hill&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_CANBERRA</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Canberra&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_CURRIE</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Currie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_DARWIN</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Darwin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_EUCLA</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Eucla&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_HOBART</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Hobart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_LHI</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/LHI&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_LINDEMAN</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Lindeman&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_LORD_HOWE</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Lord_Howe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_MELBOURNE</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Melbourne&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_NSW</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/NSW&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_NORTH</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/North&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_PERTH</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Perth&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_QUEENSLAND</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Queensland&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_SOUTH</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/South&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_SYDNEY</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Sydney&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_TASMANIA</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Tasmania&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_VICTORIA</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Victoria&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_WEST</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/West&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUSTRALIA_YANCOWINNA</span><span class="token punctuation">(</span><span class="token string">&quot;Australia/Yancowinna&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">BRAZIL_ACRE</span><span class="token punctuation">(</span><span class="token string">&quot;Brazil/Acre&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">BRAZIL_DENORONHA</span><span class="token punctuation">(</span><span class="token string">&quot;Brazil/DeNoronha&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">BRAZIL_EAST</span><span class="token punctuation">(</span><span class="token string">&quot;Brazil/East&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">BRAZIL_WEST</span><span class="token punctuation">(</span><span class="token string">&quot;Brazil/West&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CET</span><span class="token punctuation">(</span><span class="token string">&quot;CET&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CST6CDT</span><span class="token punctuation">(</span><span class="token string">&quot;CST6CDT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CANADA_ATLANTIC</span><span class="token punctuation">(</span><span class="token string">&quot;Canada/Atlantic&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CANADA_CENTRAL</span><span class="token punctuation">(</span><span class="token string">&quot;Canada/Central&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CANADA_EAST_MINUS_SASKATCHEWAN</span><span class="token punctuation">(</span><span class="token string">&quot;Canada/East-Saskatchewan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CANADA_EASTERN</span><span class="token punctuation">(</span><span class="token string">&quot;Canada/Eastern&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CANADA_MOUNTAIN</span><span class="token punctuation">(</span><span class="token string">&quot;Canada/Mountain&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CANADA_NEWFOUNDLAND</span><span class="token punctuation">(</span><span class="token string">&quot;Canada/Newfoundland&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CANADA_PACIFIC</span><span class="token punctuation">(</span><span class="token string">&quot;Canada/Pacific&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CANADA_SASKATCHEWAN</span><span class="token punctuation">(</span><span class="token string">&quot;Canada/Saskatchewan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CANADA_YUKON</span><span class="token punctuation">(</span><span class="token string">&quot;Canada/Yukon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CHILE_CONTINENTAL</span><span class="token punctuation">(</span><span class="token string">&quot;Chile/Continental&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CHILE_EASTERISLAND</span><span class="token punctuation">(</span><span class="token string">&quot;Chile/EasterIsland&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CUBA</span><span class="token punctuation">(</span><span class="token string">&quot;Cuba&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EET</span><span class="token punctuation">(</span><span class="token string">&quot;EET&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EST5EDT</span><span class="token punctuation">(</span><span class="token string">&quot;EST5EDT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EGYPT</span><span class="token punctuation">(</span><span class="token string">&quot;Egypt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EIRE</span><span class="token punctuation">(</span><span class="token string">&quot;Eire&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_PLUS_0</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT+0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_PLUS_1</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT+1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_PLUS_10</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT+10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_PLUS_11</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT+11&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_PLUS_12</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT+12&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_PLUS_2</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT+2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_PLUS_3</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT+3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_PLUS_4</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT+4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_PLUS_5</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT+5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_PLUS_6</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT+6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_PLUS_7</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT+7&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_PLUS_8</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT+8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_PLUS_9</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT+9&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_MINUS_0</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT-0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_MINUS_1</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT-1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_MINUS_10</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT-10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_MINUS_11</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT-11&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_MINUS_12</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT-12&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_MINUS_13</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT-13&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_MINUS_14</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT-14&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_MINUS_2</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT-2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_MINUS_3</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT-3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_MINUS_4</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT-4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_MINUS_5</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT-5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_MINUS_6</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT-6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_MINUS_7</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT-7&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_MINUS_8</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT_MINUS_9</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT-9&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GMT0</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/GMT0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_GREENWICH</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/Greenwich&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_UCT</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/UCT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_UTC</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/UTC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_UNIVERSAL</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/Universal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ETC_ZULU</span><span class="token punctuation">(</span><span class="token string">&quot;Etc/Zulu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_AMSTERDAM</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Amsterdam&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_ANDORRA</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Andorra&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_ASTRAKHAN</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Astrakhan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_ATHENS</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Athens&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_BELFAST</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Belfast&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_BELGRADE</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Belgrade&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_BERLIN</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Berlin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_BRATISLAVA</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Bratislava&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_BRUSSELS</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Brussels&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_BUCHAREST</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Bucharest&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_BUDAPEST</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Budapest&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_BUSINGEN</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Busingen&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_CHISINAU</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Chisinau&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_COPENHAGEN</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Copenhagen&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_DUBLIN</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Dublin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_GIBRALTAR</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Gibraltar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_GUERNSEY</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Guernsey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_HELSINKI</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Helsinki&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_ISLE_OF_MAN</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Isle_of_Man&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_ISTANBUL</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Istanbul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_JERSEY</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Jersey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_KALININGRAD</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Kaliningrad&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_KIEV</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Kiev&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_KIROV</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Kirov&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_LISBON</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Lisbon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_LJUBLJANA</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Ljubljana&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_LONDON</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/London&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_LUXEMBOURG</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Luxembourg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_MADRID</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Madrid&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_MALTA</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Malta&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_MARIEHAMN</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Mariehamn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_MINSK</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Minsk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_MONACO</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Monaco&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_MOSCOW</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Moscow&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_NICOSIA</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Nicosia&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_OSLO</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Oslo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_PARIS</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Paris&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_PODGORICA</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Podgorica&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_PRAGUE</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Prague&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_RIGA</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Riga&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_ROME</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Rome&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_SAMARA</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Samara&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_SAN_MARINO</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/San_Marino&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_SARAJEVO</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Sarajevo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_SARATOV</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Saratov&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_SIMFEROPOL</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Simferopol&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_SKOPJE</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Skopje&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_SOFIA</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Sofia&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_STOCKHOLM</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Stockholm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_TALLINN</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Tallinn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_TIRANE</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Tirane&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_TIRASPOL</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Tiraspol&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_ULYANOVSK</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Ulyanovsk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_UZHGOROD</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Uzhgorod&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_VADUZ</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Vaduz&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_VATICAN</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Vatican&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_VIENNA</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Vienna&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_VILNIUS</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Vilnius&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_VOLGOGRAD</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Volgograd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_WARSAW</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Warsaw&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_ZAGREB</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Zagreb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_ZAPOROZHYE</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Zaporozhye&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EUROPE_ZURICH</span><span class="token punctuation">(</span><span class="token string">&quot;Europe/Zurich&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">GB</span><span class="token punctuation">(</span><span class="token string">&quot;GB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">GB_MINUS_EIRE</span><span class="token punctuation">(</span><span class="token string">&quot;GB-Eire&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">GMT</span><span class="token punctuation">(</span><span class="token string">&quot;GMT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">GMT0</span><span class="token punctuation">(</span><span class="token string">&quot;GMT0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">GREENWICH</span><span class="token punctuation">(</span><span class="token string">&quot;Greenwich&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">HONGKONG</span><span class="token punctuation">(</span><span class="token string">&quot;Hongkong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ICELAND</span><span class="token punctuation">(</span><span class="token string">&quot;Iceland&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">INDIAN_ANTANANARIVO</span><span class="token punctuation">(</span><span class="token string">&quot;Indian/Antananarivo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">INDIAN_CHAGOS</span><span class="token punctuation">(</span><span class="token string">&quot;Indian/Chagos&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">INDIAN_CHRISTMAS</span><span class="token punctuation">(</span><span class="token string">&quot;Indian/Christmas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">INDIAN_COCOS</span><span class="token punctuation">(</span><span class="token string">&quot;Indian/Cocos&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">INDIAN_COMORO</span><span class="token punctuation">(</span><span class="token string">&quot;Indian/Comoro&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">INDIAN_KERGUELEN</span><span class="token punctuation">(</span><span class="token string">&quot;Indian/Kerguelen&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">INDIAN_MAHE</span><span class="token punctuation">(</span><span class="token string">&quot;Indian/Mahe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">INDIAN_MALDIVES</span><span class="token punctuation">(</span><span class="token string">&quot;Indian/Maldives&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">INDIAN_MAURITIUS</span><span class="token punctuation">(</span><span class="token string">&quot;Indian/Mauritius&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">INDIAN_MAYOTTE</span><span class="token punctuation">(</span><span class="token string">&quot;Indian/Mayotte&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">INDIAN_REUNION</span><span class="token punctuation">(</span><span class="token string">&quot;Indian/Reunion&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">IRAN</span><span class="token punctuation">(</span><span class="token string">&quot;Iran&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ISRAEL</span><span class="token punctuation">(</span><span class="token string">&quot;Israel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">JAMAICA</span><span class="token punctuation">(</span><span class="token string">&quot;Jamaica&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">JAPAN</span><span class="token punctuation">(</span><span class="token string">&quot;Japan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">KWAJALEIN</span><span class="token punctuation">(</span><span class="token string">&quot;Kwajalein&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">LIBYA</span><span class="token punctuation">(</span><span class="token string">&quot;Libya&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">MET</span><span class="token punctuation">(</span><span class="token string">&quot;MET&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">MST7MDT</span><span class="token punctuation">(</span><span class="token string">&quot;MST7MDT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">MEXICO_BAJANORTE</span><span class="token punctuation">(</span><span class="token string">&quot;Mexico/BajaNorte&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">MEXICO_BAJASUR</span><span class="token punctuation">(</span><span class="token string">&quot;Mexico/BajaSur&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">MEXICO_GENERAL</span><span class="token punctuation">(</span><span class="token string">&quot;Mexico/General&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">NZ</span><span class="token punctuation">(</span><span class="token string">&quot;NZ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">NZ_MINUS_CHAT</span><span class="token punctuation">(</span><span class="token string">&quot;NZ-CHAT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">NAVAJO</span><span class="token punctuation">(</span><span class="token string">&quot;Navajo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PRC</span><span class="token punctuation">(</span><span class="token string">&quot;PRC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PST8PDT</span><span class="token punctuation">(</span><span class="token string">&quot;PST8PDT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_APIA</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Apia&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_AUCKLAND</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Auckland&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_BOUGAINVILLE</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Bougainville&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_CHATHAM</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Chatham&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_CHUUK</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Chuuk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_EASTER</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Easter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_EFATE</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Efate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_ENDERBURY</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Enderbury&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_FAKAOFO</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Fakaofo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_FIJI</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Fiji&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_FUNAFUTI</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Funafuti&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_GALAPAGOS</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Galapagos&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_GAMBIER</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Gambier&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_GUADALCANAL</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Guadalcanal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_GUAM</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Guam&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_HONOLULU</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Honolulu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_JOHNSTON</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Johnston&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_KIRITIMATI</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Kiritimati&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_KOSRAE</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Kosrae&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_KWAJALEIN</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Kwajalein&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_MAJURO</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Majuro&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_MARQUESAS</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Marquesas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_MIDWAY</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Midway&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_NAURU</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Nauru&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_NIUE</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Niue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_NORFOLK</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Norfolk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_NOUMEA</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Noumea&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_PAGO_PAGO</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Pago_Pago&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_PALAU</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Palau&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_PITCAIRN</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Pitcairn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_POHNPEI</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Pohnpei&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_PONAPE</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Ponape&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_PORT_MORESBY</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Port_Moresby&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_RAROTONGA</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Rarotonga&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_SAIPAN</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Saipan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_SAMOA</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Samoa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_TAHITI</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Tahiti&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_TARAWA</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Tarawa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_TONGATAPU</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Tongatapu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_TRUK</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Truk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_WAKE</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Wake&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_WALLIS</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Wallis&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PACIFIC_YAP</span><span class="token punctuation">(</span><span class="token string">&quot;Pacific/Yap&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">POLAND</span><span class="token punctuation">(</span><span class="token string">&quot;Poland&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PORTUGAL</span><span class="token punctuation">(</span><span class="token string">&quot;Portugal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ROK</span><span class="token punctuation">(</span><span class="token string">&quot;ROK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SINGAPORE</span><span class="token punctuation">(</span><span class="token string">&quot;Singapore&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SYSTEMV_AST4</span><span class="token punctuation">(</span><span class="token string">&quot;SystemV/AST4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SYSTEMV_AST4ADT</span><span class="token punctuation">(</span><span class="token string">&quot;SystemV/AST4ADT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SYSTEMV_CST6</span><span class="token punctuation">(</span><span class="token string">&quot;SystemV/CST6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SYSTEMV_CST6CDT</span><span class="token punctuation">(</span><span class="token string">&quot;SystemV/CST6CDT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SYSTEMV_EST5</span><span class="token punctuation">(</span><span class="token string">&quot;SystemV/EST5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SYSTEMV_EST5EDT</span><span class="token punctuation">(</span><span class="token string">&quot;SystemV/EST5EDT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SYSTEMV_HST10</span><span class="token punctuation">(</span><span class="token string">&quot;SystemV/HST10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SYSTEMV_MST7</span><span class="token punctuation">(</span><span class="token string">&quot;SystemV/MST7&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SYSTEMV_MST7MDT</span><span class="token punctuation">(</span><span class="token string">&quot;SystemV/MST7MDT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SYSTEMV_PST8</span><span class="token punctuation">(</span><span class="token string">&quot;SystemV/PST8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SYSTEMV_PST8PDT</span><span class="token punctuation">(</span><span class="token string">&quot;SystemV/PST8PDT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SYSTEMV_YST9</span><span class="token punctuation">(</span><span class="token string">&quot;SystemV/YST9&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SYSTEMV_YST9YDT</span><span class="token punctuation">(</span><span class="token string">&quot;SystemV/YST9YDT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">TURKEY</span><span class="token punctuation">(</span><span class="token string">&quot;Turkey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">UCT</span><span class="token punctuation">(</span><span class="token string">&quot;UCT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">US_ALASKA</span><span class="token punctuation">(</span><span class="token string">&quot;US/Alaska&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">US_ALEUTIAN</span><span class="token punctuation">(</span><span class="token string">&quot;US/Aleutian&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">US_ARIZONA</span><span class="token punctuation">(</span><span class="token string">&quot;US/Arizona&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">US_CENTRAL</span><span class="token punctuation">(</span><span class="token string">&quot;US/Central&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">US_EAST_MINUS_INDIANA</span><span class="token punctuation">(</span><span class="token string">&quot;US/East-Indiana&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">US_EASTERN</span><span class="token punctuation">(</span><span class="token string">&quot;US/Eastern&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">US_HAWAII</span><span class="token punctuation">(</span><span class="token string">&quot;US/Hawaii&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">US_INDIANA_MINUS_STARKE</span><span class="token punctuation">(</span><span class="token string">&quot;US/Indiana-Starke&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">US_MICHIGAN</span><span class="token punctuation">(</span><span class="token string">&quot;US/Michigan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">US_MOUNTAIN</span><span class="token punctuation">(</span><span class="token string">&quot;US/Mountain&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">US_PACIFIC</span><span class="token punctuation">(</span><span class="token string">&quot;US/Pacific&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">US_PACIFIC_MINUS_NEW</span><span class="token punctuation">(</span><span class="token string">&quot;US/Pacific-New&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">US_SAMOA</span><span class="token punctuation">(</span><span class="token string">&quot;US/Samoa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">UTC</span><span class="token punctuation">(</span><span class="token string">&quot;UTC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">UNIVERSAL</span><span class="token punctuation">(</span><span class="token string">&quot;Universal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">W_MINUS_SU</span><span class="token punctuation">(</span><span class="token string">&quot;W-SU&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">WET</span><span class="token punctuation">(</span><span class="token string">&quot;WET&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ZULU</span><span class="token punctuation">(</span><span class="token string">&quot;Zulu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EST</span><span class="token punctuation">(</span><span class="token string">&quot;EST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">HST</span><span class="token punctuation">(</span><span class="token string">&quot;HST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">MST</span><span class="token punctuation">(</span><span class="token string">&quot;MST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ACT</span><span class="token punctuation">(</span><span class="token string">&quot;ACT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AET</span><span class="token punctuation">(</span><span class="token string">&quot;AET&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AGT</span><span class="token punctuation">(</span><span class="token string">&quot;AGT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ART</span><span class="token punctuation">(</span><span class="token string">&quot;ART&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AST</span><span class="token punctuation">(</span><span class="token string">&quot;AST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">BET</span><span class="token punctuation">(</span><span class="token string">&quot;BET&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">BST</span><span class="token punctuation">(</span><span class="token string">&quot;BST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CAT</span><span class="token punctuation">(</span><span class="token string">&quot;CAT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CNT</span><span class="token punctuation">(</span><span class="token string">&quot;CNT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CST</span><span class="token punctuation">(</span><span class="token string">&quot;CST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CTT</span><span class="token punctuation">(</span><span class="token string">&quot;CTT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EAT</span><span class="token punctuation">(</span><span class="token string">&quot;EAT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ECT</span><span class="token punctuation">(</span><span class="token string">&quot;ECT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">IET</span><span class="token punctuation">(</span><span class="token string">&quot;IET&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">IST</span><span class="token punctuation">(</span><span class="token string">&quot;IST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">JST</span><span class="token punctuation">(</span><span class="token string">&quot;JST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">MIT</span><span class="token punctuation">(</span><span class="token string">&quot;MIT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">NET</span><span class="token punctuation">(</span><span class="token string">&quot;NET&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">NST</span><span class="token punctuation">(</span><span class="token string">&quot;NST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PLT</span><span class="token punctuation">(</span><span class="token string">&quot;PLT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PNT</span><span class="token punctuation">(</span><span class="token string">&quot;PNT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PRT</span><span class="token punctuation">(</span><span class="token string">&quot;PRT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PST</span><span class="token punctuation">(</span><span class="token string">&quot;PST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SST</span><span class="token punctuation">(</span><span class="token string">&quot;SST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">VST</span><span class="token punctuation">(</span><span class="token string">&quot;VST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Getter</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> timeZoneId<span class="token punctuation">;</span>
    
    <span class="token class-name">TimeZoneAllEnum</span><span class="token punctuation">(</span><span class="token class-name">String</span> timeZoneId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>timeZoneId <span class="token operator">=</span> timeZoneId<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8-6-4-获取当前时间毫秒值的效率测试代码" tabindex="-1"><a class="header-anchor" href="#_8-6-4-获取当前时间毫秒值的效率测试代码" aria-hidden="true">#</a> 8.6.4 获取当前时间毫秒值的效率测试代码</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test001</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token keyword">long</span> times <span class="token operator">=</span> <span class="token number">100_000_000</span><span class="token punctuation">;</span>
        <span class="token class-name">TaskUtil</span><span class="token punctuation">.</span><span class="token function">costTime</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">long</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> times<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">TaskUtil</span><span class="token punctuation">.</span><span class="token function">costTime</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">long</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> times<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">TaskUtil</span><span class="token punctuation">.</span><span class="token function">costTime</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">long</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> times<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">TimeUtil</span><span class="token punctuation">.</span><span class="token function">getCurrentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">TaskUtil</span><span class="token punctuation">.</span><span class="token function">costTime</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">long</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> times<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">SystemClock</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>costTime<span class="token punctuation">:</span> <span class="token number">548</span>
costTime<span class="token punctuation">:</span> <span class="token number">667</span>
costTime<span class="token punctuation">:</span> <span class="token number">59</span>
costTime<span class="token punctuation">:</span> <span class="token number">59</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8-6-5-测试zoneddatetime" tabindex="-1"><a class="header-anchor" href="#_8-6-5-测试zoneddatetime" aria-hidden="true">#</a> 8.6.5 测试ZonedDateTime</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test09</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Instant.now 获取的时间为UTC的时间，如果需要修改为北京时间，则使用如下即可</span>
        <span class="token comment">/*
           1、Instant不知道时区。如果您需要时区感知时间戳，则应使用ZonedDateTime.

            2、检查ZonedDateTime.now(timezone)哪个将使用提供的时区。
            要使用机器的默认时区，请使用ZonedDateTime.now()

        如果您想解析 ZonedDateTime 并覆盖时区，您可以使用ZonedDateTime.withZoneSameLocal
        * 或ZonedDateTime.withZoneSameInstant根据您的需要。
         */</span>

        <span class="token class-name">ZonedDateTime</span> zonedDateTime1 <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;zoneDateTime1: &quot;</span> <span class="token operator">+</span> zonedDateTime1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">TimeZoneAllEnum</span><span class="token punctuation">.</span><span class="token constant">AMERICA_NOME</span><span class="token punctuation">.</span><span class="token function">getTimeZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ZonedDateTime</span> zonedDateTime2 <span class="token operator">=</span> <span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">TimeZoneAllEnum</span><span class="token punctuation">.</span><span class="token constant">ASIA_SHANGHAI</span><span class="token punctuation">.</span><span class="token function">getTimeZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zonedDateTime2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Instant</span> now <span class="token operator">=</span> <span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间戳=%s\\n&quot;</span><span class="token punctuation">,</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取从1970年1月1日 00:00:00的秒之后的纳秒数</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取从1970年1月1日 00:00:00到现在的秒数</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getEpochSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取从1970年1月1日 00:00:00到现在的毫秒秒数</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 从操作系统获取时间的毫秒数</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">ofEpochSecond</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行结果</p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code><span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T00<span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">39.936</span><span class="token operator">-</span><span class="token number">08</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">[</span>America<span class="token operator">/</span>Nome<span class="token punctuation">]</span>
<span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T16<span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">39.937</span><span class="token operator">+</span><span class="token number">08</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">[</span>Asia<span class="token operator">/</span>Shanghai<span class="token punctuation">]</span>
当前时间戳<span class="token operator">=</span><span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T08<span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">39.937</span>Z
<span class="token number">937000000</span>
<span class="token number">1681719459</span>
<span class="token number">1681719459937</span>
<span class="token number">1681719459941</span>
<span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">05</span>Z
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-7-jdk-8的计算日期时间差类" tabindex="-1"><a class="header-anchor" href="#_8-7-jdk-8的计算日期时间差类" aria-hidden="true">#</a> 8.7 JDK 8的计算日期时间差类</h3><p><code>Duration/Period</code>类: 计算日期时间差。</p><ol><li>Duration：用于计算2个时间(LocalTime，时分秒)的距离</li><li>Period：用于计算2个日期(LocalDate，年月日)的距离</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token comment">// Duration/Period类: 计算日期时间差</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test08</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Duration计算时间的距离</span>
        <span class="token class-name">LocalTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">LocalTime</span> time <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Duration</span> duration <span class="token operator">=</span> <span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>time<span class="token punctuation">,</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;相差的天数:&quot;</span> <span class="token operator">+</span> duration<span class="token punctuation">.</span><span class="token function">toDays</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;相差的小时数:&quot;</span> <span class="token operator">+</span> duration<span class="token punctuation">.</span><span class="token function">toHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;相差的分钟数:&quot;</span> <span class="token operator">+</span> duration<span class="token punctuation">.</span><span class="token function">toMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;相差的秒数:&quot;</span> <span class="token operator">+</span> duration<span class="token punctuation">.</span><span class="token function">toMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;相差的毫秒数:&quot;</span> <span class="token operator">+</span> duration<span class="token punctuation">.</span><span class="token function">toMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Period计算日期的距离</span>
        <span class="token class-name">LocalDate</span> nowDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">LocalDate</span> date <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1998</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 让后面的时间减去前面的时间</span>
        <span class="token class-name">Period</span> period <span class="token operator">=</span> <span class="token class-name">Period</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> nowDate<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;相差的年:&quot;</span> <span class="token operator">+</span> period<span class="token punctuation">.</span><span class="token function">getYears</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;相差的月:&quot;</span> <span class="token operator">+</span> period<span class="token punctuation">.</span><span class="token function">getMonths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;相差的天:&quot;</span> <span class="token operator">+</span> period<span class="token punctuation">.</span><span class="token function">getDays</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>相差的天数<span class="token punctuation">:</span><span class="token number">0</span>
相差的小时数<span class="token punctuation">:</span><span class="token number">2</span>
相差的分钟数<span class="token punctuation">:</span><span class="token number">128</span>
相差的秒数<span class="token punctuation">:</span><span class="token number">7726</span>
相差的毫秒数<span class="token punctuation">:</span><span class="token number">7726369</span>
相差的年<span class="token punctuation">:</span><span class="token number">24</span>
相差的月<span class="token punctuation">:</span><span class="token number">8</span>
相差的天<span class="token punctuation">:</span><span class="token number">9</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-8-jdk-8的时间校正器" tabindex="-1"><a class="header-anchor" href="#_8-8-jdk-8的时间校正器" aria-hidden="true">#</a> 8.8 JDK 8的时间校正器</h3><p>有时我们可能需要获取例如：将日期调整到“下一个月的第一天”等操作。可以通过时间校正器来进行。</p><ul><li><p><code>TemporalAdjuster</code> : 时间校正器。</p></li><li><p><code>TemporalAdjusters</code> : 该类通过静态方法提供了大量的常用TemporalAdjuster的实现。</p></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token comment">// TemporalAdjuster类:自定义调整时间</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test09</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 得到下一个月的第一天</span>
        <span class="token class-name">TemporalAdjuster</span> temporalAdjuster <span class="token operator">=</span> temporal <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">)</span> temporal<span class="token punctuation">;</span>
            <span class="token keyword">return</span> localDateTime<span class="token punctuation">.</span><span class="token function">plusMonths</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withDayOfMonth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间: &quot;</span> <span class="token operator">+</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 打印下个月的第一天的此时时间</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;下个月一号, 此时时间:&quot;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span>temporalAdjuster<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>当前时间<span class="token punctuation">:</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T16<span class="token punctuation">:</span><span class="token number">31</span><span class="token punctuation">:</span><span class="token number">41.455</span>
下个月一号<span class="token punctuation">,</span> 此时时间<span class="token punctuation">:</span><span class="token number">2023</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span>T16<span class="token punctuation">:</span><span class="token number">31</span><span class="token punctuation">:</span><span class="token number">41.455</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-9-jdk-8设置日期时间的时区" tabindex="-1"><a class="header-anchor" href="#_8-9-jdk-8设置日期时间的时区" aria-hidden="true">#</a> 8.9 JDK 8设置日期时间的时区</h3><p>Java8 中加入了对时区的支持，<code>LocalDate、LocalTime、LocalDateTime</code>是不带时区的，带时区的日期时间类分别 为：<code>ZonedDate、ZonedTime、ZonedDateTime</code>。</p><p>其中每个时区都对应着 ID，ID的格式为 “<code>区域/城市</code>” 。例如 ：<code>Asia/Shanghai</code> 等。</p><p>ZoneId：该类中包含了所有的时区信息。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token comment">// 设置日期时间的时区</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test10</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1.获取所有的时区ID</span>
        <span class="token comment">// ZoneId.getAvailableZoneIds().forEach(System.out::println);</span>
        <span class="token comment">// 不带时间,获取计算机的当前时间</span>
        <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 中国使用的东八区的时区.比标准时间晚8个小时</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now = &quot;</span> <span class="token operator">+</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2.操作带时区的类</span>
        <span class="token comment">// now(Clock.systemUTC()): 创建世界标准时间</span>
        <span class="token class-name">ZonedDateTime</span> bz <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token class-name">Clock</span><span class="token punctuation">.</span><span class="token function">systemUTC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;bz = &quot;</span> <span class="token operator">+</span> bz<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// now(): 使用计算机的默认的时区,创建日期时间</span>
        <span class="token class-name">ZonedDateTime</span> now1 <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now1 = &quot;</span> <span class="token operator">+</span> now1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2023-04-17T16:36:45.280+08:00[Asia/Shanghai]</span>
        <span class="token comment">// 使用指定的时区创建日期时间</span>
        <span class="token class-name">ZonedDateTime</span> now2 <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">TimeZoneAllEnum</span><span class="token punctuation">.</span><span class="token constant">AMERICA_VANCOUVER</span><span class="token punctuation">.</span><span class="token function">getTimeZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now2 = &quot;</span> <span class="token operator">+</span> now2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2023-04-17T01:36:45.290-07:00[America/Vancouver]</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>now <span class="token operator">=</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T16<span class="token punctuation">:</span><span class="token number">36</span><span class="token punctuation">:</span><span class="token number">45.279</span>
bz <span class="token operator">=</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T08<span class="token punctuation">:</span><span class="token number">36</span><span class="token punctuation">:</span><span class="token number">45.280</span>Z
now1 <span class="token operator">=</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T16<span class="token punctuation">:</span><span class="token number">36</span><span class="token punctuation">:</span><span class="token number">45.280</span><span class="token operator">+</span><span class="token number">08</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">[</span>Asia<span class="token operator">/</span>Shanghai<span class="token punctuation">]</span>
now2 <span class="token operator">=</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">17</span>T01<span class="token punctuation">:</span><span class="token number">36</span><span class="token punctuation">:</span><span class="token number">45.290</span><span class="token operator">-</span><span class="token number">07</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">[</span>America<span class="token operator">/</span>Vancouver<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-10-小结" tabindex="-1"><a class="header-anchor" href="#_8-10-小结" aria-hidden="true">#</a> 8.10 小结</h3><p>详细学习了新的日期是时间相关类，<code>LocalDate</code>表示日期,包含年月日, <code>LocalTime</code>表示时间,包含时分秒, <code>LocalDateTime = LocalDate + LocalTime</code>,时间的格式化和解析,通过<code>DateTimeFormatter</code>类型进行。</p><p>学习了<code>Instant</code>类,方便操作秒和纳秒,一般是给程序使用的.学习<code>Duration/Period</code>计算日期或时间的距离,还使用时间调整器方便的调整时间,学习了带时区的3个类<code>ZoneDate/ZoneTime/ZoneDateTime</code></p><p>JDK 8新的日期和时间 API的优势：</p><ol><li>新版的日期和时间API中，日期和时间对象是不可变的。操纵的日期不会影响老值，而是新生成一个实例。</li><li>新的API提供了两种不同的时间表示方式，有效地区分了人和机器的不同需求。</li><li>TemporalAdjuster可以更精确的操纵日期，还可以自定义日期调整器。</li><li>是线程安全的</li></ol><h2 id="_9-学习jdk-8重复注解与类型注解" tabindex="-1"><a class="header-anchor" href="#_9-学习jdk-8重复注解与类型注解" aria-hidden="true">#</a> 9 学习JDK 8重复注解与类型注解</h2><h3 id="_9-1-目标" tabindex="-1"><a class="header-anchor" href="#_9-1-目标" aria-hidden="true">#</a> 9.1 目标</h3><ul><li>掌握重复注解的使用</li><li>掌握类型注解的使用</li></ul><h3 id="_9-2-重复注解的使用" tabindex="-1"><a class="header-anchor" href="#_9-2-重复注解的使用" aria-hidden="true">#</a> 9.2 重复注解的使用</h3><p>自从Java 5中引入 注解 以来，注解开始变得非常流行，并在各个框架和项目中被广泛使用。不过注解有一个很大的限制是：在同一个地方不能多次使用同一个注解。JDK 8引入了重复注解的概念，允许在同一个地方多次使用同一个注解。在JDK 8中使用<code>@Repeatable</code>注解定义重复注解。</p><p>重复注解的使用步骤：</p><h4 id="_9-2-1-定义重复的注解容器注解" tabindex="-1"><a class="header-anchor" href="#_9-2-1-定义重复的注解容器注解" aria-hidden="true">#</a> 9.2.1 定义重复的注解容器注解</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a05</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Retention</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RetentionPolicy</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyTestsAnno</span> <span class="token punctuation">{</span>
    <span class="token class-name">MyTestAnno</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_9-2-2-定义一个可以重复的注解" tabindex="-1"><a class="header-anchor" href="#_9-2-2-定义一个可以重复的注解" aria-hidden="true">#</a> 9.2.2 定义一个可以重复的注解</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a05</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> lyf
 * <span class="token keyword">@version</span> 1.0
 * <span class="token keyword">@classname</span> MyTestAnno
 * <span class="token keyword">@description</span>
 * <span class="token keyword">@since</span> 2023/4/17 16:44
 */</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Repeatable</span><span class="token punctuation">(</span><span class="token class-name">MyTestsAnno</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyTestAnno</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_9-2-3-配置多个重复的注解" tabindex="-1"><a class="header-anchor" href="#_9-2-3-配置多个重复的注解" aria-hidden="true">#</a> 9.2.3 配置多个重复的注解</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a05</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> lyf
 * <span class="token keyword">@version</span> 1.0
 * <span class="token keyword">@classname</span> RepeatableAnnoDemo
 * <span class="token keyword">@description</span> 重复注解测试
 * <span class="token keyword">@since</span> 2023/4/17 16:47
 */</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@MyTestAnno</span><span class="token punctuation">(</span><span class="token string">&quot;tbc&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@MyTestAnno</span><span class="token punctuation">(</span><span class="token string">&quot;tba&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@MyTestAnno</span><span class="token punctuation">(</span><span class="token string">&quot;tba&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RepeatableAnnoDemo</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@MyTestAnno</span><span class="token punctuation">(</span><span class="token string">&quot;mbc&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@MyTestAnno</span><span class="token punctuation">(</span><span class="token string">&quot;mba&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">NoSuchMethodException</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_9-2-4-解析得到指定注解" tabindex="-1"><a class="header-anchor" href="#_9-2-4-解析得到指定注解" aria-hidden="true">#</a> 9.2.4 解析得到指定注解</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">NoSuchMethodException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RepeatableAnnoDemo</span><span class="token punctuation">&gt;</span></span> clazz <span class="token operator">=</span> <span class="token class-name">RepeatableAnnoDemo</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取类上的所有注解</span>
        <span class="token class-name">MyTestAnno</span><span class="token punctuation">[</span><span class="token punctuation">]</span> myTestAnnosAtClass <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getAnnotationsByType</span><span class="token punctuation">(</span><span class="token class-name">MyTestAnno</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">MyTestAnno</span> myTestAnno <span class="token operator">:</span> myTestAnnosAtClass<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;class, &quot;</span> <span class="token operator">+</span> myTestAnno<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 获取方法上的所有注解</span>
        <span class="token class-name">Method</span> testMethod <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MyTestAnno</span><span class="token punctuation">[</span><span class="token punctuation">]</span> myTestAnnosAtMethod <span class="token operator">=</span> testMethod<span class="token punctuation">.</span><span class="token function">getAnnotationsByType</span><span class="token punctuation">(</span><span class="token class-name">MyTestAnno</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">MyTestAnno</span> myTestAnno <span class="token operator">:</span> myTestAnnosAtMethod<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;method, &quot;</span> <span class="token operator">+</span> myTestAnno<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_9-2-5-运行结果" tabindex="-1"><a class="header-anchor" href="#_9-2-5-运行结果" aria-hidden="true">#</a> 9.2.5 运行结果</h4><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code><span class="token keyword">class</span><span class="token punctuation">,</span> tbc
<span class="token keyword">class</span><span class="token punctuation">,</span> tba
<span class="token keyword">class</span><span class="token punctuation">,</span> tba
method<span class="token punctuation">,</span> mbc
method<span class="token punctuation">,</span> mba
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-3-类型注解的使用" tabindex="-1"><a class="header-anchor" href="#_9-3-类型注解的使用" aria-hidden="true">#</a> 9.3 类型注解的使用</h3><p>JDK 8为<code>@Target</code>元注解新增了两种类型： <code>TYPE_PARAMETER</code> ， <code>TYPE_USE</code> 。</p><p><code>TYPE_PARAMETER</code> ：表示该注解能写在类型参数的声明语句中。 类型参数声明如： <code>&lt;T&gt;</code> 、<code>TYPE_USE</code> ：表示注解可以在任何用到类型的地方使用。</p><p><code>TYPE_PARAMETER</code>的使用</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a06</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ElementType</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Target</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> lyf
 * <span class="token keyword">@version</span> 1.0
 * <span class="token keyword">@classname</span> TypeParam
 * <span class="token keyword">@description</span>
 * <span class="token keyword">@since</span> 2023/4/17 17:01
 */</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">TYPE_PARAMETER</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">TypeParam</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a06</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> lyf
 * <span class="token keyword">@version</span> 1.0
 * <span class="token keyword">@classname</span> TypeParamDemo
 * <span class="token keyword">@description</span>
 * <span class="token keyword">@since</span> 2023/4/17 17:02
 */</span>
<span class="token annotation punctuation">@Slf4j</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TypeParamDemo</span><span class="token operator">&lt;</span><span class="token annotation punctuation">@TypeParam</span> <span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TypeParamDemo</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> demo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TypeParamDemo</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        demo<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token operator">&lt;</span><span class="token annotation punctuation">@TypeParam</span> <span class="token class-name">E</span><span class="token operator">&gt;</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行结果</strong></p><div class="language-verilog line-numbers-mode" data-ext="verilog"><pre class="language-verilog"><code>张三
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>TYPE_USE</code>的使用</p><p><strong>定义NotNull注解</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a06</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ElementType</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Target</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> lyf
 * <span class="token keyword">@version</span> 1.0
 * <span class="token keyword">@classname</span> NotNull
 * <span class="token keyword">@description</span>
 * <span class="token keyword">@since</span> 2023/4/17 17:05
 */</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">TYPE_USE</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">NotNull</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>使用<code>@NotNull</code>注解</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>lyf<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>demo5<span class="token punctuation">.</span>a06</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> lyf
 * <span class="token keyword">@version</span> 1.0
 * <span class="token keyword">@classname</span> TypeParamDemo
 * <span class="token keyword">@description</span>
 * <span class="token keyword">@since</span> 2023/4/17 17:02
 */</span>
<span class="token annotation punctuation">@Slf4j</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TypeParamDemo</span><span class="token operator">&lt;</span><span class="token annotation punctuation">@TypeParam</span> <span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token annotation punctuation">@NotNull</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TypeParamDemo</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> demo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TypeParamDemo</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        demo<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 测试NotNull注解</span>
        <span class="token annotation punctuation">@NotNull</span> <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token annotation punctuation">@NotNull</span> <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token annotation punctuation">@NotNull</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;xyz&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token operator">&lt;</span><span class="token annotation punctuation">@TypeParam</span> <span class="token class-name">E</span><span class="token operator">&gt;</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-4-小结" tabindex="-1"><a class="header-anchor" href="#_9-4-小结" aria-hidden="true">#</a> 9.4 小结</h3><p>通过<code>@Repeatable</code>元注解可以定义可重复注解， <code>TYPE_PARAMETER</code> 可以让注解放在泛型上， <code>TYPE_USE</code>可以让注解放在类型的前面</p>`,721);function O(D,U){const t=e("font");return o(),c("div",null,[x,s("p",null,[n("Lambda是一个"),s("strong",null,[l(t,{color:"red"},{default:u(()=>[n("匿名函数")]),_:1})]),n("，可以理解为一段可以传递的代码。")]),P])}const K=p(M,[["render",O],["__file","JDK8新特性.html.vue"]]);export{K as default};
